/*!
 * @architect Mark Jivko <mark@oglama.com>
 * @copyright © 2026 Oglama (https://oglama.com)
 * 
 * Licensed under the Oglama™ Source-Available License, Version 1.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     https://github.com/oglama/dos/blob/main/LICENSE.txt
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var te=Object.defineProperty;var E=s=>{throw TypeError(s)};var se=(s,r,e)=>r in s?te(s,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):s[r]=e;var d=(s,r)=>()=>(r||s((r={exports:{}}).exports,r),r.exports);var t=(s,r,e)=>se(s,typeof r!="symbol"?r+"":r,e),F=(s,r,e)=>r.has(s)||E("Cannot "+e);var i=(s,r,e)=>(F(s,r,"read from private field"),e?e.call(s):r.get(s)),l=(s,r,e)=>r.has(s)?E("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(s):r.set(s,e),h=(s,r,e,n)=>(F(s,r,"write to private field"),n?n.call(s,e):r.set(s,e),e);var S=d((ke,R)=>{var O;R.exports=(O=class{static generateKey(){return"".concat(Date.now().toString(36)).concat(Math.random().toString(36).substring(2,13))}},t(O,"WINDOW_MAIN_LOGIN","@main/login"),t(O,"WINDOW_MAIN","@main"),O)});var w=d((Ne,W)=>{var m,y,I;W.exports=(m=class{constructor(){l(this,y,{});l(this,I,null)}_register(r){if(typeof r=="string")for(let e of Object.getOwnPropertyNames(this))["_","#"].includes(e[0])||typeof this[e]!="function"||(i(this,y)[e]="ipc:".concat(r,":").concat(e))}_runner(r,...e){let n=function(o,p,a){this.run=async function(){let c=null;if(typeof i(o,y)[p]=="string"){if(i(o,I)===null)try{h(o,I,require("electron").ipcRenderer)}catch{}c=typeof i(o,I)?.invoke=="function"?await i(o,I).invoke(i(o,y)[p],...a):null}if(c instanceof Error)throw new Error("".concat(m.devMode?"".concat(i(o,y)[p]," "):"").concat(c.message??c));return c}};return new n(this,r,e)}async _promise(r,...e){return await this._runner(r,...e).run()}},y=new WeakMap,I=new WeakMap,t(m,"devMode",!1),m)});var T=d((Oe,C)=>{var ie=w();C.exports=class extends ie{constructor(){super();t(this,"install",()=>this._promise("install"));t(this,"check",()=>this._promise("check"));this._register("updater")}}});var L=d((De,U)=>{var oe=w();U.exports=class extends oe{constructor(){super();t(this,"getOS",()=>this._promise("getOS"));t(this,"getName",()=>this._promise("getName"));t(this,"getUUID",()=>this._promise("getUUID"));t(this,"getSerialNumber",()=>this._promise("getSerialNumber"));t(this,"getRam",()=>this._promise("getRam"));t(this,"getCpuArch",()=>this._promise("getCpuArch"));t(this,"getCpuName",()=>this._promise("getCpuName"));t(this,"getFileSize",e=>this._promise("getFileSize",e));t(this,"getPostAuth",()=>this._promise("getPostAuth"));t(this,"setPostAuth",e=>this._promise("setPostAuth",!!e));t(this,"showFileInFolder",e=>this._promise("showFileInFolder",e));t(this,"showFileSelector",(e,n=[],o=!1)=>this._promise("showFileSelector",e,n,o));t(this,"sendRequest",(e,n="GET",o={},p={},a=!0,c=60,u=!0)=>this._promise("sendRequest",e,n,o,p,a,c,u));t(this,"openURL",e=>this._promise("openURL","".concat(e)));t(this,"logError",(e,n="")=>this._promise("logError",e,n));this._register("device")}}});var H=d((Fe,j)=>{var ne=w();j.exports=class extends ne{constructor(){super();t(this,"focus",()=>this._promise("focus"));this._register("main/login")}}});var K=d((Ce,z)=>{var ae=w(),ce=H(),q,G;z.exports=(G=class extends ae{constructor(e=!0){super();t(this,"login",null);l(this,q,null);t(this,"focus",()=>this._promise("focus"));t(this,"setDarkMode",e=>this._promise("setDarkMode",!!e));t(this,"getDarkMode",()=>this._promise("getDarkMode"));t(this,"getProcessVersions",()=>this._promise("getProcessVersions"));t(this,"getPathForFile",e=>{if(i(this,q)===null)try{h(this,q,require("electron").webUtils)}catch{}return i(this,q)?.getPathForFile(e)||""});t(this,"grabScreenshot",()=>this._promise("grabScreenshot"));t(this,"getPassThru",()=>this._promise("getPassThru"));t(this,"setPassThru",(e=!0)=>this._promise("setPassThru",e));t(this,"getToolbar",()=>this._promise("getToolbar"));t(this,"setToolbar",e=>this._promise("setToolbar",e));t(this,"refreshDisplay",()=>this._promise("refreshDisplay"));t(this,"quit",()=>this._promise("quit"));this._register("main"),e&&(this.login=new ce)}},q=new WeakMap,G)});var D=d((Le,B)=>{var{ipcRenderer:x,contextBridge:le}=require("electron"),pe=T(),he=L(),ue=K(),de=w(),_e=S(),_,$,f,k,V;B.exports=(V=class{constructor(r,e=!0){l(this,_,"");l(this,$,{});l(this,f,{});l(this,k,{});let n=this;h(this,_,r),de.devMode=!1,h(this,k,{irc:{handle:(...o)=>this.handle.call(this,...o),send:(...o)=>this.send.call(this,...o),invoke:async(...o)=>await this.invoke.call(this,...o),winName:i(this,_)},ipc:{updater:new pe,device:new he,main:new ue},devMode:!1}),x.on(i(this,_),(o,p)=>{if(p.length<3)return;let[a,c,u]=p,{type:b,fromWin:A,promiseId:v}=u??{};if(b==="req")(async()=>{let g=null;try{if(typeof a!="string"||typeof i(n,$)[a]!="function")throw new Error('Inter-Renderer Communication: handle "'.concat(a,'" not declared yet'));Array.isArray(c)||(c=[]),g=await i(n,$)[a](...c)}catch(P){let re=i(n,_);g=new Error("".concat(re,"(").concat(JSON.stringify(a),") ").concat(P.message??P))}typeof A=="string"&&typeof v=="string"&&x.send(A,a,g,{type:"res",promiseId:v})})();else{let g=typeof v=="string"?"".concat(a,":").concat(v):null;if(g!==null){let P=i(n,f)[g]??null;P!==null&&(c instanceof Error?P.reject(c):P.resolve(c),delete i(n,f)[g])}}}),e&&le.exposeInMainWorld("sdk",i(this,k))}getSdk(){return i(this,k)}handle(r,e){typeof r=="string"&&typeof e=="function"&&(i(this,$)[r]=e)}send(r,e,n){do{if(typeof r!="string"||typeof e!="string")break;Array.isArray(n)||(n=[]),x.send(r,e,n,{type:"req",fromWin:i(this,_)})}while(!1)}async invoke(r,e,n,o=0){let p=this;if(typeof r!="string"||typeof e!="string")return null;Array.isArray(n)||(n=[]),o=parseInt(o,10),(!Number.isInteger(o)||o<0)&&(o=0);let a=_e.generateKey(),c=new Promise((u,b)=>{i(this,f)["".concat(e,":").concat(a)]={resolve:u,reject:b,toWinName:r}});return o>0&&setTimeout(()=>{let u=typeof a=="string"?"".concat(e,":").concat(a):null;if(typeof i(p,f)[u]<"u"){try{i(p,f)[u].reject(new Error("".concat(e,"() timed out")))}catch{}delete i(p,f)[u]}},o*1e3),x.send(r,e,n,{type:"req",fromWin:i(this,_),promiseId:a}),c}},_=new WeakMap,$=new WeakMap,f=new WeakMap,k=new WeakMap,V)});var X=d((Ge,Q)=>{var fe=S(),ge=D(),M,J;Q.exports=(J=class{constructor(){l(this,M);h(this,M,new ge(fe.WINDOW_MAIN_LOGIN).getSdk());for(let r of Object.getOwnPropertyNames(this))typeof this[r]=="function"&&i(this,M).irc.handle(r,this[r])}},M=new WeakMap,J)});var ee=d((Ve,Z)=>{var me=S(),ye=D(),N,Y;Z.exports=(Y=class{constructor(){l(this,N);h(this,N,new ye(me.WINDOW_MAIN).getSdk());for(let r of Object.getOwnPropertyNames(this))typeof this[r]=="function"&&i(this,N).irc.handle(r,this[r])}},N=new WeakMap,Y)});var Ie=X(),Pe=ee(),we=process.argv.filter(s=>s.indexOf("--win-type=")>=0).shift();switch("".concat(we).split("=")[1]){case"main/login":new Ie;break;default:new Pe}
