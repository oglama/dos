/*!
 * @architect Mark Jivko <mark@oglama.com>
 * @copyright © 2026 Oglama (https://oglama.com)
 * 
 * Licensed under the Oglama™ Source-Available License, Version 1.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     https://github.com/oglama/dos/blob/main/LICENSE.txt
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pS=Object.defineProperty;var kh=e=>{throw TypeError(e)};var mS=(e,t,r)=>t in e?pS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var q=(e,t,r)=>mS(e,typeof t!="symbol"?t+"":t,r),rl=(e,t,r)=>t.has(e)||kh("Cannot "+r);var _=(e,t,r)=>(rl(e,t,"read from private field"),r?r.call(e):t.get(e)),H=(e,t,r)=>t.has(e)?kh("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),V=(e,t,r,n)=>(rl(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),ae=(e,t,r)=>(rl(e,t,"access private method"),r);var Rn=y((HU,Fh)=>{var hs;Fh.exports=(hs=class{static generateKey(){return"".concat(Date.now().toString(36)).concat(Math.random().toString(36).substring(2,13))}},q(hs,"WINDOW_MAIN_LOGIN","@main/login"),q(hs,"WINDOW_MAIN","@main"),hs)});var Rr=y((WU,Uh)=>{Uh.exports=class{constructor(t){q(this,"_dos");this._dos=t}}});var $h=y((QU,Mh)=>{var kr=require("path"),gS=require("http"),kn=require("fs"),yS=Rr(),nl;Mh.exports=(nl=class extends yS{async start(){if(this.constructor._servers===null){let t=kr.join(this._dos.rootPath,"ssg");this.constructor._servers={ssg:new Promise((r,n)=>{try{let i=gS.createServer((s,o)=>{let a=".empty";try{let f=new URL(s.url,"http://0.0.0.0");a=kr.resolve(decodeURIComponent(f.pathname)).replace(/^[a-z]:/gi,"")}catch{}let l=kr.join(t,a),c=200;kn.existsSync(l)&&kn.statSync(l).isDirectory()&&(l=kr.join(l,"index.html")),kn.existsSync(l)||(l=kr.join(t,"404/index.html"),c=404),o.writeHead(c,{"Content-Length":kn.statSync(l).size,"Content-Type":{".js":"application/javascript",".json":"application/json",".woff2":"font/woff2",".html":"text/html",".txt":"text/plain",".css":"text/css",".ico":"image/x-icon",".jpeg":"image/jpeg",".jpg":"image/jpeg",".png":"image/png",".gif":"image/gif",".svg":"image/svg+xml"}[kr.extname(l)]||"application/octet-stream"}),kn.createReadStream(l).pipe(o)});i.listen(this._dos.config.getSsgPort(),()=>{this._dos.log.info("ssg-server:start","Listening on port ".concat(this._dos.config.getSsgPort())),r(i)})}catch(i){this._dos.log.error("ssg-server:start",i),n(i)}})}}return this.constructor._servers}},q(nl,"_servers",null),nl)});var Fr=y((JU,Bh)=>{var Fn;Bh.exports=(Fn=class{},q(Fn,"WINDOWS","win32"),q(Fn,"MACOS","darwin"),q(Fn,"LINUX","linux"),Fn)});var Wh=y((tM,Gh)=>{var{app:AS,screen:ds,Tray:wS,Menu:ES,globalShortcut:vS}=require("electron"),jh=require("path"),ps=Fr(),bS=Rr(),Hh="CommandOrControl+Shift+Backspace",Tt,Vh;Gh.exports=(Vh=class extends bS{constructor(r){super(r);q(this,"_showMessageBox",null);H(this,Tt,null);ds.on("display-added",()=>{this._dos.main.refreshDisplay()}),ds.on("display-removed",()=>{this._dos.main.refreshDisplay()}),ds.on("display-metrics-changed",()=>{this._dos.main.refreshDisplay()}),V(this,Tt,new wS(jh.join(this._dos.rootPath,"res","icons",ps.MACOS===process.platform?"iconTemplate@2x.png":ps.WINDOWS===process.platform?"icon.ico":"icon.png"))),_(this,Tt).setToolTip("Draw on Screen"),_(this,Tt).on("click",()=>{_(this,Tt).popUpContextMenu()}),vS.register(Hh,()=>{this._dos.main.setPassThru(!this._dos.main.getPassThru())})}refreshTray(){let r=[];r.push({label:"Pass-through".concat(ps.LINUX===process.platform?"	(Ctrl+Shift+Backspace)":""),type:"checkbox",checked:this._dos.main.getPassThru(),accelerator:ps.LINUX===process.platform?null:Hh,click:()=>this._dos.main.setPassThru(!this._dos.main.getPassThru())});let n=ds.getAllDisplays();r.push({label:Array.isArray(n)&&n.length>1?"Switch display":"Identify display",click:()=>this._dos.main.switchDisplay()}),r.push({label:"Toolbar",type:"checkbox",checked:this._dos.main.getToolbar(),click:()=>this._dos.main.setToolbar(!this._dos.main.getToolbar())}),r.push({type:"separator"}),r.push({label:"Quit",role:"quit",click:()=>AS.quit()}),_(this,Tt).setContextMenu(ES.buildFromTemplate(r))}async start(){let r=jh.join(this._dos.rootPath,"res","index.html"),n={extraHeaders:"pragma: no-cache"};this._dos.mainWindow().loadFile(r,n),this._dos.mainLoginWindow().loadFile(r,n),this._dos.mainWindow().hide(),this._dos.mainLoginWindow().show(),this._dos.main.refreshDisplay()}},Tt=new WeakMap,Vh)});var Kh=y((iM,Yh)=>{var SS=Rr();Yh.exports=class extends SS{error(){console.error("%cdos-error","color:red",...arguments)}info(){console.info("%cdos-info","color:lightblue",...arguments)}}});var zh=y((oM,Qh)=>{var _S=Rr();Qh.exports=class extends _S{getMainLoginWidth(){return 512}getMainLoginHeight(){return 512}getSsgPort(){return 7195}}});var ke=y(il=>{"use strict";il.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((i,s)=>i!=null?n(i):r(s)),e.apply(this,t)})},"name",{value:e.name})};il.fromPromise=function(e){return Object.defineProperty(function(...t){let r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})}});var Jh=y((lM,Xh)=>{var Nt=require("constants"),CS=process.cwd,ms=null,TS=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return ms||(ms=CS.call(process)),ms};try{process.cwd()}catch{}typeof process.chdir=="function"&&(sl=process.chdir,process.chdir=function(e){ms=null,sl.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,sl));var sl;Xh.exports=NS;function NS(e){Nt.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(f,u,h){h&&process.nextTick(h)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(f,u,h,p){p&&process.nextTick(p)},e.lchownSync=function(){}),TS==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:(function(f){function u(h,p,w){var g=Date.now(),E=0;f(h,p,function S(b){if(b&&(b.code==="EACCES"||b.code==="EPERM"||b.code==="EBUSY")&&Date.now()-g<6e4){setTimeout(function(){e.stat(p,function(T,N){T&&T.code==="ENOENT"?f(h,p,S):w(b)})},E),E<100&&(E+=10);return}w&&w(b)})}return Object.setPrototypeOf&&Object.setPrototypeOf(u,f),u})(e.rename)),e.read=typeof e.read!="function"?e.read:(function(f){function u(h,p,w,g,E,S){var b;if(S&&typeof S=="function"){var T=0;b=function(N,R,I){if(N&&N.code==="EAGAIN"&&T<10)return T++,f.call(e,h,p,w,g,E,b);S.apply(this,arguments)}}return f.call(e,h,p,w,g,E,b)}return Object.setPrototypeOf&&Object.setPrototypeOf(u,f),u})(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:(function(f){return function(u,h,p,w,g){for(var E=0;;)try{return f.call(e,u,h,p,w,g)}catch(S){if(S.code==="EAGAIN"&&E<10){E++;continue}throw S}}})(e.readSync);function t(f){f.lchmod=function(u,h,p){f.open(u,Nt.O_WRONLY|Nt.O_SYMLINK,h,function(w,g){if(w){p&&p(w);return}f.fchmod(g,h,function(E){f.close(g,function(S){p&&p(E||S)})})})},f.lchmodSync=function(u,h){var p=f.openSync(u,Nt.O_WRONLY|Nt.O_SYMLINK,h),w=!0,g;try{g=f.fchmodSync(p,h),w=!1}finally{if(w)try{f.closeSync(p)}catch{}else f.closeSync(p)}return g}}function r(f){Nt.hasOwnProperty("O_SYMLINK")&&f.futimes?(f.lutimes=function(u,h,p,w){f.open(u,Nt.O_SYMLINK,function(g,E){if(g){w&&w(g);return}f.futimes(E,h,p,function(S){f.close(E,function(b){w&&w(S||b)})})})},f.lutimesSync=function(u,h,p){var w=f.openSync(u,Nt.O_SYMLINK),g,E=!0;try{g=f.futimesSync(w,h,p),E=!1}finally{if(E)try{f.closeSync(w)}catch{}else f.closeSync(w)}return g}):f.futimes&&(f.lutimes=function(u,h,p,w){w&&process.nextTick(w)},f.lutimesSync=function(){})}function n(f){return f&&function(u,h,p){return f.call(e,u,h,function(w){c(w)&&(w=null),p&&p.apply(this,arguments)})}}function i(f){return f&&function(u,h){try{return f.call(e,u,h)}catch(p){if(!c(p))throw p}}}function s(f){return f&&function(u,h,p,w){return f.call(e,u,h,p,function(g){c(g)&&(g=null),w&&w.apply(this,arguments)})}}function o(f){return f&&function(u,h,p){try{return f.call(e,u,h,p)}catch(w){if(!c(w))throw w}}}function a(f){return f&&function(u,h,p){typeof h=="function"&&(p=h,h=null);function w(g,E){E&&(E.uid<0&&(E.uid+=4294967296),E.gid<0&&(E.gid+=4294967296)),p&&p.apply(this,arguments)}return h?f.call(e,u,h,w):f.call(e,u,w)}}function l(f){return f&&function(u,h){var p=h?f.call(e,u,h):f.call(e,u);return p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),p}}function c(f){if(!f||f.code==="ENOSYS")return!0;var u=!process.getuid||process.getuid()!==0;return!!(u&&(f.code==="EINVAL"||f.code==="EPERM"))}}});var td=y((cM,ed)=>{var Zh=require("stream").Stream;ed.exports=OS;function OS(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);Zh.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(f,u){if(f){s.emit("error",f),s.readable=!1;return}s.fd=u,s.emit("open",u),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Zh.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var nd=y((uM,rd)=>{"use strict";rd.exports=PS;var IS=Object.getPrototypeOf||function(e){return e.__proto__};function PS(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:IS(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var Ne=y((fM,ll)=>{var oe=require("fs"),DS=Jh(),qS=td(),LS=nd(),gs=require("util"),we,As;typeof Symbol=="function"&&typeof Symbol.for=="function"?(we=Symbol.for("graceful-fs.queue"),As=Symbol.for("graceful-fs.previous")):(we="___graceful-fs.queue",As="___graceful-fs.previous");function xS(){}function od(e,t){Object.defineProperty(e,we,{get:function(){return t}})}var ir=xS;gs.debuglog?ir=gs.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(ir=function(){var e=gs.format.apply(gs,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)});oe[we]||(id=global[we]||[],od(oe,id),oe.close=(function(e){function t(r,n){return e.call(oe,r,function(i){i||sd(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,As,{value:e}),t})(oe.close),oe.closeSync=(function(e){function t(r){e.apply(oe,arguments),sd()}return Object.defineProperty(t,As,{value:e}),t})(oe.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){ir(oe[we]),require("assert").equal(oe[we].length,0)}));var id;global[we]||od(global,oe[we]);ll.exports=ol(LS(oe));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!oe.__patched&&(ll.exports=ol(oe),oe.__patched=!0);function ol(e){DS(e),e.gracefulify=ol,e.createReadStream=R,e.createWriteStream=I;var t=e.readFile;e.readFile=r;function r(O,$,x){return typeof $=="function"&&(x=$,$=null),B(O,$,x);function B(se,ie,Z,U){return t(se,ie,function(Q){Q&&(Q.code==="EMFILE"||Q.code==="ENFILE")?Ur([B,[se,ie,Z],Q,U||Date.now(),Date.now()]):typeof Z=="function"&&Z.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(O,$,x,B){return typeof x=="function"&&(B=x,x=null),se(O,$,x,B);function se(ie,Z,U,Q,le){return n(ie,Z,U,function(z){z&&(z.code==="EMFILE"||z.code==="ENFILE")?Ur([se,[ie,Z,U,Q],z,le||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=o);function o(O,$,x,B){return typeof x=="function"&&(B=x,x=null),se(O,$,x,B);function se(ie,Z,U,Q,le){return s(ie,Z,U,function(z){z&&(z.code==="EMFILE"||z.code==="ENFILE")?Ur([se,[ie,Z,U,Q],z,le||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=l);function l(O,$,x,B){return typeof x=="function"&&(B=x,x=0),se(O,$,x,B);function se(ie,Z,U,Q,le){return a(ie,Z,U,function(z){z&&(z.code==="EMFILE"||z.code==="ENFILE")?Ur([se,[ie,Z,U,Q],z,le||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var c=e.readdir;e.readdir=u;var f=/^v[0-5]\./;function u(O,$,x){typeof $=="function"&&(x=$,$=null);var B=f.test(process.version)?function(Z,U,Q,le){return c(Z,se(Z,U,Q,le))}:function(Z,U,Q,le){return c(Z,U,se(Z,U,Q,le))};return B(O,$,x);function se(ie,Z,U,Q){return function(le,z){le&&(le.code==="EMFILE"||le.code==="ENFILE")?Ur([B,[ie,Z,U],le,Q||Date.now(),Date.now()]):(z&&z.sort&&z.sort(),typeof U=="function"&&U.call(this,le,z))}}}if(process.version.substr(0,4)==="v0.8"){var h=qS(e);S=h.ReadStream,T=h.WriteStream}var p=e.ReadStream;p&&(S.prototype=Object.create(p.prototype),S.prototype.open=b);var w=e.WriteStream;w&&(T.prototype=Object.create(w.prototype),T.prototype.open=N),Object.defineProperty(e,"ReadStream",{get:function(){return S},set:function(O){S=O},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return T},set:function(O){T=O},enumerable:!0,configurable:!0});var g=S;Object.defineProperty(e,"FileReadStream",{get:function(){return g},set:function(O){g=O},enumerable:!0,configurable:!0});var E=T;Object.defineProperty(e,"FileWriteStream",{get:function(){return E},set:function(O){E=O},enumerable:!0,configurable:!0});function S(O,$){return this instanceof S?(p.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function b(){var O=this;A(O.path,O.flags,O.mode,function($,x){$?(O.autoClose&&O.destroy(),O.emit("error",$)):(O.fd=x,O.emit("open",x),O.read())})}function T(O,$){return this instanceof T?(w.apply(this,arguments),this):T.apply(Object.create(T.prototype),arguments)}function N(){var O=this;A(O.path,O.flags,O.mode,function($,x){$?(O.destroy(),O.emit("error",$)):(O.fd=x,O.emit("open",x))})}function R(O,$){return new e.ReadStream(O,$)}function I(O,$){return new e.WriteStream(O,$)}var M=e.open;e.open=A;function A(O,$,x,B){return typeof x=="function"&&(B=x,x=null),se(O,$,x,B);function se(ie,Z,U,Q,le){return M(ie,Z,U,function(z,Ct){z&&(z.code==="EMFILE"||z.code==="ENFILE")?Ur([se,[ie,Z,U,Q],z,le||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}return e}function Ur(e){ir("ENQUEUE",e[0].name,e[1]),oe[we].push(e),al()}var ys;function sd(){for(var e=Date.now(),t=0;t<oe[we].length;++t)oe[we][t].length>2&&(oe[we][t][3]=e,oe[we][t][4]=e);al()}function al(){if(clearTimeout(ys),ys=void 0,oe[we].length!==0){var e=oe[we].shift(),t=e[0],r=e[1],n=e[2],i=e[3],s=e[4];if(i===void 0)ir("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){ir("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),c=Math.min(l*1.2,100);a>=c?(ir("RETRY",t.name,r),t.apply(null,r.concat([i]))):oe[we].push(e)}ys===void 0&&(ys=setTimeout(al,0))}}});var sr=y(Ot=>{"use strict";var ad=ke().fromCallback,Fe=Ne(),RS=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof Fe[e]=="function");Object.assign(Ot,Fe);RS.forEach(e=>{Ot[e]=ad(Fe[e])});Ot.exists=function(e,t){return typeof t=="function"?Fe.exists(e,t):new Promise(r=>Fe.exists(e,r))};Ot.read=function(e,t,r,n,i,s){return typeof s=="function"?Fe.read(e,t,r,n,i,s):new Promise((o,a)=>{Fe.read(e,t,r,n,i,(l,c,f)=>{if(l)return a(l);o({bytesRead:c,buffer:f})})})};Ot.write=function(e,t,...r){return typeof r[r.length-1]=="function"?Fe.write(e,t,...r):new Promise((n,i)=>{Fe.write(e,t,...r,(s,o,a)=>{if(s)return i(s);n({bytesWritten:o,buffer:a})})})};typeof Fe.writev=="function"&&(Ot.writev=function(e,t,...r){return typeof r[r.length-1]=="function"?Fe.writev(e,t,...r):new Promise((n,i)=>{Fe.writev(e,t,...r,(s,o,a)=>{if(s)return i(s);n({bytesWritten:o,buffers:a})})})});typeof Fe.realpath.native=="function"?Ot.realpath.native=ad(Fe.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var cd=y((dM,ld)=>{"use strict";var kS=require("path");ld.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(kS.parse(t).root,""))){let n=new Error("Path contains invalid characters: ".concat(t));throw n.code="EINVAL",n}}});var dd=y((pM,cl)=>{"use strict";var ud=sr(),{checkPath:fd}=cd(),hd=e=>{let t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};cl.exports.makeDir=async(e,t)=>(fd(e),ud.mkdir(e,{mode:hd(t),recursive:!0}));cl.exports.makeDirSync=(e,t)=>(fd(e),ud.mkdirSync(e,{mode:hd(t),recursive:!0}))});var rt=y((mM,pd)=>{"use strict";var FS=ke().fromPromise,{makeDir:US,makeDirSync:ul}=dd(),fl=FS(US);pd.exports={mkdirs:fl,mkdirsSync:ul,mkdirp:fl,mkdirpSync:ul,ensureDir:fl,ensureDirSync:ul}});var It=y((gM,gd)=>{"use strict";var MS=ke().fromPromise,md=sr();function $S(e){return md.access(e).then(()=>!0).catch(()=>!1)}gd.exports={pathExists:MS($S),pathExistsSync:md.existsSync}});var hl=y((yM,yd)=>{"use strict";var Mr=Ne();function BS(e,t,r,n){Mr.open(e,"r+",(i,s)=>{if(i)return n(i);Mr.futimes(s,t,r,o=>{Mr.close(s,a=>{n&&n(o||a)})})})}function jS(e,t,r){let n=Mr.openSync(e,"r+");return Mr.futimesSync(n,t,r),Mr.closeSync(n)}yd.exports={utimesMillis:BS,utimesMillisSync:jS}});var or=y((AM,Ed)=>{"use strict";var $r=sr(),pe=require("path"),HS=require("util");function VS(e,t,r){let n=r.dereference?i=>$r.stat(i,{bigint:!0}):i=>$r.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function GS(e,t,r){let n,i=r.dereference?o=>$r.statSync(o,{bigint:!0}):o=>$r.lstatSync(o,{bigint:!0}),s=i(e);try{n=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:n}}function WS(e,t,r,n,i){HS.callbackify(VS)(e,t,n,(s,o)=>{if(s)return i(s);let{srcStat:a,destStat:l}=o;if(l){if(Un(a,l)){let c=pe.basename(e),f=pe.basename(t);return r==="move"&&c!==f&&c.toLowerCase()===f.toLowerCase()?i(null,{srcStat:a,destStat:l,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!l.isDirectory())return i(new Error("Cannot overwrite non-directory '".concat(t,"' with directory '").concat(e,"'.")));if(!a.isDirectory()&&l.isDirectory())return i(new Error("Cannot overwrite directory '".concat(t,"' with non-directory '").concat(e,"'.")))}return a.isDirectory()&&dl(e,t)?i(new Error(ws(e,t,r))):i(null,{srcStat:a,destStat:l})})}function YS(e,t,r,n){let{srcStat:i,destStat:s}=GS(e,t,n);if(s){if(Un(i,s)){let o=pe.basename(e),a=pe.basename(t);if(r==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error("Cannot overwrite non-directory '".concat(t,"' with directory '").concat(e,"'."));if(!i.isDirectory()&&s.isDirectory())throw new Error("Cannot overwrite directory '".concat(t,"' with non-directory '").concat(e,"'."))}if(i.isDirectory()&&dl(e,t))throw new Error(ws(e,t,r));return{srcStat:i,destStat:s}}function Ad(e,t,r,n,i){let s=pe.resolve(pe.dirname(e)),o=pe.resolve(pe.dirname(r));if(o===s||o===pe.parse(o).root)return i();$r.stat(o,{bigint:!0},(a,l)=>a?a.code==="ENOENT"?i():i(a):Un(t,l)?i(new Error(ws(e,r,n))):Ad(e,t,o,n,i))}function wd(e,t,r,n){let i=pe.resolve(pe.dirname(e)),s=pe.resolve(pe.dirname(r));if(s===i||s===pe.parse(s).root)return;let o;try{o=$r.statSync(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(Un(t,o))throw new Error(ws(e,r,n));return wd(e,t,s,n)}function Un(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function dl(e,t){let r=pe.resolve(e).split(pe.sep).filter(i=>i),n=pe.resolve(t).split(pe.sep).filter(i=>i);return r.reduce((i,s,o)=>i&&n[o]===s,!0)}function ws(e,t,r){return"Cannot ".concat(r," '").concat(e,"' to a subdirectory of itself, '").concat(t,"'.")}Ed.exports={checkPaths:WS,checkPathsSync:YS,checkParentPaths:Ad,checkParentPathsSync:wd,isSrcSubdir:dl,areIdentical:Un}});var Od=y((wM,Nd)=>{"use strict";var Ue=Ne(),Mn=require("path"),KS=rt().mkdirs,QS=It().pathExists,zS=hl().utimesMillis,$n=or();function XS(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n	see https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001"),$n.checkPaths(e,t,"copy",r,(i,s)=>{if(i)return n(i);let{srcStat:o,destStat:a}=s;$n.checkParentPaths(e,o,t,"copy",l=>l?n(l):r.filter?Sd(vd,a,e,t,r,n):vd(a,e,t,r,n))})}function vd(e,t,r,n,i){let s=Mn.dirname(r);QS(s,(o,a)=>{if(o)return i(o);if(a)return Es(e,t,r,n,i);KS(s,l=>l?i(l):Es(e,t,r,n,i))})}function Sd(e,t,r,n,i,s){Promise.resolve(i.filter(r,n)).then(o=>o?e(t,r,n,i,s):s(),o=>s(o))}function JS(e,t,r,n,i){return n.filter?Sd(Es,e,t,r,n,i):Es(e,t,r,n,i)}function Es(e,t,r,n,i){(n.dereference?Ue.stat:Ue.lstat)(t,(o,a)=>o?i(o):a.isDirectory()?s_(a,e,t,r,n,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?ZS(a,e,t,r,n,i):a.isSymbolicLink()?l_(e,t,r,n,i):a.isSocket()?i(new Error("Cannot copy a socket file: ".concat(t))):a.isFIFO()?i(new Error("Cannot copy a FIFO pipe: ".concat(t))):i(new Error("Unknown file: ".concat(t))))}function ZS(e,t,r,n,i,s){return t?e_(e,r,n,i,s):_d(e,r,n,i,s)}function e_(e,t,r,n,i){if(n.overwrite)Ue.unlink(r,s=>s?i(s):_d(e,t,r,n,i));else return n.errorOnExist?i(new Error("'".concat(r,"' already exists"))):i()}function _d(e,t,r,n,i){Ue.copyFile(t,r,s=>s?i(s):n.preserveTimestamps?t_(e.mode,t,r,i):vs(r,e.mode,i))}function t_(e,t,r,n){return r_(e)?n_(r,e,i=>i?n(i):bd(e,t,r,n)):bd(e,t,r,n)}function r_(e){return(e&128)===0}function n_(e,t,r){return vs(e,t|128,r)}function bd(e,t,r,n){i_(t,r,i=>i?n(i):vs(r,e,n))}function vs(e,t,r){return Ue.chmod(e,t,r)}function i_(e,t,r){Ue.stat(e,(n,i)=>n?r(n):zS(t,i.atime,i.mtime,r))}function s_(e,t,r,n,i,s){return t?Cd(r,n,i,s):o_(e.mode,r,n,i,s)}function o_(e,t,r,n,i){Ue.mkdir(r,s=>{if(s)return i(s);Cd(t,r,n,o=>o?i(o):vs(r,e,i))})}function Cd(e,t,r,n){Ue.readdir(e,(i,s)=>i?n(i):Td(s,e,t,r,n))}function Td(e,t,r,n,i){let s=e.pop();return s?a_(e,s,t,r,n,i):i()}function a_(e,t,r,n,i,s){let o=Mn.join(r,t),a=Mn.join(n,t);$n.checkPaths(o,a,"copy",i,(l,c)=>{if(l)return s(l);let{destStat:f}=c;JS(f,o,a,i,u=>u?s(u):Td(e,r,n,i,s))})}function l_(e,t,r,n,i){Ue.readlink(t,(s,o)=>{if(s)return i(s);if(n.dereference&&(o=Mn.resolve(process.cwd(),o)),e)Ue.readlink(r,(a,l)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?Ue.symlink(o,r,i):i(a):(n.dereference&&(l=Mn.resolve(process.cwd(),l)),$n.isSrcSubdir(o,l)?i(new Error("Cannot copy '".concat(o,"' to a subdirectory of itself, '").concat(l,"'."))):e.isDirectory()&&$n.isSrcSubdir(l,o)?i(new Error("Cannot overwrite '".concat(l,"' with '").concat(o,"'."))):c_(o,r,i)));else return Ue.symlink(o,r,i)})}function c_(e,t,r){Ue.unlink(t,n=>n?r(n):Ue.symlink(e,t,r))}Nd.exports=XS});var Ld=y((EM,qd)=>{"use strict";var be=Ne(),Bn=require("path"),u_=rt().mkdirsSync,f_=hl().utimesMillisSync,jn=or();function h_(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n	see https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");let{srcStat:n,destStat:i}=jn.checkPathsSync(e,t,"copy",r);return jn.checkParentPathsSync(e,n,t,"copy"),d_(i,e,t,r)}function d_(e,t,r,n){if(n.filter&&!n.filter(t,r))return;let i=Bn.dirname(r);return be.existsSync(i)||u_(i),Id(e,t,r,n)}function p_(e,t,r,n){if(!(n.filter&&!n.filter(t,r)))return Id(e,t,r,n)}function Id(e,t,r,n){let s=(n.dereference?be.statSync:be.lstatSync)(t);if(s.isDirectory())return v_(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return m_(s,e,t,r,n);if(s.isSymbolicLink())return __(e,t,r,n);throw s.isSocket()?new Error("Cannot copy a socket file: ".concat(t)):s.isFIFO()?new Error("Cannot copy a FIFO pipe: ".concat(t)):new Error("Unknown file: ".concat(t))}function m_(e,t,r,n,i){return t?g_(e,r,n,i):Pd(e,r,n,i)}function g_(e,t,r,n){if(n.overwrite)return be.unlinkSync(r),Pd(e,t,r,n);if(n.errorOnExist)throw new Error("'".concat(r,"' already exists"))}function Pd(e,t,r,n){return be.copyFileSync(t,r),n.preserveTimestamps&&y_(e.mode,t,r),pl(r,e.mode)}function y_(e,t,r){return A_(e)&&w_(r,e),E_(t,r)}function A_(e){return(e&128)===0}function w_(e,t){return pl(e,t|128)}function pl(e,t){return be.chmodSync(e,t)}function E_(e,t){let r=be.statSync(e);return f_(t,r.atime,r.mtime)}function v_(e,t,r,n,i){return t?Dd(r,n,i):b_(e.mode,r,n,i)}function b_(e,t,r,n){return be.mkdirSync(r),Dd(t,r,n),pl(r,e)}function Dd(e,t,r){be.readdirSync(e).forEach(n=>S_(n,e,t,r))}function S_(e,t,r,n){let i=Bn.join(t,e),s=Bn.join(r,e),{destStat:o}=jn.checkPathsSync(i,s,"copy",n);return p_(o,i,s,n)}function __(e,t,r,n){let i=be.readlinkSync(t);if(n.dereference&&(i=Bn.resolve(process.cwd(),i)),e){let s;try{s=be.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return be.symlinkSync(i,r);throw o}if(n.dereference&&(s=Bn.resolve(process.cwd(),s)),jn.isSrcSubdir(i,s))throw new Error("Cannot copy '".concat(i,"' to a subdirectory of itself, '").concat(s,"'."));if(be.statSync(r).isDirectory()&&jn.isSrcSubdir(s,i))throw new Error("Cannot overwrite '".concat(s,"' with '").concat(i,"'."));return C_(i,r)}else return be.symlinkSync(i,r)}function C_(e,t){return be.unlinkSync(t),be.symlinkSync(e,t)}qd.exports=h_});var bs=y((vM,xd)=>{"use strict";var T_=ke().fromCallback;xd.exports={copy:T_(Od()),copySync:Ld()}});var Hd=y((bM,jd)=>{"use strict";var Rd=Ne(),Md=require("path"),J=require("assert"),Hn=process.platform==="win32";function $d(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||Rd[r],r=r+"Sync",e[r]=e[r]||Rd[r]}),e.maxBusyTries=e.maxBusyTries||3}function ml(e,t,r){let n=0;typeof t=="function"&&(r=t,t={}),J(e,"rimraf: missing path"),J.strictEqual(typeof e,"string","rimraf: path should be a string"),J.strictEqual(typeof r,"function","rimraf: callback function required"),J(t,"rimraf: invalid options argument provided"),J.strictEqual(typeof t,"object","rimraf: options should be object"),$d(t),kd(e,t,function i(s){if(s){if((s.code==="EBUSY"||s.code==="ENOTEMPTY"||s.code==="EPERM")&&n<t.maxBusyTries){n++;let o=n*100;return setTimeout(()=>kd(e,t,i),o)}s.code==="ENOENT"&&(s=null)}r(s)})}function kd(e,t,r){J(e),J(t),J(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&Hn)return Fd(e,t,n,r);if(i&&i.isDirectory())return Ss(e,t,n,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return Hn?Fd(e,t,s,r):Ss(e,t,s,r);if(s.code==="EISDIR")return Ss(e,t,s,r)}return r(s)})})}function Fd(e,t,r,n){J(e),J(t),J(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?Ss(e,t,r,n):t.unlink(e,n)})})}function Ud(e,t,r){let n;J(e),J(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?_s(e,t,r):t.unlinkSync(e)}function Ss(e,t,r,n){J(e),J(t),J(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?N_(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function N_(e,t,r){J(e),J(t),J(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let s=i.length,o;if(s===0)return t.rmdir(e,r);i.forEach(a=>{ml(Md.join(e,a),t,l=>{if(!o){if(l)return r(o=l);--s===0&&t.rmdir(e,r)}})})})}function Bd(e,t){let r;t=t||{},$d(t),J(e,"rimraf: missing path"),J.strictEqual(typeof e,"string","rimraf: path should be a string"),J(t,"rimraf: missing options"),J.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&Hn&&Ud(e,t,n)}try{r&&r.isDirectory()?_s(e,t,null):t.unlinkSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return Hn?Ud(e,t,n):_s(e,t,n);if(n.code!=="EISDIR")throw n;_s(e,t,n)}}function _s(e,t,r){J(e),J(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")O_(e,t);else if(n.code!=="ENOENT")throw n}}function O_(e,t){if(J(e),J(t),t.readdirSync(e).forEach(r=>Bd(Md.join(e,r),t)),Hn){let r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}jd.exports=ml;ml.sync=Bd});var Vn=y((SM,Gd)=>{"use strict";var Cs=Ne(),I_=ke().fromCallback,Vd=Hd();function P_(e,t){if(Cs.rm)return Cs.rm(e,{recursive:!0,force:!0},t);Vd(e,t)}function D_(e){if(Cs.rmSync)return Cs.rmSync(e,{recursive:!0,force:!0});Vd.sync(e)}Gd.exports={remove:I_(P_),removeSync:D_}});var Zd=y((_M,Jd)=>{"use strict";var q_=ke().fromPromise,Kd=sr(),Qd=require("path"),zd=rt(),Xd=Vn(),Wd=q_(async function(t){let r;try{r=await Kd.readdir(t)}catch{return zd.mkdirs(t)}return Promise.all(r.map(n=>Xd.remove(Qd.join(t,n))))});function Yd(e){let t;try{t=Kd.readdirSync(e)}catch{return zd.mkdirsSync(e)}t.forEach(r=>{r=Qd.join(e,r),Xd.removeSync(r)})}Jd.exports={emptyDirSync:Yd,emptydirSync:Yd,emptyDir:Wd,emptydir:Wd}});var np=y((CM,rp)=>{"use strict";var L_=ke().fromCallback,ep=require("path"),Pt=Ne(),tp=rt();function x_(e,t){function r(){Pt.writeFile(e,"",n=>{if(n)return t(n);t()})}Pt.stat(e,(n,i)=>{if(!n&&i.isFile())return t();let s=ep.dirname(e);Pt.stat(s,(o,a)=>{if(o)return o.code==="ENOENT"?tp.mkdirs(s,l=>{if(l)return t(l);r()}):t(o);a.isDirectory()?r():Pt.readdir(s,l=>{if(l)return t(l)})})})}function R_(e){let t;try{t=Pt.statSync(e)}catch{}if(t&&t.isFile())return;let r=ep.dirname(e);try{Pt.statSync(r).isDirectory()||Pt.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")tp.mkdirsSync(r);else throw n}Pt.writeFileSync(e,"")}rp.exports={createFile:L_(x_),createFileSync:R_}});var lp=y((TM,ap)=>{"use strict";var k_=ke().fromCallback,ip=require("path"),Dt=Ne(),sp=rt(),F_=It().pathExists,{areIdentical:op}=or();function U_(e,t,r){function n(i,s){Dt.link(i,s,o=>{if(o)return r(o);r(null)})}Dt.lstat(t,(i,s)=>{Dt.lstat(e,(o,a)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);if(s&&op(a,s))return r(null);let l=ip.dirname(t);F_(l,(c,f)=>{if(c)return r(c);if(f)return n(e,t);sp.mkdirs(l,u=>{if(u)return r(u);n(e,t)})})})})}function M_(e,t){let r;try{r=Dt.lstatSync(t)}catch{}try{let s=Dt.lstatSync(e);if(r&&op(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}let n=ip.dirname(t);return Dt.existsSync(n)||sp.mkdirsSync(n),Dt.linkSync(e,t)}ap.exports={createLink:k_(U_),createLinkSync:M_}});var up=y((NM,cp)=>{"use strict";var qt=require("path"),Gn=Ne(),$_=It().pathExists;function B_(e,t,r){if(qt.isAbsolute(e))return Gn.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{let n=qt.dirname(t),i=qt.join(n,e);return $_(i,(s,o)=>s?r(s):o?r(null,{toCwd:i,toDst:e}):Gn.lstat(e,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),r(a)):r(null,{toCwd:e,toDst:qt.relative(n,e)})))}}function j_(e,t){let r;if(qt.isAbsolute(e)){if(r=Gn.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{let n=qt.dirname(t),i=qt.join(n,e);if(r=Gn.existsSync(i),r)return{toCwd:i,toDst:e};if(r=Gn.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:qt.relative(n,e)}}}cp.exports={symlinkPaths:B_,symlinkPathsSync:j_}});var dp=y((OM,hp)=>{"use strict";var fp=Ne();function H_(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);fp.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}function V_(e,t){let r;if(t)return t;try{r=fp.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}hp.exports={symlinkType:H_,symlinkTypeSync:V_}});var vp=y((IM,Ep)=>{"use strict";var G_=ke().fromCallback,mp=require("path"),nt=sr(),gp=rt(),W_=gp.mkdirs,Y_=gp.mkdirsSync,yp=up(),K_=yp.symlinkPaths,Q_=yp.symlinkPathsSync,Ap=dp(),z_=Ap.symlinkType,X_=Ap.symlinkTypeSync,J_=It().pathExists,{areIdentical:wp}=or();function Z_(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,nt.lstat(t,(i,s)=>{!i&&s.isSymbolicLink()?Promise.all([nt.stat(e),nt.stat(t)]).then(([o,a])=>{if(wp(o,a))return n(null);pp(e,t,r,n)}):pp(e,t,r,n)})}function pp(e,t,r,n){K_(e,t,(i,s)=>{if(i)return n(i);e=s.toDst,z_(s.toCwd,r,(o,a)=>{if(o)return n(o);let l=mp.dirname(t);J_(l,(c,f)=>{if(c)return n(c);if(f)return nt.symlink(e,t,a,n);W_(l,u=>{if(u)return n(u);nt.symlink(e,t,a,n)})})})})}function eC(e,t,r){let n;try{n=nt.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){let a=nt.statSync(e),l=nt.statSync(t);if(wp(a,l))return}let i=Q_(e,t);e=i.toDst,r=X_(i.toCwd,r);let s=mp.dirname(t);return nt.existsSync(s)||Y_(s),nt.symlinkSync(e,t,r)}Ep.exports={createSymlink:G_(Z_),createSymlinkSync:eC}});var Ip=y((PM,Op)=>{"use strict";var{createFile:bp,createFileSync:Sp}=np(),{createLink:_p,createLinkSync:Cp}=lp(),{createSymlink:Tp,createSymlinkSync:Np}=vp();Op.exports={createFile:bp,createFileSync:Sp,ensureFile:bp,ensureFileSync:Sp,createLink:_p,createLinkSync:Cp,ensureLink:_p,ensureLinkSync:Cp,createSymlink:Tp,createSymlinkSync:Np,ensureSymlink:Tp,ensureSymlinkSync:Np}});var Ts=y((DM,Pp)=>{function tC(e,{EOL:t="\n",finalEOL:r=!0,replacer:n=null,spaces:i}={}){let s=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+s}function rC(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}Pp.exports={stringify:tC,stripBom:rC}});var xp=y((qM,Lp)=>{var Br;try{Br=Ne()}catch{Br=require("fs")}var Ns=ke(),{stringify:Dp,stripBom:qp}=Ts();async function nC(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||Br,n="throws"in t?t.throws:!0,i=await Ns.fromCallback(r.readFile)(e,t);i=qp(i);let s;try{s=JSON.parse(i,t?t.reviver:null)}catch(o){if(n)throw o.message="".concat(e,": ").concat(o.message),o;return null}return s}var iC=Ns.fromPromise(nC);function sC(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||Br,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=qp(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message="".concat(e,": ").concat(i.message),i;return null}}async function oC(e,t,r={}){let n=r.fs||Br,i=Dp(t,r);await Ns.fromCallback(n.writeFile)(e,i,r)}var aC=Ns.fromPromise(oC);function lC(e,t,r={}){let n=r.fs||Br,i=Dp(t,r);return n.writeFileSync(e,i,r)}var cC={readFile:iC,readFileSync:sC,writeFile:aC,writeFileSync:lC};Lp.exports=cC});var kp=y((LM,Rp)=>{"use strict";var Os=xp();Rp.exports={readJson:Os.readFile,readJsonSync:Os.readFileSync,writeJson:Os.writeFile,writeJsonSync:Os.writeFileSync}});var Is=y((xM,Mp)=>{"use strict";var uC=ke().fromCallback,Wn=Ne(),Fp=require("path"),Up=rt(),fC=It().pathExists;function hC(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");let i=Fp.dirname(e);fC(i,(s,o)=>{if(s)return n(s);if(o)return Wn.writeFile(e,t,r,n);Up.mkdirs(i,a=>{if(a)return n(a);Wn.writeFile(e,t,r,n)})})}function dC(e,...t){let r=Fp.dirname(e);if(Wn.existsSync(r))return Wn.writeFileSync(e,...t);Up.mkdirsSync(r),Wn.writeFileSync(e,...t)}Mp.exports={outputFile:uC(hC),outputFileSync:dC}});var Bp=y((RM,$p)=>{"use strict";var{stringify:pC}=Ts(),{outputFile:mC}=Is();async function gC(e,t,r={}){let n=pC(t,r);await mC(e,n,r)}$p.exports=gC});var Hp=y((kM,jp)=>{"use strict";var{stringify:yC}=Ts(),{outputFileSync:AC}=Is();function wC(e,t,r){let n=yC(t,r);AC(e,n,r)}jp.exports=wC});var Gp=y((FM,Vp)=>{"use strict";var EC=ke().fromPromise,Oe=kp();Oe.outputJson=EC(Bp());Oe.outputJsonSync=Hp();Oe.outputJSON=Oe.outputJson;Oe.outputJSONSync=Oe.outputJsonSync;Oe.writeJSON=Oe.writeJson;Oe.writeJSONSync=Oe.writeJsonSync;Oe.readJSON=Oe.readJson;Oe.readJSONSync=Oe.readJsonSync;Vp.exports=Oe});var zp=y((UM,Qp)=>{"use strict";var vC=Ne(),yl=require("path"),bC=bs().copy,Kp=Vn().remove,SC=rt().mkdirp,_C=It().pathExists,Wp=or();function CC(e,t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};let i=r.overwrite||r.clobber||!1;Wp.checkPaths(e,t,"move",r,(s,o)=>{if(s)return n(s);let{srcStat:a,isChangingCase:l=!1}=o;Wp.checkParentPaths(e,a,t,"move",c=>{if(c)return n(c);if(TC(t))return Yp(e,t,i,l,n);SC(yl.dirname(t),f=>f?n(f):Yp(e,t,i,l,n))})})}function TC(e){let t=yl.dirname(e);return yl.parse(t).root===t}function Yp(e,t,r,n,i){if(n)return gl(e,t,r,i);if(r)return Kp(t,s=>s?i(s):gl(e,t,r,i));_C(t,(s,o)=>s?i(s):o?i(new Error("dest already exists.")):gl(e,t,r,i))}function gl(e,t,r,n){vC.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):NC(e,t,r,n):n())}function NC(e,t,r,n){bC(e,t,{overwrite:r,errorOnExist:!0},s=>s?n(s):Kp(e,n))}Qp.exports=CC});var tm=y((MM,em)=>{"use strict";var Jp=Ne(),wl=require("path"),OC=bs().copySync,Zp=Vn().removeSync,IC=rt().mkdirpSync,Xp=or();function PC(e,t,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=Xp.checkPathsSync(e,t,"move",r);return Xp.checkParentPathsSync(e,i,t,"move"),DC(t)||IC(wl.dirname(t)),qC(e,t,n,s)}function DC(e){let t=wl.dirname(e);return wl.parse(t).root===t}function qC(e,t,r,n){if(n)return Al(e,t,r);if(r)return Zp(t),Al(e,t,r);if(Jp.existsSync(t))throw new Error("dest already exists.");return Al(e,t,r)}function Al(e,t,r){try{Jp.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return LC(e,t,r)}}function LC(e,t,r){return OC(e,t,{overwrite:r,errorOnExist:!0}),Zp(e)}em.exports=PC});var nm=y(($M,rm)=>{"use strict";var xC=ke().fromCallback;rm.exports={move:xC(zp()),moveSync:tm()}});var pt=y((BM,im)=>{"use strict";im.exports={...sr(),...bs(),...Zd(),...Ip(),...Gp(),...rt(),...nm(),...Is(),...It(),...Vn()}});var Ps=y(jr=>{"use strict";Object.defineProperty(jr,"__esModule",{value:!0});jr.CancellationError=jr.CancellationToken=void 0;var RC=require("events"),El=class extends RC.EventEmitter{get cancelled(){return this._cancelled||this._parent!=null&&this._parent.cancelled}set parent(t){this.removeParentCancelHandler(),this._parent=t,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}constructor(t){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,t!=null&&(this.parent=t)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(t){this.cancelled?t():this.once("cancel",t)}createPromise(t){if(this.cancelled)return Promise.reject(new Yn);let r=()=>{if(n!=null)try{this.removeListener("cancel",n),n=null}catch{}},n=null;return new Promise((i,s)=>{let o=null;if(n=()=>{try{o!=null&&(o(),o=null)}finally{s(new Yn)}},this.cancelled){n();return}this.onCancel(n),t(i,s,a=>{o=a})}).then(i=>(r(),i)).catch(i=>{throw r(),i})}removeParentCancelHandler(){let t=this._parent;t!=null&&this.parentCancelHandler!=null&&(t.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}};jr.CancellationToken=El;var Yn=class extends Error{constructor(){super("cancelled")}};jr.CancellationError=Yn});var Kn=y(vl=>{"use strict";Object.defineProperty(vl,"__esModule",{value:!0});vl.newError=kC;function kC(e,t){let r=new Error(e);return r.code=t,r}});var om=y((VM,sm)=>{var Hr=1e3,Vr=Hr*60,Gr=Vr*60,ar=Gr*24,FC=ar*7,UC=ar*365.25;sm.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return MC(e);if(r==="number"&&isFinite(e))return t.long?BC(e):$C(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function MC(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*UC;case"weeks":case"week":case"w":return r*FC;case"days":case"day":case"d":return r*ar;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Gr;case"minutes":case"minute":case"mins":case"min":case"m":return r*Vr;case"seconds":case"second":case"secs":case"sec":case"s":return r*Hr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function $C(e){var t=Math.abs(e);return t>=ar?Math.round(e/ar)+"d":t>=Gr?Math.round(e/Gr)+"h":t>=Vr?Math.round(e/Vr)+"m":t>=Hr?Math.round(e/Hr)+"s":e+"ms"}function BC(e){var t=Math.abs(e);return t>=ar?Ds(e,t,ar,"day"):t>=Gr?Ds(e,t,Gr,"hour"):t>=Vr?Ds(e,t,Vr,"minute"):t>=Hr?Ds(e,t,Hr,"second"):e+" ms"}function Ds(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var bl=y((GM,am)=>{function jC(e){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=a,r.humanize=om(),r.destroy=c,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let u=0;for(let h=0;h<f.length;h++)u=(u<<5)-u+f.charCodeAt(h),u|=0;return r.colors[Math.abs(u)%r.colors.length]}r.selectColor=t;function r(f){let u,h=null,p,w;function g(...E){if(!g.enabled)return;let S=g,b=Number(new Date),T=b-(u||b);S.diff=T,S.prev=u,S.curr=b,u=b,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let N=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(I,M)=>{if(I==="%%")return"%";N++;let A=r.formatters[M];if(typeof A=="function"){let O=E[N];I=A.call(S,O),E.splice(N,1),N--}return I}),r.formatArgs.call(S,E),(S.log||r.log).apply(S,E)}return g.namespace=f,g.useColors=r.useColors(),g.color=r.selectColor(f),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>h!==null?h:(p!==r.namespaces&&(p=r.namespaces,w=r.enabled(f)),w),set:E=>{h=E}}),typeof r.init=="function"&&r.init(g),g}function n(f,u){let h=r(this.namespace+(typeof u>"u"?":":u)+f);return h.log=this.log,h}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let u=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let h of u)h[0]==="-"?r.skips.push(h.slice(1)):r.names.push(h)}function s(f,u){let h=0,p=0,w=-1,g=0;for(;h<f.length;)if(p<u.length&&(u[p]===f[h]||u[p]==="*"))u[p]==="*"?(w=p,g=h,p++):(h++,p++);else if(w!==-1)p=w+1,g++,h=g;else return!1;for(;p<u.length&&u[p]==="*";)p++;return p===u.length}function o(){let f=[...r.names,...r.skips.map(u=>"-"+u)].join(",");return r.enable(""),f}function a(f){for(let u of r.skips)if(s(f,u))return!1;for(let u of r.names)if(s(f,u))return!0;return!1}function l(f){return f instanceof Error?f.stack||f.message:f}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}am.exports=jC});var lm=y((Me,qs)=>{Me.formatArgs=VC;Me.save=GC;Me.load=WC;Me.useColors=HC;Me.storage=YC();Me.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Me.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function HC(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function VC(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+qs.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}Me.log=console.debug||console.log||(()=>{});function GC(e){try{e?Me.storage.setItem("debug",e):Me.storage.removeItem("debug")}catch{}}function WC(){let e;try{e=Me.storage.getItem("debug")||Me.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function YC(){try{return localStorage}catch{}}qs.exports=bl()(Me);var{formatters:KC}=qs.exports;KC.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var um=y((WM,cm)=>{"use strict";cm.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var dm=y((YM,hm)=>{"use strict";var QC=require("os"),fm=require("tty"),Qe=um(),{env:me}=process,Lt;Qe("no-color")||Qe("no-colors")||Qe("color=false")||Qe("color=never")?Lt=0:(Qe("color")||Qe("colors")||Qe("color=true")||Qe("color=always"))&&(Lt=1);"FORCE_COLOR"in me&&(me.FORCE_COLOR==="true"?Lt=1:me.FORCE_COLOR==="false"?Lt=0:Lt=me.FORCE_COLOR.length===0?1:Math.min(parseInt(me.FORCE_COLOR,10),3));function Sl(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function _l(e,t){if(Lt===0)return 0;if(Qe("color=16m")||Qe("color=full")||Qe("color=truecolor"))return 3;if(Qe("color=256"))return 2;if(e&&!t&&Lt===void 0)return 0;let r=Lt||0;if(me.TERM==="dumb")return r;if(process.platform==="win32"){let n=QC.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in me)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in me)||me.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in me)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(me.TEAMCITY_VERSION)?1:0;if(me.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in me){let n=parseInt((me.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(me.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(me.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(me.TERM)||"COLORTERM"in me?1:r}function zC(e){let t=_l(e,e&&e.isTTY);return Sl(t)}hm.exports={supportsColor:zC,stdout:Sl(_l(!0,fm.isatty(1))),stderr:Sl(_l(!0,fm.isatty(2)))}});var mm=y((ge,xs)=>{var XC=require("tty"),Ls=require("util");ge.init=iT;ge.log=tT;ge.formatArgs=ZC;ge.save=rT;ge.load=nT;ge.useColors=JC;ge.destroy=Ls.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ge.colors=[6,2,3,4,5,1];try{let e=dm();e&&(e.stderr||e).level>=2&&(ge.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ge.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function JC(){return"colors"in ge.inspectOpts?!!ge.inspectOpts.colors:XC.isatty(process.stderr.fd)}function ZC(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s="  ".concat(i,";1m").concat(t," \x1B[0m");e[0]=s+e[0].split("\n").join("\n"+s),e.push(i+"m+"+xs.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=eT()+t+" "+e[0]}function eT(){return ge.inspectOpts.hideDate?"":new Date().toISOString()+" "}function tT(...e){return process.stderr.write(Ls.formatWithOptions(ge.inspectOpts,...e)+"\n")}function rT(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function nT(){return process.env.DEBUG}function iT(e){e.inspectOpts={};let t=Object.keys(ge.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=ge.inspectOpts[t[r]]}xs.exports=bl()(ge);var{formatters:pm}=xs.exports;pm.o=function(e){return this.inspectOpts.colors=this.useColors,Ls.inspect(e,this.inspectOpts).split("\n").map(t=>t.trim()).join(" ")};pm.O=function(e){return this.inspectOpts.colors=this.useColors,Ls.inspect(e,this.inspectOpts)}});var gm=y((KM,Cl)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?Cl.exports=lm():Cl.exports=mm()});var Nl=y(Rs=>{"use strict";Object.defineProperty(Rs,"__esModule",{value:!0});Rs.ProgressCallbackTransform=void 0;var sT=require("stream"),Tl=class extends sT.Transform{constructor(t,r,n){super(),this.total=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}this.transferred+=t.length,this.delta+=t.length;let i=Date.now();i>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=i+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,t(null)}};Rs.ProgressCallbackTransform=Tl});var Em=y(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.DigestTransform=Ie.HttpExecutor=Ie.HttpError=void 0;Ie.createHttpError=Ol;Ie.parseJson=dT;Ie.configureRequestOptionsFromUrl=wm;Ie.configureRequestUrl=Pl;Ie.safeGetHeader=Wr;Ie.configureRequestOptions=ks;Ie.safeStringifyJson=Fs;var oT=require("crypto"),aT=gm(),lT=require("fs"),cT=require("stream"),Am=require("url"),uT=Ps(),ym=Kn(),fT=Nl(),Qn=(0,aT.default)("electron-builder");function Ol(e,t=null){return new zn(e.statusCode||-1,"".concat(e.statusCode," ").concat(e.statusMessage)+(t==null?"":"\n"+JSON.stringify(t,null,"  "))+"\nHeaders: "+Fs(e.headers),t)}var hT=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]),zn=class extends Error{constructor(t,r="HTTP error: ".concat(hT.get(t)||t),n=null){super(r),this.statusCode=t,this.description=n,this.name="HttpError",this.code="HTTP_ERROR_".concat(t)}isServerError(){return this.statusCode>=500&&this.statusCode<=599}};Ie.HttpError=zn;function dT(e){return e.then(t=>t==null||t.length===0?null:JSON.parse(t))}var Il=class e{constructor(){this.maxRedirects=10}request(t,r=new uT.CancellationToken,n){ks(t);let i=n==null?void 0:JSON.stringify(n),s=i?Buffer.from(i):void 0;if(s!=null){Qn(i);let{headers:o,...a}=t;t={method:"post",headers:{"Content-Type":"application/json","Content-Length":s.length,...o},...a}}return this.doApiRequest(t,r,o=>o.end(s))}doApiRequest(t,r,n,i=0){return Qn.enabled&&Qn("Request: ".concat(Fs(t))),r.createPromise((s,o,a)=>{let l=this.createRequest(t,c=>{try{this.handleResponse(c,t,r,s,o,i,n)}catch(f){o(f)}});this.addErrorAndTimeoutHandlers(l,o,t.timeout),this.addRedirectHandlers(l,t,o,i,c=>{this.doApiRequest(c,r,n,i).then(s).catch(o)}),n(l,o),a(()=>l.abort())})}addRedirectHandlers(t,r,n,i,s){}addErrorAndTimeoutHandlers(t,r,n=60*1e3){this.addTimeOutHandler(t,r,n),t.on("error",r),t.on("aborted",()=>{r(new Error("Request has been aborted by the server"))})}handleResponse(t,r,n,i,s,o,a){var l;if(Qn.enabled&&Qn("Response: ".concat(t.statusCode," ").concat(t.statusMessage,", request options: ").concat(Fs(r))),t.statusCode===404){s(Ol(t,"method: ".concat(r.method||"GET"," url: ").concat(r.protocol||"https:","//").concat(r.hostname).concat(r.port?":".concat(r.port):"").concat(r.path,"\n\nPlease double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.\n")));return}else if(t.statusCode===204){i();return}let c=(l=t.statusCode)!==null&&l!==void 0?l:0,f=c>=300&&c<400,u=Wr(t,"location");if(f&&u!=null){if(o>this.maxRedirects){s(this.createMaxRedirectError());return}this.doApiRequest(e.prepareRedirectUrlOptions(u,r),n,a,o).then(i).catch(s);return}t.setEncoding("utf8");let h="";t.on("error",s),t.on("data",p=>h+=p),t.on("end",()=>{try{if(t.statusCode!=null&&t.statusCode>=400){let p=Wr(t,"content-type"),w=p!=null&&(Array.isArray(p)?p.find(g=>g.includes("json"))!=null:p.includes("json"));s(Ol(t,"method: ".concat(r.method||"GET"," url: ").concat(r.protocol||"https:","//").concat(r.hostname).concat(r.port?":".concat(r.port):"").concat(r.path,"\n\n          Data:\n          ").concat(w?JSON.stringify(JSON.parse(h)):h,"\n          ")))}else i(h.length===0?null:h)}catch(p){s(p)}})}async downloadToBuffer(t,r){return await r.cancellationToken.createPromise((n,i,s)=>{let o=[],a={headers:r.headers||void 0,redirect:"manual"};Pl(t,a),ks(a),this.doDownload(a,{destination:null,options:r,onCancel:s,callback:l=>{l==null?n(Buffer.concat(o)):i(l)},responseHandler:(l,c)=>{let f=0;l.on("data",u=>{if(f+=u.length,f>524288e3){c(new Error("Maximum allowed size is 500 MB"));return}o.push(u)}),l.on("end",()=>{c(null)})}},0)})}doDownload(t,r,n){let i=this.createRequest(t,s=>{if(s.statusCode>=400){r.callback(new Error('Cannot download "'.concat(t.protocol||"https:","//").concat(t.hostname).concat(t.path,'", status ').concat(s.statusCode,": ").concat(s.statusMessage)));return}s.on("error",r.callback);let o=Wr(s,"location");if(o!=null){n<this.maxRedirects?this.doDownload(e.prepareRedirectUrlOptions(o,t),r,n++):r.callback(this.createMaxRedirectError());return}r.responseHandler==null?mT(r,s):r.responseHandler(s,r.callback)});this.addErrorAndTimeoutHandlers(i,r.callback,t.timeout),this.addRedirectHandlers(i,t,r.callback,n,s=>{this.doDownload(s,r,n++)}),i.end()}createMaxRedirectError(){return new Error("Too many redirects (> ".concat(this.maxRedirects,")"))}addTimeOutHandler(t,r,n){t.on("socket",i=>{i.setTimeout(n,()=>{t.abort(),r(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(t,r){let n=wm(t,{...r}),i=n.headers;if(i?.authorization){let s=new Am.URL(t);(s.hostname.endsWith(".amazonaws.com")||s.searchParams.has("X-Amz-Credential"))&&delete i.authorization}return n}static retryOnServerError(t,r=3){for(let n=0;;n++)try{return t()}catch(i){if(n<r&&(i instanceof zn&&i.isServerError()||i.code==="EPIPE"))continue;throw i}}};Ie.HttpExecutor=Il;function wm(e,t){let r=ks(t);return Pl(new Am.URL(e),r),r}function Pl(e,t){t.protocol=e.protocol,t.hostname=e.hostname,e.port?t.port=e.port:t.port&&delete t.port,t.path=e.pathname+e.search}var Xn=class extends cT.Transform{get actual(){return this._actual}constructor(t,r="sha512",n="base64"){super(),this.expected=t,this.algorithm=r,this.encoding=n,this._actual=null,this.isValidateOnEnd=!0,this.digester=(0,oT.createHash)(r)}_transform(t,r,n){this.digester.update(t),n(null,t)}_flush(t){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(r){t(r);return}t(null)}validate(){if(this._actual==null)throw(0,ym.newError)("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw(0,ym.newError)("".concat(this.algorithm," checksum mismatch, expected ").concat(this.expected,", got ").concat(this._actual),"ERR_CHECKSUM_MISMATCH");return null}};Ie.DigestTransform=Xn;function pT(e,t,r){return e!=null&&t!=null&&e!==t?(r(new Error("checksum mismatch: expected ".concat(t," but got ").concat(e," (X-Checksum-Sha2 header)"))),!1):!0}function Wr(e,t){let r=e.headers[t];return r==null?null:Array.isArray(r)?r.length===0?null:r[r.length-1]:r}function mT(e,t){if(!pT(Wr(t,"X-Checksum-Sha2"),e.options.sha2,e.callback))return;let r=[];if(e.options.onProgress!=null){let o=Wr(t,"content-length");o!=null&&r.push(new fT.ProgressCallbackTransform(parseInt(o,10),e.options.cancellationToken,e.options.onProgress))}let n=e.options.sha512;n!=null?r.push(new Xn(n,"sha512",n.length===128&&!n.includes("+")&&!n.includes("Z")&&!n.includes("=")?"hex":"base64")):e.options.sha2!=null&&r.push(new Xn(e.options.sha2,"sha256","hex"));let i=(0,lT.createWriteStream)(e.destination);r.push(i);let s=t;for(let o of r)o.on("error",a=>{i.close(),e.options.cancellationToken.cancelled||e.callback(a)}),s=s.pipe(o);i.on("finish",()=>{i.close(e.callback)})}function ks(e,t,r){r!=null&&(e.method=r),e.headers={...e.headers};let n=e.headers;return t!=null&&(n.authorization=t.startsWith("Basic")||t.startsWith("Bearer")?t:"token ".concat(t)),n["User-Agent"]==null&&(n["User-Agent"]="electron-builder"),(r==null||r==="GET"||n["Cache-Control"]==null)&&(n["Cache-Control"]="no-cache"),e.protocol==null&&process.versions.electron!=null&&(e.protocol="https:"),e}function Fs(e,t){return JSON.stringify(e,(r,n)=>r.endsWith("Authorization")||r.endsWith("authorization")||r.endsWith("Password")||r.endsWith("PASSWORD")||r.endsWith("Token")||r.includes("password")||r.includes("token")||t!=null&&t.has(r)?"<stripped sensitive data>":n,2)}});var bm=y(Us=>{"use strict";Object.defineProperty(Us,"__esModule",{value:!0});Us.MemoLazy=void 0;var Dl=class{constructor(t,r){this.selector=t,this.creator=r,this.selected=void 0,this._value=void 0}get hasValue(){return this._value!==void 0}get value(){let t=this.selector();if(this._value!==void 0&&vm(this.selected,t))return this._value;this.selected=t;let r=this.creator(t);return this.value=r,r}set value(t){this._value=t}};Us.MemoLazy=Dl;function vm(e,t){if(typeof e=="object"&&e!==null&&(typeof t=="object"&&t!==null)){let i=Object.keys(e),s=Object.keys(t);return i.length===s.length&&i.every(o=>vm(e[o],t[o]))}return e===t}});var _m=y(Ms=>{"use strict";Object.defineProperty(Ms,"__esModule",{value:!0});Ms.githubUrl=gT;Ms.getS3LikeProviderBaseUrl=yT;function gT(e,t="github.com"){return"".concat(e.protocol||"https","://").concat(e.host||t)}function yT(e){let t=e.provider;if(t==="s3")return AT(e);if(t==="spaces")return wT(e);throw new Error("Not supported provider: ".concat(t))}function AT(e){let t;if(e.accelerate==!0)t="https://".concat(e.bucket,".s3-accelerate.amazonaws.com");else if(e.endpoint!=null)t="".concat(e.endpoint,"/").concat(e.bucket);else if(e.bucket.includes(".")){if(e.region==null)throw new Error('Bucket name "'.concat(e.bucket,'" includes a dot, but S3 region is missing'));e.region==="us-east-1"?t="https://s3.amazonaws.com/".concat(e.bucket):t="https://s3-".concat(e.region,".amazonaws.com/").concat(e.bucket)}else e.region==="cn-north-1"?t="https://".concat(e.bucket,".s3.").concat(e.region,".amazonaws.com.cn"):t="https://".concat(e.bucket,".s3.amazonaws.com");return Sm(t,e.path)}function Sm(e,t){return t!=null&&t.length>0&&(t.startsWith("/")||(e+="/"),e+=t),e}function wT(e){if(e.name==null)throw new Error("name is missing");if(e.region==null)throw new Error("region is missing");return Sm("https://".concat(e.name,".").concat(e.region,".digitaloceanspaces.com"),e.path)}});var Tm=y(ql=>{"use strict";Object.defineProperty(ql,"__esModule",{value:!0});ql.retry=Cm;var ET=Ps();async function Cm(e,t,r,n=0,i=0,s){var o;let a=new ET.CancellationToken;try{return await e()}catch(l){if((!((o=s?.(l))!==null&&o!==void 0)||o)&&t>0&&!a.cancelled)return await new Promise(c=>setTimeout(c,r+n*i)),await Cm(e,t-1,r,n,i+1,s);throw l}}});var Nm=y(Ll=>{"use strict";Object.defineProperty(Ll,"__esModule",{value:!0});Ll.parseDn=vT;function vT(e){let t=!1,r=null,n="",i=0;e=e.trim();let s=new Map;for(let o=0;o<=e.length;o++){if(o===e.length){r!==null&&s.set(r,n);break}let a=e[o];if(t){if(a==='"'){t=!1;continue}}else{if(a==='"'){t=!0;continue}if(a==="\\"){o++;let l=parseInt(e.slice(o,o+2),16);Number.isNaN(l)?n+=e[o]:(o++,n+=String.fromCharCode(l));continue}if(r===null&&a==="="){r=n,n="";continue}if(a===","||a===";"||a==="+"){r!==null&&s.set(r,n),r=null,n="";continue}}if(a===" "&&!t){if(n.length===0)continue;if(o>i){let l=o;for(;e[l]===" ";)l++;i=l}if(i>=e.length||e[i]===","||e[i]===";"||r===null&&e[i]==="="||r!==null&&e[i]==="+"){o=i-1;continue}}n+=a}return s}});var qm=y(Yr=>{"use strict";Object.defineProperty(Yr,"__esModule",{value:!0});Yr.nil=Yr.UUID=void 0;var Pm=require("crypto"),Dm=Kn(),bT="options.name must be either a string or a Buffer",Om=(0,Pm.randomBytes)(16);Om[0]=Om[0]|1;var $s={},W=[];for(let e=0;e<256;e++){let t=(e+256).toString(16).substr(1);$s[t]=e,W[e]=t}var lr=class e{constructor(t){this.ascii=null,this.binary=null;let r=e.check(t);if(!r)throw new Error("not a UUID");this.version=r.version,r.format==="ascii"?this.ascii=t:this.binary=t}static v5(t,r){return ST(t,"sha1",80,r)}toString(){return this.ascii==null&&(this.ascii=_T(this.binary)),this.ascii}inspect(){return"UUID v".concat(this.version," ").concat(this.toString())}static check(t,r=0){if(typeof t=="string")return t=t.toLowerCase(),/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(t)?t==="00000000-0000-0000-0000-000000000000"?{version:void 0,variant:"nil",format:"ascii"}:{version:($s[t[14]+t[15]]&240)>>4,variant:Im(($s[t[19]+t[20]]&224)>>5),format:"ascii"}:!1;if(Buffer.isBuffer(t)){if(t.length<r+16)return!1;let n=0;for(;n<16&&t[r+n]===0;n++);return n===16?{version:void 0,variant:"nil",format:"binary"}:{version:(t[r+6]&240)>>4,variant:Im((t[r+8]&224)>>5),format:"binary"}}throw(0,Dm.newError)("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(t){let r=Buffer.allocUnsafe(16),n=0;for(let i=0;i<16;i++)r[i]=$s[t[n++]+t[n++]],(i===3||i===5||i===7||i===9)&&(n+=1);return r}};Yr.UUID=lr;lr.OID=lr.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");function Im(e){switch(e){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var Jn;(function(e){e[e.ASCII=0]="ASCII",e[e.BINARY=1]="BINARY",e[e.OBJECT=2]="OBJECT"})(Jn||(Jn={}));function ST(e,t,r,n,i=Jn.ASCII){let s=(0,Pm.createHash)(t);if(typeof e!="string"&&!Buffer.isBuffer(e))throw(0,Dm.newError)(bT,"ERR_INVALID_UUID_NAME");s.update(n),s.update(e);let a=s.digest(),l;switch(i){case Jn.BINARY:a[6]=a[6]&15|r,a[8]=a[8]&63|128,l=a;break;case Jn.OBJECT:a[6]=a[6]&15|r,a[8]=a[8]&63|128,l=new lr(a);break;default:l=W[a[0]]+W[a[1]]+W[a[2]]+W[a[3]]+"-"+W[a[4]]+W[a[5]]+"-"+W[a[6]&15|r]+W[a[7]]+"-"+W[a[8]&63|128]+W[a[9]]+"-"+W[a[10]]+W[a[11]]+W[a[12]]+W[a[13]]+W[a[14]]+W[a[15]];break}return l}function _T(e){return W[e[0]]+W[e[1]]+W[e[2]]+W[e[3]]+"-"+W[e[4]]+W[e[5]]+"-"+W[e[6]]+W[e[7]]+"-"+W[e[8]]+W[e[9]]+"-"+W[e[10]]+W[e[11]]+W[e[12]]+W[e[13]]+W[e[14]]+W[e[15]]}Yr.nil=new lr("00000000-0000-0000-0000-000000000000")});var Lm=y(Bs=>{(function(e){e.parser=function(m,d){return new r(m,d)},e.SAXParser=r,e.SAXStream=c,e.createStream=l,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(m,d){if(!(this instanceof r))return new r(m,d);var C=this;i(C),C.q=C.c="",C.bufferCheckPosition=e.MAX_BUFFER_LENGTH,C.opt=d||{},C.opt.lowercase=C.opt.lowercase||C.opt.lowercasetags,C.looseCase=C.opt.lowercase?"toLowerCase":"toUpperCase",C.tags=[],C.closed=C.closedRoot=C.sawRoot=!1,C.tag=C.error=null,C.strict=!!m,C.noscript=!!(m||C.opt.noscript),C.state=A.BEGIN,C.strictEntities=C.opt.strictEntities,C.ENTITIES=C.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),C.attribList=[],C.opt.xmlns&&(C.ns=Object.create(w)),C.opt.unquotedAttributeValues===void 0&&(C.opt.unquotedAttributeValues=!m),C.trackPosition=C.opt.position!==!1,C.trackPosition&&(C.position=C.line=C.column=0),$(C,"onready")}Object.create||(Object.create=function(m){function d(){}d.prototype=m;var C=new d;return C}),Object.keys||(Object.keys=function(m){var d=[];for(var C in m)m.hasOwnProperty(C)&&d.push(C);return d});function n(m){for(var d=Math.max(e.MAX_BUFFER_LENGTH,10),C=0,v=0,K=t.length;v<K;v++){var fe=m[t[v]].length;if(fe>d)switch(t[v]){case"textNode":B(m);break;case"cdata":x(m,"oncdata",m.cdata),m.cdata="";break;case"script":x(m,"onscript",m.script),m.script="";break;default:ie(m,"Max buffer length exceeded: "+t[v])}C=Math.max(C,fe)}var he=e.MAX_BUFFER_LENGTH-C;m.bufferCheckPosition=he+m.position}function i(m){for(var d=0,C=t.length;d<C;d++)m[t[d]]=""}function s(m){B(m),m.cdata!==""&&(x(m,"oncdata",m.cdata),m.cdata=""),m.script!==""&&(x(m,"onscript",m.script),m.script="")}r.prototype={end:function(){Z(this)},write:hS,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var o;try{o=require("stream").Stream}catch{o=function(){}}o||(o=function(){});var a=e.EVENTS.filter(function(m){return m!=="error"&&m!=="end"});function l(m,d){return new c(m,d)}function c(m,d){if(!(this instanceof c))return new c(m,d);o.apply(this),this._parser=new r(m,d),this.writable=!0,this.readable=!0;var C=this;this._parser.onend=function(){C.emit("end")},this._parser.onerror=function(v){C.emit("error",v),C._parser.error=null},this._decoder=null,a.forEach(function(v){Object.defineProperty(C,"on"+v,{get:function(){return C._parser["on"+v]},set:function(K){if(!K)return C.removeAllListeners(v),C._parser["on"+v]=K,K;C.on(v,K)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(o.prototype,{constructor:{value:c}}),c.prototype.write=function(m){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(m)){if(!this._decoder){var d=require("string_decoder").StringDecoder;this._decoder=new d("utf8")}m=this._decoder.write(m)}return this._parser.write(m.toString()),this.emit("data",m),!0},c.prototype.end=function(m){return m&&m.length&&this.write(m),this._parser.end(),!0},c.prototype.on=function(m,d){var C=this;return!C._parser["on"+m]&&a.indexOf(m)!==-1&&(C._parser["on"+m]=function(){var v=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);v.splice(0,0,m),C.emit.apply(C,v)}),o.prototype.on.call(C,m,d)};var f="[CDATA[",u="DOCTYPE",h="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",w={xml:h,xmlns:p},g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function T(m){return m===" "||m==="\n"||m==="\r"||m==="	"}function N(m){return m==='"'||m==="'"}function R(m){return m===">"||T(m)}function I(m,d){return m.test(d)}function M(m,d){return!I(m,d)}var A=0;e.STATE={BEGIN:A++,BEGIN_WHITESPACE:A++,TEXT:A++,TEXT_ENTITY:A++,OPEN_WAKA:A++,SGML_DECL:A++,SGML_DECL_QUOTED:A++,DOCTYPE:A++,DOCTYPE_QUOTED:A++,DOCTYPE_DTD:A++,DOCTYPE_DTD_QUOTED:A++,COMMENT_STARTING:A++,COMMENT:A++,COMMENT_ENDING:A++,COMMENT_ENDED:A++,CDATA:A++,CDATA_ENDING:A++,CDATA_ENDING_2:A++,PROC_INST:A++,PROC_INST_BODY:A++,PROC_INST_ENDING:A++,OPEN_TAG:A++,OPEN_TAG_SLASH:A++,ATTRIB:A++,ATTRIB_NAME:A++,ATTRIB_NAME_SAW_WHITE:A++,ATTRIB_VALUE:A++,ATTRIB_VALUE_QUOTED:A++,ATTRIB_VALUE_CLOSED:A++,ATTRIB_VALUE_UNQUOTED:A++,ATTRIB_VALUE_ENTITY_Q:A++,ATTRIB_VALUE_ENTITY_U:A++,CLOSE_TAG:A++,CLOSE_TAG_SAW_WHITE:A++,SCRIPT:A++,SCRIPT_ENDING:A++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(m){var d=e.ENTITIES[m],C=typeof d=="number"?String.fromCharCode(d):d;e.ENTITIES[m]=C});for(var O in e.STATE)e.STATE[e.STATE[O]]=O;A=e.STATE;function $(m,d,C){m[d]&&m[d](C)}function x(m,d,C){m.textNode&&B(m),$(m,d,C)}function B(m){m.textNode=se(m.opt,m.textNode),m.textNode&&$(m,"ontext",m.textNode),m.textNode=""}function se(m,d){return m.trim&&(d=d.trim()),m.normalize&&(d=d.replace(/\s+/g," ")),d}function ie(m,d){return B(m),m.trackPosition&&(d+="\nLine: "+m.line+"\nColumn: "+m.column+"\nChar: "+m.c),d=new Error(d),m.error=d,$(m,"onerror",d),m}function Z(m){return m.sawRoot&&!m.closedRoot&&U(m,"Unclosed root tag"),m.state!==A.BEGIN&&m.state!==A.BEGIN_WHITESPACE&&m.state!==A.TEXT&&ie(m,"Unexpected end"),B(m),m.c="",m.closed=!0,$(m,"onend"),r.call(m,m.strict,m.opt),m}function U(m,d){if(typeof m!="object"||!(m instanceof r))throw new Error("bad call to strictFail");m.strict&&ie(m,d)}function Q(m){m.strict||(m.tagName=m.tagName[m.looseCase]());var d=m.tags[m.tags.length-1]||m,C=m.tag={name:m.tagName,attributes:{}};m.opt.xmlns&&(C.ns=d.ns),m.attribList.length=0,x(m,"onopentagstart",C)}function le(m,d){var C=m.indexOf(":"),v=C<0?["",m]:m.split(":"),K=v[0],fe=v[1];return d&&m==="xmlns"&&(K="xmlns",fe=""),{prefix:K,local:fe}}function z(m){if(m.strict||(m.attribName=m.attribName[m.looseCase]()),m.attribList.indexOf(m.attribName)!==-1||m.tag.attributes.hasOwnProperty(m.attribName)){m.attribName=m.attribValue="";return}if(m.opt.xmlns){var d=le(m.attribName,!0),C=d.prefix,v=d.local;if(C==="xmlns")if(v==="xml"&&m.attribValue!==h)U(m,"xml: prefix must be bound to "+h+"\nActual: "+m.attribValue);else if(v==="xmlns"&&m.attribValue!==p)U(m,"xmlns: prefix must be bound to "+p+"\nActual: "+m.attribValue);else{var K=m.tag,fe=m.tags[m.tags.length-1]||m;K.ns===fe.ns&&(K.ns=Object.create(fe.ns)),K.ns[v]=m.attribValue}m.attribList.push([m.attribName,m.attribValue])}else m.tag.attributes[m.attribName]=m.attribValue,x(m,"onattribute",{name:m.attribName,value:m.attribValue});m.attribName=m.attribValue=""}function Ct(m,d){if(m.opt.xmlns){var C=m.tag,v=le(m.tagName);C.prefix=v.prefix,C.local=v.local,C.uri=C.ns[v.prefix]||"",C.prefix&&!C.uri&&(U(m,"Unbound namespace prefix: "+JSON.stringify(m.tagName)),C.uri=v.prefix);var K=m.tags[m.tags.length-1]||m;C.ns&&K.ns!==C.ns&&Object.keys(C.ns).forEach(function(Rh){x(m,"onopennamespace",{prefix:Rh,uri:C.ns[Rh]})});for(var fe=0,he=m.attribList.length;fe<he;fe++){var xe=m.attribList[fe],Re=xe[0],xr=xe[1],Ae=le(Re,!0),dt=Ae.prefix,dS=Ae.local,xh=dt===""?"":C.ns[dt]||"",tl={name:Re,value:xr,prefix:dt,local:dS,uri:xh};dt&&dt!=="xmlns"&&!xh&&(U(m,"Unbound namespace prefix: "+JSON.stringify(dt)),tl.uri=dt),m.tag.attributes[Re]=tl,x(m,"onattribute",tl)}m.attribList.length=0}m.tag.isSelfClosing=!!d,m.sawRoot=!0,m.tags.push(m.tag),x(m,"onopentag",m.tag),d||(!m.noscript&&m.tagName.toLowerCase()==="script"?m.state=A.SCRIPT:m.state=A.TEXT,m.tag=null,m.tagName=""),m.attribName=m.attribValue="",m.attribList.length=0}function el(m){if(!m.tagName){U(m,"Weird empty close tag."),m.textNode+="</>",m.state=A.TEXT;return}if(m.script){if(m.tagName!=="script"){m.script+="</"+m.tagName+">",m.tagName="",m.state=A.SCRIPT;return}x(m,"onscript",m.script),m.script=""}var d=m.tags.length,C=m.tagName;m.strict||(C=C[m.looseCase]());for(var v=C;d--;){var K=m.tags[d];if(K.name!==v)U(m,"Unexpected close tag");else break}if(d<0){U(m,"Unmatched closing tag: "+m.tagName),m.textNode+="</"+m.tagName+">",m.state=A.TEXT;return}m.tagName=C;for(var fe=m.tags.length;fe-- >d;){var he=m.tag=m.tags.pop();m.tagName=m.tag.name,x(m,"onclosetag",m.tagName);var xe={};for(var Re in he.ns)xe[Re]=he.ns[Re];var xr=m.tags[m.tags.length-1]||m;m.opt.xmlns&&he.ns!==xr.ns&&Object.keys(he.ns).forEach(function(Ae){var dt=he.ns[Ae];x(m,"onclosenamespace",{prefix:Ae,uri:dt})})}d===0&&(m.closedRoot=!0),m.tagName=m.attribValue=m.attribName="",m.attribList.length=0,m.state=A.TEXT}function fS(m){var d=m.entity,C=d.toLowerCase(),v,K="";return m.ENTITIES[d]?m.ENTITIES[d]:m.ENTITIES[C]?m.ENTITIES[C]:(d=C,d.charAt(0)==="#"&&(d.charAt(1)==="x"?(d=d.slice(2),v=parseInt(d,16),K=v.toString(16)):(d=d.slice(1),v=parseInt(d,10),K=v.toString(10))),d=d.replace(/^0+/,""),isNaN(v)||K.toLowerCase()!==d?(U(m,"Invalid character entity"),"&"+m.entity+";"):String.fromCodePoint(v))}function qh(m,d){d==="<"?(m.state=A.OPEN_WAKA,m.startTagPosition=m.position):T(d)||(U(m,"Non-whitespace before first tag."),m.textNode=d,m.state=A.TEXT)}function Lh(m,d){var C="";return d<m.length&&(C=m.charAt(d)),C}function hS(m){var d=this;if(this.error)throw this.error;if(d.closed)return ie(d,"Cannot write after close. Assign an onready handler.");if(m===null)return Z(d);typeof m=="object"&&(m=m.toString());for(var C=0,v="";v=Lh(m,C++),d.c=v,!!v;)switch(d.trackPosition&&(d.position++,v==="\n"?(d.line++,d.column=0):d.column++),d.state){case A.BEGIN:if(d.state=A.BEGIN_WHITESPACE,v==="\uFEFF")continue;qh(d,v);continue;case A.BEGIN_WHITESPACE:qh(d,v);continue;case A.TEXT:if(d.sawRoot&&!d.closedRoot){for(var K=C-1;v&&v!=="<"&&v!=="&";)v=Lh(m,C++),v&&d.trackPosition&&(d.position++,v==="\n"?(d.line++,d.column=0):d.column++);d.textNode+=m.substring(K,C-1)}v==="<"&&!(d.sawRoot&&d.closedRoot&&!d.strict)?(d.state=A.OPEN_WAKA,d.startTagPosition=d.position):(!T(v)&&(!d.sawRoot||d.closedRoot)&&U(d,"Text data outside of root node."),v==="&"?d.state=A.TEXT_ENTITY:d.textNode+=v);continue;case A.SCRIPT:v==="<"?d.state=A.SCRIPT_ENDING:d.script+=v;continue;case A.SCRIPT_ENDING:v==="/"?d.state=A.CLOSE_TAG:(d.script+="<"+v,d.state=A.SCRIPT);continue;case A.OPEN_WAKA:if(v==="!")d.state=A.SGML_DECL,d.sgmlDecl="";else if(!T(v))if(I(g,v))d.state=A.OPEN_TAG,d.tagName=v;else if(v==="/")d.state=A.CLOSE_TAG,d.tagName="";else if(v==="?")d.state=A.PROC_INST,d.procInstName=d.procInstBody="";else{if(U(d,"Unencoded <"),d.startTagPosition+1<d.position){var fe=d.position-d.startTagPosition;v=new Array(fe).join(" ")+v}d.textNode+="<"+v,d.state=A.TEXT}continue;case A.SGML_DECL:if(d.sgmlDecl+v==="--"){d.state=A.COMMENT,d.comment="",d.sgmlDecl="";continue}d.doctype&&d.doctype!==!0&&d.sgmlDecl?(d.state=A.DOCTYPE_DTD,d.doctype+="<!"+d.sgmlDecl+v,d.sgmlDecl=""):(d.sgmlDecl+v).toUpperCase()===f?(x(d,"onopencdata"),d.state=A.CDATA,d.sgmlDecl="",d.cdata=""):(d.sgmlDecl+v).toUpperCase()===u?(d.state=A.DOCTYPE,(d.doctype||d.sawRoot)&&U(d,"Inappropriately located doctype declaration"),d.doctype="",d.sgmlDecl=""):v===">"?(x(d,"onsgmldeclaration",d.sgmlDecl),d.sgmlDecl="",d.state=A.TEXT):(N(v)&&(d.state=A.SGML_DECL_QUOTED),d.sgmlDecl+=v);continue;case A.SGML_DECL_QUOTED:v===d.q&&(d.state=A.SGML_DECL,d.q=""),d.sgmlDecl+=v;continue;case A.DOCTYPE:v===">"?(d.state=A.TEXT,x(d,"ondoctype",d.doctype),d.doctype=!0):(d.doctype+=v,v==="["?d.state=A.DOCTYPE_DTD:N(v)&&(d.state=A.DOCTYPE_QUOTED,d.q=v));continue;case A.DOCTYPE_QUOTED:d.doctype+=v,v===d.q&&(d.q="",d.state=A.DOCTYPE);continue;case A.DOCTYPE_DTD:v==="]"?(d.doctype+=v,d.state=A.DOCTYPE):v==="<"?(d.state=A.OPEN_WAKA,d.startTagPosition=d.position):N(v)?(d.doctype+=v,d.state=A.DOCTYPE_DTD_QUOTED,d.q=v):d.doctype+=v;continue;case A.DOCTYPE_DTD_QUOTED:d.doctype+=v,v===d.q&&(d.state=A.DOCTYPE_DTD,d.q="");continue;case A.COMMENT:v==="-"?d.state=A.COMMENT_ENDING:d.comment+=v;continue;case A.COMMENT_ENDING:v==="-"?(d.state=A.COMMENT_ENDED,d.comment=se(d.opt,d.comment),d.comment&&x(d,"oncomment",d.comment),d.comment=""):(d.comment+="-"+v,d.state=A.COMMENT);continue;case A.COMMENT_ENDED:v!==">"?(U(d,"Malformed comment"),d.comment+="--"+v,d.state=A.COMMENT):d.doctype&&d.doctype!==!0?d.state=A.DOCTYPE_DTD:d.state=A.TEXT;continue;case A.CDATA:v==="]"?d.state=A.CDATA_ENDING:d.cdata+=v;continue;case A.CDATA_ENDING:v==="]"?d.state=A.CDATA_ENDING_2:(d.cdata+="]"+v,d.state=A.CDATA);continue;case A.CDATA_ENDING_2:v===">"?(d.cdata&&x(d,"oncdata",d.cdata),x(d,"onclosecdata"),d.cdata="",d.state=A.TEXT):v==="]"?d.cdata+="]":(d.cdata+="]]"+v,d.state=A.CDATA);continue;case A.PROC_INST:v==="?"?d.state=A.PROC_INST_ENDING:T(v)?d.state=A.PROC_INST_BODY:d.procInstName+=v;continue;case A.PROC_INST_BODY:if(!d.procInstBody&&T(v))continue;v==="?"?d.state=A.PROC_INST_ENDING:d.procInstBody+=v;continue;case A.PROC_INST_ENDING:v===">"?(x(d,"onprocessinginstruction",{name:d.procInstName,body:d.procInstBody}),d.procInstName=d.procInstBody="",d.state=A.TEXT):(d.procInstBody+="?"+v,d.state=A.PROC_INST_BODY);continue;case A.OPEN_TAG:I(E,v)?d.tagName+=v:(Q(d),v===">"?Ct(d):v==="/"?d.state=A.OPEN_TAG_SLASH:(T(v)||U(d,"Invalid character in tag name"),d.state=A.ATTRIB));continue;case A.OPEN_TAG_SLASH:v===">"?(Ct(d,!0),el(d)):(U(d,"Forward-slash in opening tag not followed by >"),d.state=A.ATTRIB);continue;case A.ATTRIB:if(T(v))continue;v===">"?Ct(d):v==="/"?d.state=A.OPEN_TAG_SLASH:I(g,v)?(d.attribName=v,d.attribValue="",d.state=A.ATTRIB_NAME):U(d,"Invalid attribute name");continue;case A.ATTRIB_NAME:v==="="?d.state=A.ATTRIB_VALUE:v===">"?(U(d,"Attribute without value"),d.attribValue=d.attribName,z(d),Ct(d)):T(v)?d.state=A.ATTRIB_NAME_SAW_WHITE:I(E,v)?d.attribName+=v:U(d,"Invalid attribute name");continue;case A.ATTRIB_NAME_SAW_WHITE:if(v==="=")d.state=A.ATTRIB_VALUE;else{if(T(v))continue;U(d,"Attribute without value"),d.tag.attributes[d.attribName]="",d.attribValue="",x(d,"onattribute",{name:d.attribName,value:""}),d.attribName="",v===">"?Ct(d):I(g,v)?(d.attribName=v,d.state=A.ATTRIB_NAME):(U(d,"Invalid attribute name"),d.state=A.ATTRIB)}continue;case A.ATTRIB_VALUE:if(T(v))continue;N(v)?(d.q=v,d.state=A.ATTRIB_VALUE_QUOTED):(d.opt.unquotedAttributeValues||ie(d,"Unquoted attribute value"),d.state=A.ATTRIB_VALUE_UNQUOTED,d.attribValue=v);continue;case A.ATTRIB_VALUE_QUOTED:if(v!==d.q){v==="&"?d.state=A.ATTRIB_VALUE_ENTITY_Q:d.attribValue+=v;continue}z(d),d.q="",d.state=A.ATTRIB_VALUE_CLOSED;continue;case A.ATTRIB_VALUE_CLOSED:T(v)?d.state=A.ATTRIB:v===">"?Ct(d):v==="/"?d.state=A.OPEN_TAG_SLASH:I(g,v)?(U(d,"No whitespace between attributes"),d.attribName=v,d.attribValue="",d.state=A.ATTRIB_NAME):U(d,"Invalid attribute name");continue;case A.ATTRIB_VALUE_UNQUOTED:if(!R(v)){v==="&"?d.state=A.ATTRIB_VALUE_ENTITY_U:d.attribValue+=v;continue}z(d),v===">"?Ct(d):d.state=A.ATTRIB;continue;case A.CLOSE_TAG:if(d.tagName)v===">"?el(d):I(E,v)?d.tagName+=v:d.script?(d.script+="</"+d.tagName,d.tagName="",d.state=A.SCRIPT):(T(v)||U(d,"Invalid tagname in closing tag"),d.state=A.CLOSE_TAG_SAW_WHITE);else{if(T(v))continue;M(g,v)?d.script?(d.script+="</"+v,d.state=A.SCRIPT):U(d,"Invalid tagname in closing tag."):d.tagName=v}continue;case A.CLOSE_TAG_SAW_WHITE:if(T(v))continue;v===">"?el(d):U(d,"Invalid characters in closing tag");continue;case A.TEXT_ENTITY:case A.ATTRIB_VALUE_ENTITY_Q:case A.ATTRIB_VALUE_ENTITY_U:var he,xe;switch(d.state){case A.TEXT_ENTITY:he=A.TEXT,xe="textNode";break;case A.ATTRIB_VALUE_ENTITY_Q:he=A.ATTRIB_VALUE_QUOTED,xe="attribValue";break;case A.ATTRIB_VALUE_ENTITY_U:he=A.ATTRIB_VALUE_UNQUOTED,xe="attribValue";break}if(v===";"){var Re=fS(d);d.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(Re)?(d.entity="",d.state=he,d.write(Re)):(d[xe]+=Re,d.entity="",d.state=he)}else I(d.entity.length?b:S,v)?d.entity+=v:(U(d,"Invalid character in entity name"),d[xe]+="&"+d.entity+v,d.entity="",d.state=he);continue;default:throw new Error(d,"Unknown state: "+d.state)}return d.position>=d.bufferCheckPosition&&n(d),d}String.fromCodePoint||(function(){var m=String.fromCharCode,d=Math.floor,C=function(){var v=16384,K=[],fe,he,xe=-1,Re=arguments.length;if(!Re)return"";for(var xr="";++xe<Re;){var Ae=Number(arguments[xe]);if(!isFinite(Ae)||Ae<0||Ae>1114111||d(Ae)!==Ae)throw RangeError("Invalid code point: "+Ae);Ae<=65535?K.push(Ae):(Ae-=65536,fe=(Ae>>10)+55296,he=Ae%1024+56320,K.push(fe,he)),(xe+1===Re||K.length>v)&&(xr+=m.apply(null,K),K.length=0)}return xr};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:C,configurable:!0,writable:!0}):String.fromCodePoint=C})()})(typeof Bs>"u"?Bs.sax={}:Bs)});var Rm=y(Zn=>{"use strict";Object.defineProperty(Zn,"__esModule",{value:!0});Zn.XElement=void 0;Zn.parseXml=OT;var CT=Lm(),js=Kn(),Hs=class{constructor(t){if(this.name=t,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!t)throw(0,js.newError)("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!NT(t))throw(0,js.newError)("Invalid element name: ".concat(t),"ERR_XML_ELEMENT_INVALID_NAME")}attribute(t){let r=this.attributes===null?null:this.attributes[t];if(r==null)throw(0,js.newError)('No attribute "'.concat(t,'"'),"ERR_XML_MISSED_ATTRIBUTE");return r}removeAttribute(t){this.attributes!==null&&delete this.attributes[t]}element(t,r=!1,n=null){let i=this.elementOrNull(t,r);if(i===null)throw(0,js.newError)(n||'No element "'.concat(t,'"'),"ERR_XML_MISSED_ELEMENT");return i}elementOrNull(t,r=!1){if(this.elements===null)return null;for(let n of this.elements)if(xm(n,t,r))return n;return null}getElements(t,r=!1){return this.elements===null?[]:this.elements.filter(n=>xm(n,t,r))}elementValueOrEmpty(t,r=!1){let n=this.elementOrNull(t,r);return n===null?"":n.value}};Zn.XElement=Hs;var TT=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function NT(e){return TT.test(e)}function xm(e,t,r){let n=e.name;return n===t||r===!0&&n.length===t.length&&n.toLowerCase()===t.toLowerCase()}function OT(e){let t=null,r=CT.parser(!0,{}),n=[];return r.onopentag=i=>{let s=new Hs(i.name);if(s.attributes=i.attributes,t===null)t=s;else{let o=n[n.length-1];o.elements==null&&(o.elements=[]),o.elements.push(s)}n.push(s)},r.onclosetag=()=>{n.pop()},r.ontext=i=>{n.length>0&&(n[n.length-1].value=i)},r.oncdata=i=>{let s=n[n.length-1];s.value=i,s.isCData=!0},r.onerror=i=>{throw i},r.write(e),t}});var ye=y(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.CURRENT_APP_PACKAGE_FILE_NAME=F.CURRENT_APP_INSTALLER_FILE_NAME=F.XElement=F.parseXml=F.UUID=F.parseDn=F.retry=F.githubUrl=F.getS3LikeProviderBaseUrl=F.ProgressCallbackTransform=F.MemoLazy=F.safeStringifyJson=F.safeGetHeader=F.parseJson=F.HttpExecutor=F.HttpError=F.DigestTransform=F.createHttpError=F.configureRequestUrl=F.configureRequestOptionsFromUrl=F.configureRequestOptions=F.newError=F.CancellationToken=F.CancellationError=void 0;F.asArray=RT;var km=Ps();Object.defineProperty(F,"CancellationError",{enumerable:!0,get:function(){return km.CancellationError}});Object.defineProperty(F,"CancellationToken",{enumerable:!0,get:function(){return km.CancellationToken}});var IT=Kn();Object.defineProperty(F,"newError",{enumerable:!0,get:function(){return IT.newError}});var ot=Em();Object.defineProperty(F,"configureRequestOptions",{enumerable:!0,get:function(){return ot.configureRequestOptions}});Object.defineProperty(F,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return ot.configureRequestOptionsFromUrl}});Object.defineProperty(F,"configureRequestUrl",{enumerable:!0,get:function(){return ot.configureRequestUrl}});Object.defineProperty(F,"createHttpError",{enumerable:!0,get:function(){return ot.createHttpError}});Object.defineProperty(F,"DigestTransform",{enumerable:!0,get:function(){return ot.DigestTransform}});Object.defineProperty(F,"HttpError",{enumerable:!0,get:function(){return ot.HttpError}});Object.defineProperty(F,"HttpExecutor",{enumerable:!0,get:function(){return ot.HttpExecutor}});Object.defineProperty(F,"parseJson",{enumerable:!0,get:function(){return ot.parseJson}});Object.defineProperty(F,"safeGetHeader",{enumerable:!0,get:function(){return ot.safeGetHeader}});Object.defineProperty(F,"safeStringifyJson",{enumerable:!0,get:function(){return ot.safeStringifyJson}});var PT=bm();Object.defineProperty(F,"MemoLazy",{enumerable:!0,get:function(){return PT.MemoLazy}});var DT=Nl();Object.defineProperty(F,"ProgressCallbackTransform",{enumerable:!0,get:function(){return DT.ProgressCallbackTransform}});var Fm=_m();Object.defineProperty(F,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return Fm.getS3LikeProviderBaseUrl}});Object.defineProperty(F,"githubUrl",{enumerable:!0,get:function(){return Fm.githubUrl}});var qT=Tm();Object.defineProperty(F,"retry",{enumerable:!0,get:function(){return qT.retry}});var LT=Nm();Object.defineProperty(F,"parseDn",{enumerable:!0,get:function(){return LT.parseDn}});var xT=qm();Object.defineProperty(F,"UUID",{enumerable:!0,get:function(){return xT.UUID}});var Um=Rm();Object.defineProperty(F,"parseXml",{enumerable:!0,get:function(){return Um.parseXml}});Object.defineProperty(F,"XElement",{enumerable:!0,get:function(){return Um.XElement}});F.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe";F.CURRENT_APP_PACKAGE_FILE_NAME="package.7z";function RT(e){return e==null?[]:Array.isArray(e)?e:[e]}});var Kr=y((s$,cr)=>{"use strict";function Mm(e){return typeof e>"u"||e===null}function kT(e){return typeof e=="object"&&e!==null}function FT(e){return Array.isArray(e)?e:Mm(e)?[]:[e]}function UT(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function MT(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function $T(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}cr.exports.isNothing=Mm;cr.exports.isObject=kT;cr.exports.toArray=FT;cr.exports.repeat=MT;cr.exports.isNegativeZero=$T;cr.exports.extend=UT});var Qr=y((o$,Bm)=>{"use strict";function $m(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),n+" "+r):n}function ei(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=$m(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}ei.prototype=Object.create(Error.prototype);ei.prototype.constructor=ei;ei.prototype.toString=function(t){return this.name+": "+$m(this,t)};Bm.exports=ei});var Hm=y((a$,jm)=>{"use strict";var ti=Kr();function xl(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function Rl(e,t){return ti.repeat(" ",t-e.length)+e}function BT(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",l,c,f=Math.min(e.line+t.linesAfter,i.length).toString().length,u=t.maxLength-(t.indent+f+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=xl(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),u),a=ti.repeat(" ",t.indent)+Rl((e.line-l+1).toString(),f)+" | "+c.str+"\n"+a;for(c=xl(e.buffer,n[o],i[o],e.position,u),a+=ti.repeat(" ",t.indent)+Rl((e.line+1).toString(),f)+" | "+c.str+"\n",a+=ti.repeat("-",t.indent+f+3+c.pos)+"^\n",l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)c=xl(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),u),a+=ti.repeat(" ",t.indent)+Rl((e.line+l+1).toString(),f)+" | "+c.str+"\n";return a.replace(/\n$/,"")}jm.exports=BT});var Se=y((l$,Gm)=>{"use strict";var Vm=Qr(),jT=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],HT=["scalar","sequence","mapping"];function VT(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function GT(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(jT.indexOf(r)===-1)throw new Vm('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=VT(t.styleAliases||null),HT.indexOf(this.kind)===-1)throw new Vm('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}Gm.exports=GT});var Ul=y((c$,Ym)=>{"use strict";var ri=Qr(),kl=Se();function Wm(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function WT(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Fl(e){return this.extend(e)}Fl.prototype.extend=function(t){var r=[],n=[];if(t instanceof kl)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new ri("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof kl))throw new ri("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new ri("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new ri("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof kl))throw new ri("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Fl.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Wm(i,"implicit"),i.compiledExplicit=Wm(i,"explicit"),i.compiledTypeMap=WT(i.compiledImplicit,i.compiledExplicit),i};Ym.exports=Fl});var Ml=y((u$,Km)=>{"use strict";var YT=Se();Km.exports=new YT("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var $l=y((f$,Qm)=>{"use strict";var KT=Se();Qm.exports=new KT("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var Bl=y((h$,zm)=>{"use strict";var QT=Se();zm.exports=new QT("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var jl=y((d$,Xm)=>{"use strict";var zT=Ul();Xm.exports=new zT({explicit:[Ml(),$l(),Bl()]})});var Hl=y((p$,Jm)=>{"use strict";var XT=Se();function JT(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function ZT(){return null}function eN(e){return e===null}Jm.exports=new XT("tag:yaml.org,2002:null",{kind:"scalar",resolve:JT,construct:ZT,predicate:eN,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var Vl=y((m$,Zm)=>{"use strict";var tN=Se();function rN(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function nN(e){return e==="true"||e==="True"||e==="TRUE"}function iN(e){return Object.prototype.toString.call(e)==="[object Boolean]"}Zm.exports=new tN("tag:yaml.org,2002:bool",{kind:"scalar",resolve:rN,construct:nN,predicate:iN,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var Gl=y((g$,eg)=>{"use strict";var sN=Kr(),oN=Se();function aN(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function lN(e){return 48<=e&&e<=55}function cN(e){return 48<=e&&e<=57}function uN(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!aN(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!lN(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!cN(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function fN(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function hN(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!sN.isNegativeZero(e)}eg.exports=new oN("tag:yaml.org,2002:int",{kind:"scalar",resolve:uN,construct:fN,predicate:hN,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var Wl=y((y$,rg)=>{"use strict";var tg=Kr(),dN=Se(),pN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function mN(e){return!(e===null||!pN.test(e)||e[e.length-1]==="_")}function gN(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var yN=/^[-+]?[0-9]+e/;function AN(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(tg.isNegativeZero(e))return"-0.0";return r=e.toString(10),yN.test(r)?r.replace("e",".e"):r}function wN(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||tg.isNegativeZero(e))}rg.exports=new dN("tag:yaml.org,2002:float",{kind:"scalar",resolve:mN,construct:gN,predicate:wN,represent:AN,defaultStyle:"lowercase"})});var Yl=y((A$,ng)=>{"use strict";ng.exports=jl().extend({implicit:[Hl(),Vl(),Gl(),Wl()]})});var Kl=y((w$,ig)=>{"use strict";ig.exports=Yl()});var Ql=y((E$,ag)=>{"use strict";var EN=Se(),sg=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),og=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function vN(e){return e===null?!1:sg.exec(e)!==null||og.exec(e)!==null}function bN(e){var t,r,n,i,s,o,a,l=0,c=null,f,u,h;if(t=sg.exec(e),t===null&&(t=og.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(f=+t[10],u=+(t[11]||0),c=(f*60+u)*6e4,t[9]==="-"&&(c=-c)),h=new Date(Date.UTC(r,n,i,s,o,a,l)),c&&h.setTime(h.getTime()-c),h}function SN(e){return e.toISOString()}ag.exports=new EN("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:vN,construct:bN,instanceOf:Date,represent:SN})});var zl=y((v$,lg)=>{"use strict";var _N=Se();function CN(e){return e==="<<"||e===null}lg.exports=new _N("tag:yaml.org,2002:merge",{kind:"scalar",resolve:CN})});var Jl=y((b$,cg)=>{"use strict";var TN=Se(),Xl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function NN(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Xl;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function ON(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Xl,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function IN(e){var t="",r=0,n,i,s=e.length,o=Xl;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function PN(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}cg.exports=new TN("tag:yaml.org,2002:binary",{kind:"scalar",resolve:NN,construct:ON,predicate:PN,represent:IN})});var Zl=y((S$,ug)=>{"use strict";var DN=Se(),qN=Object.prototype.hasOwnProperty,LN=Object.prototype.toString;function xN(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,LN.call(i)!=="[object Object]")return!1;for(s in i)if(qN.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function RN(e){return e!==null?e:[]}ug.exports=new DN("tag:yaml.org,2002:omap",{kind:"sequence",resolve:xN,construct:RN})});var ec=y((_$,fg)=>{"use strict";var kN=Se(),FN=Object.prototype.toString;function UN(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],FN.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function MN(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}fg.exports=new kN("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:UN,construct:MN})});var tc=y((C$,hg)=>{"use strict";var $N=Se(),BN=Object.prototype.hasOwnProperty;function jN(e){if(e===null)return!0;var t,r=e;for(t in r)if(BN.call(r,t)&&r[t]!==null)return!1;return!0}function HN(e){return e!==null?e:{}}hg.exports=new $N("tag:yaml.org,2002:set",{kind:"mapping",resolve:jN,construct:HN})});var Vs=y((T$,dg)=>{"use strict";dg.exports=Kl().extend({implicit:[Ql(),zl()],explicit:[Jl(),Zl(),ec(),tc()]})});var Pg=y((N$,sc)=>{"use strict";var fr=Kr(),Eg=Qr(),VN=Hm(),GN=Vs(),Rt=Object.prototype.hasOwnProperty,Gs=1,vg=2,bg=3,Ws=4,rc=1,WN=2,pg=3,YN=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,KN=/[\x85\u2028\u2029]/,QN=/[,\[\]\{\}]/,Sg=/^(?:!|!!|![a-z\-]+!)$/i,_g=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function mg(e){return Object.prototype.toString.call(e)}function at(e){return e===10||e===13}function hr(e){return e===9||e===32}function $e(e){return e===9||e===32||e===10||e===13}function zr(e){return e===44||e===91||e===93||e===123||e===125}function zN(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function XN(e){return e===120?2:e===117?4:e===85?8:0}function JN(e){return 48<=e&&e<=57?e-48:-1}function gg(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?"\n":e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function ZN(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function Cg(e,t,r){t==="__proto__"?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[t]=r}var Tg=new Array(256),Ng=new Array(256);for(ur=0;ur<256;ur++)Tg[ur]=gg(ur)?1:0,Ng[ur]=gg(ur);var ur;function eO(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||GN,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Og(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=VN(r),new Eg(t,r)}function k(e,t){throw Og(e,t)}function Ys(e,t){e.onWarning&&e.onWarning.call(null,Og(e,t))}var yg={YAML:function(t,r,n){var i,s,o;t.version!==null&&k(t,"duplication of %YAML directive"),n.length!==1&&k(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&k(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&k(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Ys(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&k(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],Sg.test(i)||k(t,"ill-formed tag handle (first argument) of the TAG directive"),Rt.call(t.tagMap,i)&&k(t,'there is a previously declared suffix for "'+i+'" tag handle'),_g.test(s)||k(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{k(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function xt(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||k(e,"expected valid JSON character");else YN.test(a)&&k(e,"the stream contains non-printable characters");e.result+=a}}function Ag(e,t,r,n){var i,s,o,a;for(fr.isObject(r)||k(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],Rt.call(t,s)||(Cg(t,s,r[s]),n[s]=!0)}function Xr(e,t,r,n,i,s,o,a,l){var c,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,f=i.length;c<f;c+=1)Array.isArray(i[c])&&k(e,"nested arrays are not supported inside keys"),typeof i=="object"&&mg(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&mg(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,f=s.length;c<f;c+=1)Ag(e,t,s[c],r);else Ag(e,t,s,r);else!e.json&&!Rt.call(r,i)&&Rt.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,k(e,"duplicated mapping key")),Cg(t,i,s),delete r[i];return t}function nc(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):k(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function ce(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;hr(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(at(i))for(nc(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Ys(e,"deficient indentation"),n}function Ks(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||$e(r)))}function ic(e,t){t===1?e.result+=" ":t>1&&(e.result+=fr.repeat("\n",t-1))}function tO(e,t,r){var n,i,s,o,a,l,c,f,u=e.kind,h=e.result,p;if(p=e.input.charCodeAt(e.position),$e(p)||zr(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),$e(i)||r&&zr(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),$e(i)||r&&zr(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),$e(n))break}else{if(e.position===e.lineStart&&Ks(e)||r&&zr(p))break;if(at(p))if(l=e.line,c=e.lineStart,f=e.lineIndent,ce(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=f;break}}a&&(xt(e,s,o,!1),ic(e,e.line-l),s=o=e.position,a=!1),hr(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return xt(e,s,o,!1),e.result?!0:(e.kind=u,e.result=h,!1)}function rO(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(xt(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else at(r)?(xt(e,n,i,!0),ic(e,ce(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Ks(e)?k(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);k(e,"unexpected end of the stream within a single quoted scalar")}function nO(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return xt(e,r,e.position,!0),e.position++,!0;if(a===92){if(xt(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),at(a))ce(e,!1,t);else if(a<256&&Tg[a])e.result+=Ng[a],e.position++;else if((o=XN(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=zN(a))>=0?s=(s<<4)+o:k(e,"expected hexadecimal character");e.result+=ZN(s),e.position++}else k(e,"unknown escape sequence");r=n=e.position}else at(a)?(xt(e,r,n,!0),ic(e,ce(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Ks(e)?k(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}k(e,"unexpected end of the stream within a double quoted scalar")}function iO(e,t){var r=!0,n,i,s,o=e.tag,a,l=e.anchor,c,f,u,h,p,w=Object.create(null),g,E,S,b;if(b=e.input.charCodeAt(e.position),b===91)f=93,p=!1,a=[];else if(b===123)f=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),b=e.input.charCodeAt(++e.position);b!==0;){if(ce(e,!0,t),b=e.input.charCodeAt(e.position),b===f)return e.position++,e.tag=o,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=a,!0;r?b===44&&k(e,"expected the node content, but found ','"):k(e,"missed comma between flow collection entries"),E=g=S=null,u=h=!1,b===63&&(c=e.input.charCodeAt(e.position+1),$e(c)&&(u=h=!0,e.position++,ce(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,Jr(e,t,Gs,!1,!0),E=e.tag,g=e.result,ce(e,!0,t),b=e.input.charCodeAt(e.position),(h||e.line===n)&&b===58&&(u=!0,b=e.input.charCodeAt(++e.position),ce(e,!0,t),Jr(e,t,Gs,!1,!0),S=e.result),p?Xr(e,a,w,E,g,S,n,i,s):u?a.push(Xr(e,null,w,E,g,S,n,i,s)):a.push(g),ce(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}k(e,"unexpected end of the stream within a flow collection")}function sO(e,t){var r,n,i=rc,s=!1,o=!1,a=t,l=0,c=!1,f,u;if(u=e.input.charCodeAt(e.position),u===124)n=!1;else if(u===62)n=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)rc===i?i=u===43?pg:WN:k(e,"repeat of a chomping mode identifier");else if((f=JN(u))>=0)f===0?k(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?k(e,"repeat of an indentation width identifier"):(a=t+f-1,o=!0);else break;if(hr(u)){do u=e.input.charCodeAt(++e.position);while(hr(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!at(u)&&u!==0)}for(;u!==0;){for(nc(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),at(u)){l++;continue}if(e.lineIndent<a){i===pg?e.result+=fr.repeat("\n",s?1+l:l):i===rc&&s&&(e.result+="\n");break}for(n?hr(u)?(c=!0,e.result+=fr.repeat("\n",s?1+l:l)):c?(c=!1,e.result+=fr.repeat("\n",l+1)):l===0?s&&(e.result+=" "):e.result+=fr.repeat("\n",l):e.result+=fr.repeat("\n",s?1+l:l),s=!0,o=!0,l=0,r=e.position;!at(u)&&u!==0;)u=e.input.charCodeAt(++e.position);xt(e,r,e.position,!1)}return!0}function wg(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,k(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!$e(o))));){if(a=!0,e.position++,ce(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,Jr(e,t,bg,!1,!0),s.push(e.result),ce(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)k(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function oO(e,t,r){var n,i,s,o,a,l,c=e.tag,f=e.anchor,u={},h=Object.create(null),p=null,w=null,g=null,E=!1,S=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),b=e.input.charCodeAt(e.position);b!==0;){if(!E&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,k(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(b===63||b===58)&&$e(n))b===63?(E&&(Xr(e,u,h,p,w,null,o,a,l),p=w=g=null),S=!0,E=!0,i=!0):E?(E=!1,i=!0):k(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else{if(o=e.line,a=e.lineStart,l=e.position,!Jr(e,r,vg,!1,!0))break;if(e.line===s){for(b=e.input.charCodeAt(e.position);hr(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),$e(b)||k(e,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(Xr(e,u,h,p,w,null,o,a,l),p=w=g=null),S=!0,E=!1,i=!1,p=e.tag,w=e.result;else if(S)k(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=f,!0}else if(S)k(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(E&&(o=e.line,a=e.lineStart,l=e.position),Jr(e,t,Ws,!0,i)&&(E?w=e.result:g=e.result),E||(Xr(e,u,h,p,w,g,o,a,l),p=w=g=null),ce(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&b!==0)k(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return E&&Xr(e,u,h,p,w,null,o,a,l),S&&(e.tag=c,e.anchor=f,e.kind="mapping",e.result=u),S}function aO(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&k(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):k(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!$e(o);)o===33&&(n?k(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),Sg.test(i)||k(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),QN.test(s)&&k(e,"tag suffix cannot contain flow indicator characters")}s&&!_g.test(s)&&k(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{k(e,"tag name is malformed: "+s)}return r?e.tag=s:Rt.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:k(e,'undeclared tag handle "'+i+'"'),!0}function lO(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&k(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!$e(r)&&!zr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&k(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function cO(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!$e(n)&&!zr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&k(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),Rt.call(e.anchorMap,r)||k(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],ce(e,!0,-1),!0}function Jr(e,t,r,n,i){var s,o,a,l=1,c=!1,f=!1,u,h,p,w,g,E;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Ws===r||bg===r,n&&ce(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;aO(e)||lO(e);)ce(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||Ws===r)&&(Gs===r||vg===r?g=t:g=t+1,E=e.position-e.lineStart,l===1?a&&(wg(e,E)||oO(e,E,g))||iO(e,g)?f=!0:(o&&sO(e,g)||rO(e,g)||nO(e,g)?f=!0:cO(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&k(e,"alias node should not have any properties")):tO(e,g,Gs===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(f=a&&wg(e,E))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&k(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,h=e.implicitTypes.length;u<h;u+=1)if(w=e.implicitTypes[u],w.resolve(e.result)){e.result=w.construct(e.result),e.tag=w.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(Rt.call(e.typeMap[e.kind||"fallback"],e.tag))w=e.typeMap[e.kind||"fallback"][e.tag];else for(w=null,p=e.typeMap.multi[e.kind||"fallback"],u=0,h=p.length;u<h;u+=1)if(e.tag.slice(0,p[u].tag.length)===p[u].tag){w=p[u];break}w||k(e,"unknown tag !<"+e.tag+">"),e.result!==null&&w.kind!==e.kind&&k(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+w.kind+'", not "'+e.kind+'"'),w.resolve(e.result,e.tag)?(e.result=w.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):k(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function uO(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(ce(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!$e(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&k(e,"directive name must not be less than one character in length");o!==0;){for(;hr(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!at(o));break}if(at(o))break;for(r=e.position;o!==0&&!$e(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&nc(e),Rt.call(yg,n)?yg[n](e,n,i):Ys(e,'unknown document directive "'+n+'"')}if(ce(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,ce(e,!0,-1)):s&&k(e,"directives end mark is expected"),Jr(e,e.lineIndent-1,Ws,!1,!0),ce(e,!0,-1),e.checkLineBreaks&&KN.test(e.input.slice(t,e.position))&&Ys(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ks(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,ce(e,!0,-1));return}if(e.position<e.length-1)k(e,"end of the stream or a document separator is expected");else return}function Ig(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+="\n"),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new eO(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,k(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)uO(r);return r.documents}function fO(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=Ig(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function hO(e,t){var r=Ig(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Eg("expected a single document in the stream, but found more")}}sc.exports.loadAll=fO;sc.exports.load=hO});var Xg=y((O$,zg)=>{"use strict";var Xs=Kr(),ai=Qr(),dO=Vs(),Mg=Object.prototype.toString,$g=Object.prototype.hasOwnProperty,uc=65279,pO=9,ii=10,mO=13,gO=32,yO=33,AO=34,oc=35,wO=37,EO=38,vO=39,bO=42,Bg=44,SO=45,Qs=58,_O=61,CO=62,TO=63,NO=64,jg=91,Hg=93,OO=96,Vg=123,IO=124,Gg=125,_e={};_e[0]="\\0";_e[7]="\\a";_e[8]="\\b";_e[9]="\\t";_e[10]="\\n";_e[11]="\\v";_e[12]="\\f";_e[13]="\\r";_e[27]="\\e";_e[34]='\\"';_e[92]="\\\\";_e[133]="\\N";_e[160]="\\_";_e[8232]="\\L";_e[8233]="\\P";var PO=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],DO=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function qO(e,t){var r,n,i,s,o,a,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&$g.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function LO(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new ai("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Xs.repeat("0",n-t.length)+t}var xO=1,si=2;function RO(e){this.schema=e.schema||dO,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Xs.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=qO(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?si:xO,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Dg(e,t){for(var r=Xs.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf("\n",n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!=="\n"&&(s+=r),s+=o;return s}function ac(e,t){return"\n"+Xs.repeat(" ",e.indent*t)}function kO(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function zs(e){return e===gO||e===pO}function oi(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==uc||65536<=e&&e<=1114111}function qg(e){return oi(e)&&e!==uc&&e!==mO&&e!==ii}function Lg(e,t,r){var n=qg(e),i=n&&!zs(e);return(r?n:n&&e!==Bg&&e!==jg&&e!==Hg&&e!==Vg&&e!==Gg)&&e!==oc&&!(t===Qs&&!i)||qg(t)&&!zs(t)&&e===oc||t===Qs&&i}function FO(e){return oi(e)&&e!==uc&&!zs(e)&&e!==SO&&e!==TO&&e!==Qs&&e!==Bg&&e!==jg&&e!==Hg&&e!==Vg&&e!==Gg&&e!==oc&&e!==EO&&e!==bO&&e!==yO&&e!==IO&&e!==_O&&e!==CO&&e!==vO&&e!==AO&&e!==wO&&e!==NO&&e!==OO}function UO(e){return!zs(e)&&e!==Qs}function ni(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Wg(e){var t=/^\n* /;return t.test(e)}var Yg=1,lc=2,Kg=3,Qg=4,Zr=5;function MO(e,t,r,n,i,s,o,a){var l,c=0,f=null,u=!1,h=!1,p=n!==-1,w=-1,g=FO(ni(e,0))&&UO(ni(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ni(e,l),!oi(c))return Zr;g=g&&Lg(c,f,a),f=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ni(e,l),c===ii)u=!0,p&&(h=h||l-w-1>n&&e[w+1]!==" ",w=l);else if(!oi(c))return Zr;g=g&&Lg(c,f,a),f=c}h=h||p&&l-w-1>n&&e[w+1]!==" "}return!u&&!h?g&&!o&&!i(e)?Yg:s===si?Zr:lc:r>9&&Wg(e)?Zr:o?s===si?Zr:lc:h?Qg:Kg}function $O(e,t,r,n,i){e.dump=(function(){if(t.length===0)return e.quotingType===si?'""':"''";if(!e.noCompatMode&&(PO.indexOf(t)!==-1||DO.test(t)))return e.quotingType===si?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return kO(e,c)}switch(MO(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,i)){case Yg:return t;case lc:return"'"+t.replace(/'/g,"''")+"'";case Kg:return"|"+xg(t,e.indent)+Rg(Dg(t,s));case Qg:return">"+xg(t,e.indent)+Rg(Dg(BO(t,o),s));case Zr:return'"'+jO(t,o)+'"';default:throw new ai("impossible error: invalid scalar style")}})()}function xg(e,t){var r=Wg(e)?String(t):"",n=e[e.length-1]==="\n",i=n&&(e[e.length-2]==="\n"||e==="\n"),s=i?"+":n?"":"-";return r+s+"\n"}function Rg(e){return e[e.length-1]==="\n"?e.slice(0,-1):e}function BO(e,t){for(var r=/(\n+)([^\n]*)/g,n=(function(){var c=e.indexOf("\n");return c=c!==-1?c:e.length,r.lastIndex=c,kg(e.slice(0,c),t)})(),i=e[0]==="\n"||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!i&&!s&&l!==""?"\n":"")+kg(l,t),i=s}return n}function kg(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,l="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,l+="\n"+e.slice(i,s),i=s+1),o=a;return l+="\n",e.length-i>t&&o>i?l+=e.slice(i,o)+"\n"+e.slice(o+1):l+=e.slice(i),l.slice(1)}function jO(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ni(e,i),n=_e[r],!n&&oi(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||LO(r);return t}function HO(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(mt(e,t,a,!1,!1)||typeof a>"u"&&mt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Fg(e,t,r,n){var i="",s=e.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(mt(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&mt(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=ac(e,t)),e.dump&&ii===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function VO(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,l,c,f;for(o=0,a=s.length;o<a;o+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),l=s[o],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),mt(e,t,l,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),mt(e,t,c,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}function GO(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,l,c,f,u,h;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new ai("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)h="",(!n||i!=="")&&(h+=ac(e,t)),c=o[a],f=r[c],e.replacer&&(f=e.replacer.call(r,c,f)),mt(e,t+1,c,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&ii===e.dump.charCodeAt(0)?h+="?":h+="? "),h+=e.dump,u&&(h+=ac(e,t)),mt(e,t+1,f,!0,u)&&(e.dump&&ii===e.dump.charCodeAt(0)?h+=":":h+=": ",h+=e.dump,i+=h));e.tag=s,e.dump=i||"{}"}function Ug(e,t,r){var n,i,s,o,a,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,Mg.call(a.represent)==="[object Function]")n=a.represent(t,l);else if($g.call(a.represent,l))n=a.represent[l](t,l);else throw new ai("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function mt(e,t,r,n,i,s,o){e.tag=null,e.dump=r,Ug(e,r,!1)||Ug(e,r,!0);var a=Mg.call(e.dump),l=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=a==="[object Object]"||a==="[object Array]",u,h;if(f&&(u=e.duplicates.indexOf(r),h=u!==-1),(e.tag!==null&&e.tag!=="?"||h||e.indent!==2&&t>0)&&(i=!1),h&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(f&&h&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(GO(e,t,e.dump,i),h&&(e.dump="&ref_"+u+e.dump)):(VO(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?Fg(e,t-1,e.dump,i):Fg(e,t,e.dump,i),h&&(e.dump="&ref_"+u+e.dump)):(HO(e,t,e.dump),h&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&$O(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new ai("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function WO(e,t){var r=[],n=[],i,s;for(cc(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function cc(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)cc(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)cc(e[n[i]],t,r)}function YO(e,t){t=t||{};var r=new RO(t);r.noRefs||WO(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),mt(r,0,n,!0,!0)?r.dump+"\n":""}zg.exports.dump=YO});var Js=y((I$,Pe)=>{"use strict";var Jg=Pg(),KO=Xg();function fc(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Pe.exports.Type=Se();Pe.exports.Schema=Ul();Pe.exports.FAILSAFE_SCHEMA=jl();Pe.exports.JSON_SCHEMA=Yl();Pe.exports.CORE_SCHEMA=Kl();Pe.exports.DEFAULT_SCHEMA=Vs();Pe.exports.load=Jg.load;Pe.exports.loadAll=Jg.loadAll;Pe.exports.dump=KO.dump;Pe.exports.YAMLException=Qr();Pe.exports.types={binary:Jl(),float:Wl(),map:Bl(),null:Hl(),pairs:ec(),set:tc(),timestamp:Ql(),bool:Vl(),int:Gl(),merge:zl(),omap:Zl(),seq:$l(),str:Ml()};Pe.exports.safeLoad=fc("safeLoad","load");Pe.exports.safeLoadAll=fc("safeLoadAll","loadAll");Pe.exports.safeDump=fc("safeDump","dump")});var Zg=y(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});Zs.Lazy=void 0;var hc=class{constructor(t){this._value=null,this.creator=t}get hasValue(){return this.creator==null}get value(){if(this.creator==null)return this._value;let t=this.creator();return this.value=t,t}set value(t){this._value=t,this.creator=null}};Zs.Lazy=hc});var li=y((D$,ey)=>{"use strict";var QO="2.0.0",zO=Number.MAX_SAFE_INTEGER||9007199254740991,XO=16,JO=250,ZO=["major","premajor","minor","preminor","patch","prepatch","prerelease"];ey.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:XO,MAX_SAFE_BUILD_LENGTH:JO,MAX_SAFE_INTEGER:zO,RELEASE_TYPES:ZO,SEMVER_SPEC_VERSION:QO,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ci=y((q$,ty)=>{"use strict";var e1=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};ty.exports=e1});var en=y((lt,ry)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:dc,MAX_SAFE_BUILD_LENGTH:t1,MAX_LENGTH:r1}=li(),n1=ci();lt=ry.exports={};var i1=lt.re=[],s1=lt.safeRe=[],P=lt.src=[],o1=lt.safeSrc=[],D=lt.t={},a1=0,pc="[a-zA-Z0-9-]",l1=[["\\s",1],["\\d",r1],[pc,t1]],c1=e=>{for(let[t,r]of l1)e=e.split("".concat(t,"*")).join("".concat(t,"{0,").concat(r,"}")).split("".concat(t,"+")).join("".concat(t,"{1,").concat(r,"}"));return e},j=(e,t,r)=>{let n=c1(t),i=a1++;n1(e,i,t),D[e]=i,P[i]=t,o1[i]=n,i1[i]=new RegExp(t,r?"g":void 0),s1[i]=new RegExp(n,r?"g":void 0)};j("NUMERICIDENTIFIER","0|[1-9]\\d*");j("NUMERICIDENTIFIERLOOSE","\\d+");j("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(pc,"*"));j("MAINVERSION","(".concat(P[D.NUMERICIDENTIFIER],")\\.")+"(".concat(P[D.NUMERICIDENTIFIER],")\\.")+"(".concat(P[D.NUMERICIDENTIFIER],")"));j("MAINVERSIONLOOSE","(".concat(P[D.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(P[D.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(P[D.NUMERICIDENTIFIERLOOSE],")"));j("PRERELEASEIDENTIFIER","(?:".concat(P[D.NONNUMERICIDENTIFIER],"|").concat(P[D.NUMERICIDENTIFIER],")"));j("PRERELEASEIDENTIFIERLOOSE","(?:".concat(P[D.NONNUMERICIDENTIFIER],"|").concat(P[D.NUMERICIDENTIFIERLOOSE],")"));j("PRERELEASE","(?:-(".concat(P[D.PRERELEASEIDENTIFIER],"(?:\\.").concat(P[D.PRERELEASEIDENTIFIER],")*))"));j("PRERELEASELOOSE","(?:-?(".concat(P[D.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(P[D.PRERELEASEIDENTIFIERLOOSE],")*))"));j("BUILDIDENTIFIER","".concat(pc,"+"));j("BUILD","(?:\\+(".concat(P[D.BUILDIDENTIFIER],"(?:\\.").concat(P[D.BUILDIDENTIFIER],")*))"));j("FULLPLAIN","v?".concat(P[D.MAINVERSION]).concat(P[D.PRERELEASE],"?").concat(P[D.BUILD],"?"));j("FULL","^".concat(P[D.FULLPLAIN],"$"));j("LOOSEPLAIN","[v=\\s]*".concat(P[D.MAINVERSIONLOOSE]).concat(P[D.PRERELEASELOOSE],"?").concat(P[D.BUILD],"?"));j("LOOSE","^".concat(P[D.LOOSEPLAIN],"$"));j("GTLT","((?:<|>)?=?)");j("XRANGEIDENTIFIERLOOSE","".concat(P[D.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));j("XRANGEIDENTIFIER","".concat(P[D.NUMERICIDENTIFIER],"|x|X|\\*"));j("XRANGEPLAIN","[v=\\s]*(".concat(P[D.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(P[D.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(P[D.XRANGEIDENTIFIER],")")+"(?:".concat(P[D.PRERELEASE],")?").concat(P[D.BUILD],"?")+")?)?");j("XRANGEPLAINLOOSE","[v=\\s]*(".concat(P[D.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(P[D.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(P[D.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(P[D.PRERELEASELOOSE],")?").concat(P[D.BUILD],"?")+")?)?");j("XRANGE","^".concat(P[D.GTLT],"\\s*").concat(P[D.XRANGEPLAIN],"$"));j("XRANGELOOSE","^".concat(P[D.GTLT],"\\s*").concat(P[D.XRANGEPLAINLOOSE],"$"));j("COERCEPLAIN","(^|[^\\d])(\\d{1,".concat(dc,"})")+"(?:\\.(\\d{1,".concat(dc,"}))?")+"(?:\\.(\\d{1,".concat(dc,"}))?"));j("COERCE","".concat(P[D.COERCEPLAIN],"(?:$|[^\\d])"));j("COERCEFULL",P[D.COERCEPLAIN]+"(?:".concat(P[D.PRERELEASE],")?")+"(?:".concat(P[D.BUILD],")?")+"(?:$|[^\\d])");j("COERCERTL",P[D.COERCE],!0);j("COERCERTLFULL",P[D.COERCEFULL],!0);j("LONETILDE","(?:~>?)");j("TILDETRIM","(\\s*)".concat(P[D.LONETILDE],"\\s+"),!0);lt.tildeTrimReplace="$1~";j("TILDE","^".concat(P[D.LONETILDE]).concat(P[D.XRANGEPLAIN],"$"));j("TILDELOOSE","^".concat(P[D.LONETILDE]).concat(P[D.XRANGEPLAINLOOSE],"$"));j("LONECARET","(?:\\^)");j("CARETTRIM","(\\s*)".concat(P[D.LONECARET],"\\s+"),!0);lt.caretTrimReplace="$1^";j("CARET","^".concat(P[D.LONECARET]).concat(P[D.XRANGEPLAIN],"$"));j("CARETLOOSE","^".concat(P[D.LONECARET]).concat(P[D.XRANGEPLAINLOOSE],"$"));j("COMPARATORLOOSE","^".concat(P[D.GTLT],"\\s*(").concat(P[D.LOOSEPLAIN],")$|^$"));j("COMPARATOR","^".concat(P[D.GTLT],"\\s*(").concat(P[D.FULLPLAIN],")$|^$"));j("COMPARATORTRIM","(\\s*)".concat(P[D.GTLT],"\\s*(").concat(P[D.LOOSEPLAIN],"|").concat(P[D.XRANGEPLAIN],")"),!0);lt.comparatorTrimReplace="$1$2$3";j("HYPHENRANGE","^\\s*(".concat(P[D.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(P[D.XRANGEPLAIN],")")+"\\s*$");j("HYPHENRANGELOOSE","^\\s*(".concat(P[D.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(P[D.XRANGEPLAINLOOSE],")")+"\\s*$");j("STAR","(<|>)?=?\\s*\\*");j("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");j("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var eo=y((L$,ny)=>{"use strict";var u1=Object.freeze({loose:!0}),f1=Object.freeze({}),h1=e=>e?typeof e!="object"?u1:e:f1;ny.exports=h1});var mc=y((x$,oy)=>{"use strict";var iy=/^[0-9]+$/,sy=(e,t)=>{let r=iy.test(e),n=iy.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},d1=(e,t)=>sy(t,e);oy.exports={compareIdentifiers:sy,rcompareIdentifiers:d1}});var Ce=y((R$,ly)=>{"use strict";var to=ci(),{MAX_LENGTH:ay,MAX_SAFE_INTEGER:ro}=li(),{safeRe:no,t:io}=en(),p1=eo(),{compareIdentifiers:tn}=mc(),gc=class e{constructor(t,r){if(r=p1(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError('Invalid version. Must be a string. Got type "'.concat(typeof t,'".'));if(t.length>ay)throw new TypeError("version is longer than ".concat(ay," characters"));to("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?no[io.LOOSE]:no[io.FULL]);if(!n)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>ro||this.major<0)throw new TypeError("Invalid major version");if(this.minor>ro||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>ro||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<ro)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(t){if(to("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),tn(this.major,t.major)||tn(this.minor,t.minor)||tn(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(to("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return tn(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(to("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return tn(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i="-".concat(r).match(this.options.loose?no[io.PRERELEASELOOSE]:no[io.PRERELEASE]);if(!i||i[1]!==r)throw new Error("invalid identifier: ".concat(r))}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error("version ".concat(this.raw," is not a prerelease"));this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),tn(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error("invalid increment argument: ".concat(t))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}};ly.exports=gc});var dr=y((k$,uy)=>{"use strict";var cy=Ce(),m1=(e,t,r=!1)=>{if(e instanceof cy)return e;try{return new cy(e,t)}catch(n){if(!r)return null;throw n}};uy.exports=m1});var hy=y((F$,fy)=>{"use strict";var g1=dr(),y1=(e,t)=>{let r=g1(e,t);return r?r.version:null};fy.exports=y1});var py=y((U$,dy)=>{"use strict";var A1=dr(),w1=(e,t)=>{let r=A1(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};dy.exports=w1});var yy=y((M$,gy)=>{"use strict";var my=Ce(),E1=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new my(e instanceof my?e.version:e,r).inc(t,n,i).version}catch{return null}};gy.exports=E1});var Ey=y(($$,wy)=>{"use strict";var Ay=dr(),v1=(e,t)=>{let r=Ay(e,null,!0),n=Ay(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,o=s?r:n,a=s?n:r,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l){if(!a.patch&&!a.minor)return"major";if(a.compareMain(o)===0)return a.minor&&!a.patch?"minor":"patch"}let f=l?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"};wy.exports=v1});var by=y((B$,vy)=>{"use strict";var b1=Ce(),S1=(e,t)=>new b1(e,t).major;vy.exports=S1});var _y=y((j$,Sy)=>{"use strict";var _1=Ce(),C1=(e,t)=>new _1(e,t).minor;Sy.exports=C1});var Ty=y((H$,Cy)=>{"use strict";var T1=Ce(),N1=(e,t)=>new T1(e,t).patch;Cy.exports=N1});var Oy=y((V$,Ny)=>{"use strict";var O1=dr(),I1=(e,t)=>{let r=O1(e,t);return r&&r.prerelease.length?r.prerelease:null};Ny.exports=I1});var ze=y((G$,Py)=>{"use strict";var Iy=Ce(),P1=(e,t,r)=>new Iy(e,r).compare(new Iy(t,r));Py.exports=P1});var qy=y((W$,Dy)=>{"use strict";var D1=ze(),q1=(e,t,r)=>D1(t,e,r);Dy.exports=q1});var xy=y((Y$,Ly)=>{"use strict";var L1=ze(),x1=(e,t)=>L1(e,t,!0);Ly.exports=x1});var so=y((K$,ky)=>{"use strict";var Ry=Ce(),R1=(e,t,r)=>{let n=new Ry(e,r),i=new Ry(t,r);return n.compare(i)||n.compareBuild(i)};ky.exports=R1});var Uy=y((Q$,Fy)=>{"use strict";var k1=so(),F1=(e,t)=>e.sort((r,n)=>k1(r,n,t));Fy.exports=F1});var $y=y((z$,My)=>{"use strict";var U1=so(),M1=(e,t)=>e.sort((r,n)=>U1(n,r,t));My.exports=M1});var ui=y((X$,By)=>{"use strict";var $1=ze(),B1=(e,t,r)=>$1(e,t,r)>0;By.exports=B1});var oo=y((J$,jy)=>{"use strict";var j1=ze(),H1=(e,t,r)=>j1(e,t,r)<0;jy.exports=H1});var yc=y((Z$,Hy)=>{"use strict";var V1=ze(),G1=(e,t,r)=>V1(e,t,r)===0;Hy.exports=G1});var Ac=y((eB,Vy)=>{"use strict";var W1=ze(),Y1=(e,t,r)=>W1(e,t,r)!==0;Vy.exports=Y1});var ao=y((tB,Gy)=>{"use strict";var K1=ze(),Q1=(e,t,r)=>K1(e,t,r)>=0;Gy.exports=Q1});var lo=y((rB,Wy)=>{"use strict";var z1=ze(),X1=(e,t,r)=>z1(e,t,r)<=0;Wy.exports=X1});var wc=y((nB,Yy)=>{"use strict";var J1=yc(),Z1=Ac(),eI=ui(),tI=ao(),rI=oo(),nI=lo(),iI=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return J1(e,r,n);case"!=":return Z1(e,r,n);case">":return eI(e,r,n);case">=":return tI(e,r,n);case"<":return rI(e,r,n);case"<=":return nI(e,r,n);default:throw new TypeError("Invalid operator: ".concat(t))}};Yy.exports=iI});var Qy=y((iB,Ky)=>{"use strict";var sI=Ce(),oI=dr(),{safeRe:co,t:uo}=en(),aI=(e,t)=>{if(e instanceof sI)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?co[uo.COERCEFULL]:co[uo.COERCE]);else{let l=t.includePrerelease?co[uo.COERCERTLFULL]:co[uo.COERCERTL],c;for(;(c=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",o=t.includePrerelease&&r[5]?"-".concat(r[5]):"",a=t.includePrerelease&&r[6]?"+".concat(r[6]):"";return oI("".concat(n,".").concat(i,".").concat(s).concat(o).concat(a),t)};Ky.exports=aI});var Xy=y((sB,zy)=>{"use strict";var Ec=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};zy.exports=Ec});var Xe=y((oB,t0)=>{"use strict";var lI=/\s+/g,vc=class e{constructor(t,r){if(r=uI(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof bc)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(lI," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(this.raw));if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Zy(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&yI(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&mI)|(this.options.loose&&gI))+":"+t,i=Jy.get(n);if(i)return i;let s=this.options.loose,o=s?Be[De.HYPHENRANGELOOSE]:Be[De.HYPHENRANGE];t=t.replace(o,NI(this.options.includePrerelease)),ee("hyphen replace",t),t=t.replace(Be[De.COMPARATORTRIM],hI),ee("comparator trim",t),t=t.replace(Be[De.TILDETRIM],dI),ee("tilde trim",t),t=t.replace(Be[De.CARETTRIM],pI),ee("caret trim",t);let a=t.split(" ").map(u=>AI(u,this.options)).join(" ").split(/\s+/).map(u=>TI(u,this.options));s&&(a=a.filter(u=>(ee("loose invalid filter",u,this.options),!!u.match(Be[De.COMPARATORLOOSE])))),ee("range list",a);let l=new Map,c=a.map(u=>new bc(u,this.options));for(let u of c){if(Zy(u))return[u];l.set(u.value,u)}l.size>1&&l.has("")&&l.delete("");let f=[...l.values()];return Jy.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>e0(n,r)&&t.set.some(i=>e0(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new fI(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(OI(this.set[r],t,this.options))return!0;return!1}};t0.exports=vc;var cI=Xy(),Jy=new cI,uI=eo(),bc=fi(),ee=ci(),fI=Ce(),{safeRe:Be,t:De,comparatorTrimReplace:hI,tildeTrimReplace:dI,caretTrimReplace:pI}=en(),{FLAG_INCLUDE_PRERELEASE:mI,FLAG_LOOSE:gI}=li(),Zy=e=>e.value==="<0.0.0-0",yI=e=>e.value==="",e0=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},AI=(e,t)=>(ee("comp",e,t),e=vI(e,t),ee("caret",e),e=wI(e,t),ee("tildes",e),e=SI(e,t),ee("xrange",e),e=CI(e,t),ee("stars",e),e),qe=e=>!e||e.toLowerCase()==="x"||e==="*",wI=(e,t)=>e.trim().split(/\s+/).map(r=>EI(r,t)).join(" "),EI=(e,t)=>{let r=t.loose?Be[De.TILDELOOSE]:Be[De.TILDE];return e.replace(r,(n,i,s,o,a)=>{ee("tilde",e,n,i,s,o,a);let l;return qe(i)?l="":qe(s)?l=">=".concat(i,".0.0 <").concat(+i+1,".0.0-0"):qe(o)?l=">=".concat(i,".").concat(s,".0 <").concat(i,".").concat(+s+1,".0-0"):a?(ee("replaceTilde pr",a),l=">=".concat(i,".").concat(s,".").concat(o,"-").concat(a," <").concat(i,".").concat(+s+1,".0-0")):l=">=".concat(i,".").concat(s,".").concat(o," <").concat(i,".").concat(+s+1,".0-0"),ee("tilde return",l),l})},vI=(e,t)=>e.trim().split(/\s+/).map(r=>bI(r,t)).join(" "),bI=(e,t)=>{ee("caret",e,t);let r=t.loose?Be[De.CARETLOOSE]:Be[De.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,o,a,l)=>{ee("caret",e,i,s,o,a,l);let c;return qe(s)?c="":qe(o)?c=">=".concat(s,".0.0").concat(n," <").concat(+s+1,".0.0-0"):qe(a)?s==="0"?c=">=".concat(s,".").concat(o,".0").concat(n," <").concat(s,".").concat(+o+1,".0-0"):c=">=".concat(s,".").concat(o,".0").concat(n," <").concat(+s+1,".0.0-0"):l?(ee("replaceCaret pr",l),s==="0"?o==="0"?c=">=".concat(s,".").concat(o,".").concat(a,"-").concat(l," <").concat(s,".").concat(o,".").concat(+a+1,"-0"):c=">=".concat(s,".").concat(o,".").concat(a,"-").concat(l," <").concat(s,".").concat(+o+1,".0-0"):c=">=".concat(s,".").concat(o,".").concat(a,"-").concat(l," <").concat(+s+1,".0.0-0")):(ee("no pr"),s==="0"?o==="0"?c=">=".concat(s,".").concat(o,".").concat(a).concat(n," <").concat(s,".").concat(o,".").concat(+a+1,"-0"):c=">=".concat(s,".").concat(o,".").concat(a).concat(n," <").concat(s,".").concat(+o+1,".0-0"):c=">=".concat(s,".").concat(o,".").concat(a," <").concat(+s+1,".0.0-0")),ee("caret return",c),c})},SI=(e,t)=>(ee("replaceXRanges",e,t),e.split(/\s+/).map(r=>_I(r,t)).join(" ")),_I=(e,t)=>{e=e.trim();let r=t.loose?Be[De.XRANGELOOSE]:Be[De.XRANGE];return e.replace(r,(n,i,s,o,a,l)=>{ee("xRange",e,n,i,s,o,a,l);let c=qe(s),f=c||qe(o),u=f||qe(a),h=u;return i==="="&&h&&(i=""),l=t.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&h?(f&&(o=0),a=0,i===">"?(i=">=",f?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",f?s=+s+1:o=+o+1),i==="<"&&(l="-0"),n="".concat(i+s,".").concat(o,".").concat(a).concat(l)):f?n=">=".concat(s,".0.0").concat(l," <").concat(+s+1,".0.0-0"):u&&(n=">=".concat(s,".").concat(o,".0").concat(l," <").concat(s,".").concat(+o+1,".0-0")),ee("xRange return",n),n})},CI=(e,t)=>(ee("replaceStars",e,t),e.trim().replace(Be[De.STAR],"")),TI=(e,t)=>(ee("replaceGTE0",e,t),e.trim().replace(Be[t.includePrerelease?De.GTE0PRE:De.GTE0],"")),NI=e=>(t,r,n,i,s,o,a,l,c,f,u,h)=>(qe(n)?r="":qe(i)?r=">=".concat(n,".0.0").concat(e?"-0":""):qe(s)?r=">=".concat(n,".").concat(i,".0").concat(e?"-0":""):o?r=">=".concat(r):r=">=".concat(r).concat(e?"-0":""),qe(c)?l="":qe(f)?l="<".concat(+c+1,".0.0-0"):qe(u)?l="<".concat(c,".").concat(+f+1,".0-0"):h?l="<=".concat(c,".").concat(f,".").concat(u,"-").concat(h):e?l="<".concat(c,".").concat(f,".").concat(+u+1,"-0"):l="<=".concat(l),"".concat(r," ").concat(l).trim()),OI=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(ee(e[n].semver),e[n].semver!==bc.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}});var fi=y((aB,a0)=>{"use strict";var hi=Symbol("SemVer ANY"),Cc=class e{static get ANY(){return hi}constructor(t,r){if(r=r0(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),_c("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===hi?this.value="":this.value=this.operator+this.semver.version,_c("comp",this)}parse(t){let r=this.options.loose?n0[i0.COMPARATORLOOSE]:n0[i0.COMPARATOR],n=t.match(r);if(!n)throw new TypeError("Invalid comparator: ".concat(t));this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new s0(n[2],this.options.loose):this.semver=hi}toString(){return this.value}test(t){if(_c("Comparator.test",t,this.options.loose),this.semver===hi||t===hi)return!0;if(typeof t=="string")try{t=new s0(t,this.options)}catch{return!1}return Sc(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new o0(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new o0(this.value,r).test(t.semver):(r=r0(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||Sc(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||Sc(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};a0.exports=Cc;var r0=eo(),{safeRe:n0,t:i0}=en(),Sc=wc(),_c=ci(),s0=Ce(),o0=Xe()});var di=y((lB,l0)=>{"use strict";var II=Xe(),PI=(e,t,r)=>{try{t=new II(t,r)}catch{return!1}return t.test(e)};l0.exports=PI});var u0=y((cB,c0)=>{"use strict";var DI=Xe(),qI=(e,t)=>new DI(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));c0.exports=qI});var h0=y((uB,f0)=>{"use strict";var LI=Ce(),xI=Xe(),RI=(e,t,r)=>{let n=null,i=null,s=null;try{s=new xI(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new LI(n,r))}),n};f0.exports=RI});var p0=y((fB,d0)=>{"use strict";var kI=Ce(),FI=Xe(),UI=(e,t,r)=>{let n=null,i=null,s=null;try{s=new FI(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new kI(n,r))}),n};d0.exports=UI});var y0=y((hB,g0)=>{"use strict";var Tc=Ce(),MI=Xe(),m0=ui(),$I=(e,t)=>{e=new MI(e,t);let r=new Tc("0.0.0");if(e.test(r)||(r=new Tc("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(o=>{let a=new Tc(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||m0(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(o.operator))}}),s&&(!r||m0(r,s))&&(r=s)}return r&&e.test(r)?r:null};g0.exports=$I});var w0=y((dB,A0)=>{"use strict";var BI=Xe(),jI=(e,t)=>{try{return new BI(e,t).range||"*"}catch{return null}};A0.exports=jI});var fo=y((pB,S0)=>{"use strict";var HI=Ce(),b0=fi(),{ANY:VI}=b0,GI=Xe(),WI=di(),E0=ui(),v0=oo(),YI=lo(),KI=ao(),QI=(e,t,r,n)=>{e=new HI(e,n),t=new GI(t,n);let i,s,o,a,l;switch(r){case">":i=E0,s=YI,o=v0,a=">",l=">=";break;case"<":i=v0,s=KI,o=E0,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(WI(e,t,n))return!1;for(let c=0;c<t.set.length;++c){let f=t.set[c],u=null,h=null;if(f.forEach(p=>{p.semver===VI&&(p=new b0(">=0.0.0")),u=u||p,h=h||p,i(p.semver,u.semver,n)?u=p:o(p.semver,h.semver,n)&&(h=p)}),u.operator===a||u.operator===l||(!h.operator||h.operator===a)&&s(e,h.semver))return!1;if(h.operator===l&&o(e,h.semver))return!1}return!0};S0.exports=QI});var C0=y((mB,_0)=>{"use strict";var zI=fo(),XI=(e,t,r)=>zI(e,t,">",r);_0.exports=XI});var N0=y((gB,T0)=>{"use strict";var JI=fo(),ZI=(e,t,r)=>JI(e,t,"<",r);T0.exports=ZI});var P0=y((yB,I0)=>{"use strict";var O0=Xe(),eP=(e,t,r)=>(e=new O0(e,r),t=new O0(t,r),e.intersects(t,r));I0.exports=eP});var q0=y((AB,D0)=>{"use strict";var tP=di(),rP=ze();D0.exports=(e,t,r)=>{let n=[],i=null,s=null,o=e.sort((f,u)=>rP(f,u,r));for(let f of o)tP(f,t,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[f,u]of n)f===u?a.push(f):!u&&f===o[0]?a.push("*"):u?f===o[0]?a.push("<=".concat(u)):a.push("".concat(f," - ").concat(u)):a.push(">=".concat(f));let l=a.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return l.length<c.length?l:t}});var U0=y((wB,F0)=>{"use strict";var L0=Xe(),Oc=fi(),{ANY:Nc}=Oc,pi=di(),Ic=ze(),nP=(e,t,r={})=>{if(e===t)return!0;e=new L0(e,r),t=new L0(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let o=sP(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},iP=[new Oc(">=0.0.0-0")],x0=[new Oc(">=0.0.0")],sP=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Nc){if(t.length===1&&t[0].semver===Nc)return!0;r.includePrerelease?e=iP:e=x0}if(t.length===1&&t[0].semver===Nc){if(r.includePrerelease)return!0;t=x0}let n=new Set,i,s;for(let p of e)p.operator===">"||p.operator===">="?i=R0(i,p,r):p.operator==="<"||p.operator==="<="?s=k0(s,p,r):n.add(p.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Ic(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let p of n){if(i&&!pi(p,String(i),r)||s&&!pi(p,String(s),r))return null;for(let w of t)if(!pi(p,String(w),r))return!1;return!0}let a,l,c,f,u=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,h=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;u&&u.prerelease.length===1&&s.operator==="<"&&u.prerelease[0]===0&&(u=!1);for(let p of t){if(f=f||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(h&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===h.major&&p.semver.minor===h.minor&&p.semver.patch===h.patch&&(h=!1),p.operator===">"||p.operator===">="){if(a=R0(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!pi(i.semver,String(p),r))return!1}if(s){if(u&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===u.major&&p.semver.minor===u.minor&&p.semver.patch===u.patch&&(u=!1),p.operator==="<"||p.operator==="<="){if(l=k0(s,p,r),l===p&&l!==s)return!1}else if(s.operator==="<="&&!pi(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&o!==0)return!1}return!(i&&c&&!s&&o!==0||s&&f&&!i&&o!==0||h||u)},R0=(e,t,r)=>{if(!e)return t;let n=Ic(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},k0=(e,t,r)=>{if(!e)return t;let n=Ic(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};F0.exports=nP});var Dc=y((EB,B0)=>{"use strict";var Pc=en(),M0=li(),oP=Ce(),$0=mc(),aP=dr(),lP=hy(),cP=py(),uP=yy(),fP=Ey(),hP=by(),dP=_y(),pP=Ty(),mP=Oy(),gP=ze(),yP=qy(),AP=xy(),wP=so(),EP=Uy(),vP=$y(),bP=ui(),SP=oo(),_P=yc(),CP=Ac(),TP=ao(),NP=lo(),OP=wc(),IP=Qy(),PP=fi(),DP=Xe(),qP=di(),LP=u0(),xP=h0(),RP=p0(),kP=y0(),FP=w0(),UP=fo(),MP=C0(),$P=N0(),BP=P0(),jP=q0(),HP=U0();B0.exports={parse:aP,valid:lP,clean:cP,inc:uP,diff:fP,major:hP,minor:dP,patch:pP,prerelease:mP,compare:gP,rcompare:yP,compareLoose:AP,compareBuild:wP,sort:EP,rsort:vP,gt:bP,lt:SP,eq:_P,neq:CP,gte:TP,lte:NP,cmp:OP,coerce:IP,Comparator:PP,Range:DP,satisfies:qP,toComparators:LP,maxSatisfying:xP,minSatisfying:RP,minVersion:kP,validRange:FP,outside:UP,gtr:MP,ltr:$P,intersects:BP,simplifyRange:jP,subset:HP,SemVer:oP,re:Pc.re,src:Pc.src,tokens:Pc.t,SEMVER_SPEC_VERSION:M0.SEMVER_SPEC_VERSION,RELEASE_TYPES:M0.RELEASE_TYPES,compareIdentifiers:$0.compareIdentifiers,rcompareIdentifiers:$0.rcompareIdentifiers}});var bA=y((mi,nn)=>{var VP=200,jc="__lodash_hash_undefined__",Eo=1,Z0=2,eA=9007199254740991,ho="[object Arguments]",Rc="[object Array]",GP="[object AsyncFunction]",tA="[object Boolean]",rA="[object Date]",nA="[object Error]",iA="[object Function]",WP="[object GeneratorFunction]",po="[object Map]",sA="[object Number]",YP="[object Null]",rn="[object Object]",j0="[object Promise]",KP="[object Proxy]",oA="[object RegExp]",mo="[object Set]",aA="[object String]",QP="[object Symbol]",zP="[object Undefined]",kc="[object WeakMap]",lA="[object ArrayBuffer]",go="[object DataView]",XP="[object Float32Array]",JP="[object Float64Array]",ZP="[object Int8Array]",eD="[object Int16Array]",tD="[object Int32Array]",rD="[object Uint8Array]",nD="[object Uint8ClampedArray]",iD="[object Uint16Array]",sD="[object Uint32Array]",oD=/[\\^$.*+?()[\]{}|]/g,aD=/^\[object .+?Constructor\]$/,lD=/^(?:0|[1-9]\d*)$/,te={};te[XP]=te[JP]=te[ZP]=te[eD]=te[tD]=te[rD]=te[nD]=te[iD]=te[sD]=!0;te[ho]=te[Rc]=te[lA]=te[tA]=te[go]=te[rA]=te[nA]=te[iA]=te[po]=te[sA]=te[rn]=te[oA]=te[mo]=te[aA]=te[kc]=!1;var cA=typeof global=="object"&&global&&global.Object===Object&&global,cD=typeof self=="object"&&self&&self.Object===Object&&self,gt=cA||cD||Function("return this")(),uA=typeof mi=="object"&&mi&&!mi.nodeType&&mi,H0=uA&&typeof nn=="object"&&nn&&!nn.nodeType&&nn,fA=H0&&H0.exports===uA,qc=fA&&cA.process,V0=(function(){try{return qc&&qc.binding&&qc.binding("util")}catch{}})(),G0=V0&&V0.isTypedArray;function uD(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}function fD(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function hD(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function dD(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function pD(e){return function(t){return e(t)}}function mD(e,t){return e.has(t)}function gD(e,t){return e?.[t]}function yD(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function AD(e,t){return function(r){return e(t(r))}}function wD(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var ED=Array.prototype,vD=Function.prototype,vo=Object.prototype,Lc=gt["__core-js_shared__"],hA=vD.toString,ct=vo.hasOwnProperty,W0=(function(){var e=/[^.]+$/.exec(Lc&&Lc.keys&&Lc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),dA=vo.toString,bD=RegExp("^"+hA.call(ct).replace(oD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Y0=fA?gt.Buffer:void 0,yo=gt.Symbol,K0=gt.Uint8Array,pA=vo.propertyIsEnumerable,SD=ED.splice,pr=yo?yo.toStringTag:void 0,Q0=Object.getOwnPropertySymbols,_D=Y0?Y0.isBuffer:void 0,CD=AD(Object.keys,Object),Fc=sn(gt,"DataView"),gi=sn(gt,"Map"),Uc=sn(gt,"Promise"),Mc=sn(gt,"Set"),$c=sn(gt,"WeakMap"),yi=sn(Object,"create"),TD=yr(Fc),ND=yr(gi),OD=yr(Uc),ID=yr(Mc),PD=yr($c),z0=yo?yo.prototype:void 0,xc=z0?z0.valueOf:void 0;function mr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function DD(){this.__data__=yi?yi(null):{},this.size=0}function qD(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function LD(e){var t=this.__data__;if(yi){var r=t[e];return r===jc?void 0:r}return ct.call(t,e)?t[e]:void 0}function xD(e){var t=this.__data__;return yi?t[e]!==void 0:ct.call(t,e)}function RD(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=yi&&t===void 0?jc:t,this}mr.prototype.clear=DD;mr.prototype.delete=qD;mr.prototype.get=LD;mr.prototype.has=xD;mr.prototype.set=RD;function yt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function kD(){this.__data__=[],this.size=0}function FD(e){var t=this.__data__,r=bo(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():SD.call(t,r,1),--this.size,!0}function UD(e){var t=this.__data__,r=bo(t,e);return r<0?void 0:t[r][1]}function MD(e){return bo(this.__data__,e)>-1}function $D(e,t){var r=this.__data__,n=bo(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}yt.prototype.clear=kD;yt.prototype.delete=FD;yt.prototype.get=UD;yt.prototype.has=MD;yt.prototype.set=$D;function gr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function BD(){this.size=0,this.__data__={hash:new mr,map:new(gi||yt),string:new mr}}function jD(e){var t=So(this,e).delete(e);return this.size-=t?1:0,t}function HD(e){return So(this,e).get(e)}function VD(e){return So(this,e).has(e)}function GD(e,t){var r=So(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}gr.prototype.clear=BD;gr.prototype.delete=jD;gr.prototype.get=HD;gr.prototype.has=VD;gr.prototype.set=GD;function Ao(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new gr;++t<r;)this.add(e[t])}function WD(e){return this.__data__.set(e,jc),this}function YD(e){return this.__data__.has(e)}Ao.prototype.add=Ao.prototype.push=WD;Ao.prototype.has=YD;function Ft(e){var t=this.__data__=new yt(e);this.size=t.size}function KD(){this.__data__=new yt,this.size=0}function QD(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function zD(e){return this.__data__.get(e)}function XD(e){return this.__data__.has(e)}function JD(e,t){var r=this.__data__;if(r instanceof yt){var n=r.__data__;if(!gi||n.length<VP-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new gr(n)}return r.set(e,t),this.size=r.size,this}Ft.prototype.clear=KD;Ft.prototype.delete=QD;Ft.prototype.get=zD;Ft.prototype.has=XD;Ft.prototype.set=JD;function ZD(e,t){var r=wo(e),n=!r&&pq(e),i=!r&&!n&&Bc(e),s=!r&&!n&&!i&&vA(e),o=r||n||i||s,a=o?dD(e.length,String):[],l=a.length;for(var c in e)(t||ct.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||cq(c,l)))&&a.push(c);return a}function bo(e,t){for(var r=e.length;r--;)if(yA(e[r][0],t))return r;return-1}function eq(e,t,r){var n=t(e);return wo(e)?n:fD(n,r(e))}function wi(e){return e==null?e===void 0?zP:YP:pr&&pr in Object(e)?aq(e):dq(e)}function X0(e){return Ai(e)&&wi(e)==ho}function mA(e,t,r,n,i){return e===t?!0:e==null||t==null||!Ai(e)&&!Ai(t)?e!==e&&t!==t:tq(e,t,r,n,mA,i)}function tq(e,t,r,n,i,s){var o=wo(e),a=wo(t),l=o?Rc:kt(e),c=a?Rc:kt(t);l=l==ho?rn:l,c=c==ho?rn:c;var f=l==rn,u=c==rn,h=l==c;if(h&&Bc(e)){if(!Bc(t))return!1;o=!0,f=!1}if(h&&!f)return s||(s=new Ft),o||vA(e)?gA(e,t,r,n,i,s):sq(e,t,l,r,n,i,s);if(!(r&Eo)){var p=f&&ct.call(e,"__wrapped__"),w=u&&ct.call(t,"__wrapped__");if(p||w){var g=p?e.value():e,E=w?t.value():t;return s||(s=new Ft),i(g,E,r,n,s)}}return h?(s||(s=new Ft),oq(e,t,r,n,i,s)):!1}function rq(e){if(!EA(e)||fq(e))return!1;var t=AA(e)?bD:aD;return t.test(yr(e))}function nq(e){return Ai(e)&&wA(e.length)&&!!te[wi(e)]}function iq(e){if(!hq(e))return CD(e);var t=[];for(var r in Object(e))ct.call(e,r)&&r!="constructor"&&t.push(r);return t}function gA(e,t,r,n,i,s){var o=r&Eo,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var f=-1,u=!0,h=r&Z0?new Ao:void 0;for(s.set(e,t),s.set(t,e);++f<a;){var p=e[f],w=t[f];if(n)var g=o?n(w,p,f,t,e,s):n(p,w,f,e,t,s);if(g!==void 0){if(g)continue;u=!1;break}if(h){if(!hD(t,function(E,S){if(!mD(h,S)&&(p===E||i(p,E,r,n,s)))return h.push(S)})){u=!1;break}}else if(!(p===w||i(p,w,r,n,s))){u=!1;break}}return s.delete(e),s.delete(t),u}function sq(e,t,r,n,i,s,o){switch(r){case go:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case lA:return!(e.byteLength!=t.byteLength||!s(new K0(e),new K0(t)));case tA:case rA:case sA:return yA(+e,+t);case nA:return e.name==t.name&&e.message==t.message;case oA:case aA:return e==t+"";case po:var a=yD;case mo:var l=n&Eo;if(a||(a=wD),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=Z0,o.set(e,t);var f=gA(a(e),a(t),n,i,s,o);return o.delete(e),f;case QP:if(xc)return xc.call(e)==xc.call(t)}return!1}function oq(e,t,r,n,i,s){var o=r&Eo,a=J0(e),l=a.length,c=J0(t),f=c.length;if(l!=f&&!o)return!1;for(var u=l;u--;){var h=a[u];if(!(o?h in t:ct.call(t,h)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var w=!0;s.set(e,t),s.set(t,e);for(var g=o;++u<l;){h=a[u];var E=e[h],S=t[h];if(n)var b=o?n(S,E,h,t,e,s):n(E,S,h,e,t,s);if(!(b===void 0?E===S||i(E,S,r,n,s):b)){w=!1;break}g||(g=h=="constructor")}if(w&&!g){var T=e.constructor,N=t.constructor;T!=N&&"constructor"in e&&"constructor"in t&&!(typeof T=="function"&&T instanceof T&&typeof N=="function"&&N instanceof N)&&(w=!1)}return s.delete(e),s.delete(t),w}function J0(e){return eq(e,yq,lq)}function So(e,t){var r=e.__data__;return uq(t)?r[typeof t=="string"?"string":"hash"]:r.map}function sn(e,t){var r=gD(e,t);return rq(r)?r:void 0}function aq(e){var t=ct.call(e,pr),r=e[pr];try{e[pr]=void 0;var n=!0}catch{}var i=dA.call(e);return n&&(t?e[pr]=r:delete e[pr]),i}var lq=Q0?function(e){return e==null?[]:(e=Object(e),uD(Q0(e),function(t){return pA.call(e,t)}))}:Aq,kt=wi;(Fc&&kt(new Fc(new ArrayBuffer(1)))!=go||gi&&kt(new gi)!=po||Uc&&kt(Uc.resolve())!=j0||Mc&&kt(new Mc)!=mo||$c&&kt(new $c)!=kc)&&(kt=function(e){var t=wi(e),r=t==rn?e.constructor:void 0,n=r?yr(r):"";if(n)switch(n){case TD:return go;case ND:return po;case OD:return j0;case ID:return mo;case PD:return kc}return t});function cq(e,t){return t=t??eA,!!t&&(typeof e=="number"||lD.test(e))&&e>-1&&e%1==0&&e<t}function uq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function fq(e){return!!W0&&W0 in e}function hq(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||vo;return e===r}function dq(e){return dA.call(e)}function yr(e){if(e!=null){try{return hA.call(e)}catch{}try{return e+""}catch{}}return""}function yA(e,t){return e===t||e!==e&&t!==t}var pq=X0((function(){return arguments})())?X0:function(e){return Ai(e)&&ct.call(e,"callee")&&!pA.call(e,"callee")},wo=Array.isArray;function mq(e){return e!=null&&wA(e.length)&&!AA(e)}var Bc=_D||wq;function gq(e,t){return mA(e,t)}function AA(e){if(!EA(e))return!1;var t=wi(e);return t==iA||t==WP||t==GP||t==KP}function wA(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=eA}function EA(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function Ai(e){return e!=null&&typeof e=="object"}var vA=G0?pD(G0):nq;function yq(e){return mq(e)?ZD(e):iq(e)}function Aq(){return[]}function wq(){return!1}nn.exports=gq});var _A=y(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.DownloadedUpdateHelper=void 0;vi.createTempUpdateFile=Sq;var Eq=require("crypto"),vq=require("fs"),SA=bA(),Ar=pt(),Ei=require("path"),Hc=class{constructor(t){this.cacheDir=t,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return Ei.join(this.cacheDir,"pending")}async validateDownloadedPath(t,r,n,i){if(this.versionInfo!=null&&this.file===t&&this.fileInfo!=null)return SA(this.versionInfo,r)&&SA(this.fileInfo.info,n.info)&&await(0,Ar.pathExists)(t)?t:null;let s=await this.getValidCachedUpdateFile(n,i);return s===null?null:(i.info("Update has already been downloaded to ".concat(t,").")),this._file=s,s)}async setDownloadedFile(t,r,n,i,s,o){this._file=t,this._packageFile=r,this.versionInfo=n,this.fileInfo=i,this._downloadedFileInfo={fileName:s,sha512:i.info.sha512,isAdminRightsRequired:i.info.isAdminRightsRequired===!0},o&&await(0,Ar.outputJson)(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await(0,Ar.emptyDir)(this.cacheDirForPendingUpdate)}catch{}}async getValidCachedUpdateFile(t,r){let n=this.getUpdateInfoFile();if(!await(0,Ar.pathExists)(n))return null;let s;try{s=await(0,Ar.readJson)(n)}catch(c){let f="No cached update info available";return c.code!=="ENOENT"&&(await this.cleanCacheDirForPendingUpdate(),f+=" (error on read: ".concat(c.message,")")),r.info(f),null}if(!(s?.fileName!==null))return r.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(t.info.sha512!==s.sha512)return r.info("Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ".concat(s.sha512,", expected: ").concat(t.info.sha512,". Directory for cached update will be cleaned")),await this.cleanCacheDirForPendingUpdate(),null;let a=Ei.join(this.cacheDirForPendingUpdate,s.fileName);if(!await(0,Ar.pathExists)(a))return r.info("Cached update file doesn't exist"),null;let l=await bq(a);return t.info.sha512!==l?(r.warn("Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ".concat(l,", expected: ").concat(t.info.sha512)),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=s,a)}getUpdateInfoFile(){return Ei.join(this.cacheDirForPendingUpdate,"update-info.json")}};vi.DownloadedUpdateHelper=Hc;function bq(e,t="sha512",r="base64",n){return new Promise((i,s)=>{let o=(0,Eq.createHash)(t);o.on("error",s).setEncoding(r),(0,vq.createReadStream)(e,{...n,highWaterMark:1024*1024}).on("error",s).on("end",()=>{o.end(),i(o.read())}).pipe(o,{end:!1})})}async function Sq(e,t,r){let n=0,i=Ei.join(t,e);for(let s=0;s<3;s++)try{return await(0,Ar.unlink)(i),i}catch(o){if(o.code==="ENOENT")return i;r.warn("Error on remove temp update file: ".concat(o)),i=Ei.join(t,"".concat(n++,"-").concat(e))}return i}});var CA=y(Gc=>{"use strict";Object.defineProperty(Gc,"__esModule",{value:!0});Gc.getAppCacheDir=Cq;var Vc=require("path"),_q=require("os");function Cq(){let e=(0,_q.homedir)(),t;return process.platform==="win32"?t=process.env.LOCALAPPDATA||Vc.join(e,"AppData","Local"):process.platform==="darwin"?t=Vc.join(e,"Library","Caches"):t=process.env.XDG_CACHE_HOME||Vc.join(e,".cache"),t}});var NA=y(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.ElectronAppAdapter=void 0;var TA=require("path"),Tq=CA(),Wc=class{constructor(t=require("electron").app){this.app=t}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return this.app.isPackaged===!0}get appUpdateConfigPath(){return this.isPackaged?TA.join(process.resourcesPath,"app-update.yml"):TA.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return(0,Tq.getAppCacheDir)()}quit(){this.app.quit()}relaunch(){this.app.relaunch()}onQuit(t){this.app.once("quit",(r,n)=>t(n))}};_o.ElectronAppAdapter=Wc});var IA=y(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.ElectronHttpExecutor=Ut.NET_SESSION_NAME=void 0;Ut.getNetSession=OA;var Co=ye();Ut.NET_SESSION_NAME="electron-updater";function OA(){return require("electron").session.fromPartition(Ut.NET_SESSION_NAME,{cache:!1})}var Yc=class extends Co.HttpExecutor{constructor(t){super(),this.proxyLoginCallback=t,this.cachedSession=null}async download(t,r,n){return await n.cancellationToken.createPromise((i,s,o)=>{let a={headers:n.headers||void 0,redirect:"manual"};(0,Co.configureRequestUrl)(t,a),(0,Co.configureRequestOptions)(a),this.doDownload(a,{destination:r,options:n,onCancel:o,callback:l=>{l==null?i(r):s(l)},responseHandler:null},0)})}createRequest(t,r){t.headers&&t.headers.Host&&(t.host=t.headers.Host,delete t.headers.Host),this.cachedSession==null&&(this.cachedSession=OA());let n=require("electron").net.request({...t,session:this.cachedSession});return n.on("response",r),this.proxyLoginCallback!=null&&n.on("login",this.proxyLoginCallback),n}addRedirectHandlers(t,r,n,i,s){t.on("redirect",(o,a,l)=>{t.abort(),i>this.maxRedirects?n(this.createMaxRedirectError()):s(Co.HttpExecutor.prepareRedirectUrlOptions(l,r))})}};Ut.ElectronHttpExecutor=Yc});var RA=y((CB,xA)=>{var Nq=1/0,Oq="[object Symbol]",LA=/[\\^$.*+?()[\]{}|]/g,Iq=RegExp(LA.source),Pq=typeof global=="object"&&global&&global.Object===Object&&global,Dq=typeof self=="object"&&self&&self.Object===Object&&self,qq=Pq||Dq||Function("return this")(),Lq=Object.prototype,xq=Lq.toString,PA=qq.Symbol,DA=PA?PA.prototype:void 0,qA=DA?DA.toString:void 0;function Rq(e){if(typeof e=="string")return e;if(Fq(e))return qA?qA.call(e):"";var t=e+"";return t=="0"&&1/e==-Nq?"-0":t}function kq(e){return!!e&&typeof e=="object"}function Fq(e){return typeof e=="symbol"||kq(e)&&xq.call(e)==Oq}function Uq(e){return e==null?"":Rq(e)}function Mq(e){return e=Uq(e),e&&Iq.test(e)?e.replace(LA,"\\$&"):e}xA.exports=Mq});var Mt=y(on=>{"use strict";Object.defineProperty(on,"__esModule",{value:!0});on.newBaseUrl=Bq;on.newUrlFromBase=Kc;on.getChannelFilename=jq;on.blockmapFiles=Hq;var kA=require("url"),$q=RA();function Bq(e){let t=new kA.URL(e);return t.pathname.endsWith("/")||(t.pathname+="/"),t}function Kc(e,t,r=!1){let n=new kA.URL(e,t),i=t.search;return i!=null&&i.length!==0?n.search=i:r&&(n.search="noCache=".concat(Date.now().toString(32))),n}function jq(e){return"".concat(e,".yml")}function Hq(e,t,r){let n=Kc("".concat(e.pathname,".blockmap"),e);return[Kc("".concat(e.pathname.replace(new RegExp($q(r),"g"),t),".blockmap"),e),n]}});var Ge=y(Bt=>{"use strict";Object.defineProperty(Bt,"__esModule",{value:!0});Bt.Provider=void 0;Bt.findFile=Gq;Bt.parseUpdateInfo=Wq;Bt.getFileList=UA;Bt.resolveFiles=Yq;var $t=ye(),Vq=Js(),FA=Mt(),Qc=class{constructor(t){this.runtimeOptions=t,this.requestHeaders=null,this.executor=t.executor}get isUseMultipleRangeRequest(){return this.runtimeOptions.isUseMultipleRangeRequest!==!1}getChannelFilePrefix(){if(this.runtimeOptions.platform==="linux"){let t=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+(t==="x64"?"":"-".concat(t))}else return this.runtimeOptions.platform==="darwin"?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(t){return"".concat(t).concat(this.getChannelFilePrefix())}get fileExtraDownloadHeaders(){return null}setRequestHeaders(t){this.requestHeaders=t}httpRequest(t,r,n){return this.executor.request(this.createRequestOptions(t,r),n)}createRequestOptions(t,r){let n={};return this.requestHeaders==null?r!=null&&(n.headers=r):n.headers=r==null?this.requestHeaders:{...this.requestHeaders,...r},(0,$t.configureRequestUrl)(t,n),n}};Bt.Provider=Qc;function Gq(e,t,r){if(e.length===0)throw(0,$t.newError)("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");let n=e.find(i=>i.url.pathname.toLowerCase().endsWith(".".concat(t)));return n??(r==null?e[0]:e.find(i=>!r.some(s=>i.url.pathname.toLowerCase().endsWith(".".concat(s)))))}function Wq(e,t,r){if(e==null)throw(0,$t.newError)("Cannot parse update info from ".concat(t," in the latest release artifacts (").concat(r,"): rawData: null"),"ERR_UPDATER_INVALID_UPDATE_INFO");let n;try{n=(0,Vq.load)(e)}catch(i){throw(0,$t.newError)("Cannot parse update info from ".concat(t," in the latest release artifacts (").concat(r,"): ").concat(i.stack||i.message,", rawData: ").concat(e),"ERR_UPDATER_INVALID_UPDATE_INFO")}return n}function UA(e){let t=e.files;if(t!=null&&t.length>0)return t;if(e.path!=null)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw(0,$t.newError)("No files provided: ".concat((0,$t.safeStringifyJson)(e)),"ERR_UPDATER_NO_FILES_PROVIDED")}function Yq(e,t,r=n=>n){let i=UA(e).map(a=>{if(a.sha2==null&&a.sha512==null)throw(0,$t.newError)("Update info doesn't contain nor sha256 neither sha512 checksum: ".concat((0,$t.safeStringifyJson)(a)),"ERR_UPDATER_NO_CHECKSUM");return{url:(0,FA.newUrlFromBase)(r(a.url),t),info:a}}),s=e.packages,o=s==null?null:s[process.arch]||s.ia32;return o!=null&&(i[0].packageInfo={...o,path:(0,FA.newUrlFromBase)(r(o.path),t).href}),i}});var Zc=y(To=>{"use strict";Object.defineProperty(To,"__esModule",{value:!0});To.GenericProvider=void 0;var MA=ye(),zc=Mt(),Xc=Ge(),Jc=class extends Xc.Provider{constructor(t,r,n){super(n),this.configuration=t,this.updater=r,this.baseUrl=(0,zc.newBaseUrl)(this.configuration.url)}get channel(){let t=this.updater.channel||this.configuration.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){let t=(0,zc.getChannelFilename)(this.channel),r=(0,zc.newUrlFromBase)(t,this.baseUrl,this.updater.isAddNoCacheQuery);for(let n=0;;n++)try{return(0,Xc.parseUpdateInfo)(await this.httpRequest(r),t,r)}catch(i){if(i instanceof MA.HttpError&&i.statusCode===404)throw(0,MA.newError)('Cannot find channel "'.concat(t,'" update info: ').concat(i.stack||i.message),"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if(i.code==="ECONNREFUSED"&&n<3){await new Promise((s,o)=>{try{setTimeout(s,1e3*n)}catch(a){o(a)}});continue}throw i}}resolveFiles(t){return(0,Xc.resolveFiles)(t,this.baseUrl)}};To.GenericProvider=Jc});var BA=y(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.BitbucketProvider=void 0;var $A=ye(),eu=Mt(),tu=Ge(),ru=class extends tu.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r;let{owner:i,slug:s}=t;this.baseUrl=(0,eu.newBaseUrl)("https://api.bitbucket.org/2.0/repositories/".concat(i,"/").concat(s,"/downloads"))}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){let t=new $A.CancellationToken,r=(0,eu.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,eu.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{let i=await this.httpRequest(n,void 0,t);return(0,tu.parseUpdateInfo)(i,r,n)}catch(i){throw(0,$A.newError)("Unable to find latest version on ".concat(this.toString(),", please ensure release exists: ").concat(i.stack||i.message),"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,tu.resolveFiles)(t,this.baseUrl)}toString(){let{owner:t,slug:r}=this.configuration;return"Bitbucket (owner: ".concat(t,", slug: ").concat(r,", channel: ").concat(this.channel,")")}};No.BitbucketProvider=ru});var ou=y(wr=>{"use strict";Object.defineProperty(wr,"__esModule",{value:!0});wr.GitHubProvider=wr.BaseGitHubProvider=void 0;wr.computeReleaseNotes=HA;var At=ye(),an=Dc(),Kq=require("url"),ln=Mt(),iu=Ge(),nu=/\/tag\/([^/]+)$/,Oo=class extends iu.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.options=t,this.baseUrl=(0,ln.newBaseUrl)((0,At.githubUrl)(t,r));let i=r==="github.com"?"api.github.com":r;this.baseApiUrl=(0,ln.newBaseUrl)((0,At.githubUrl)(t,i))}computeGithubBasePath(t){let r=this.options.host;return r&&!["github.com","api.github.com"].includes(r)?"/api/v3".concat(t):t}};wr.BaseGitHubProvider=Oo;var su=class extends Oo{constructor(t,r,n){super(t,"github.com",n),this.options=t,this.updater=r}get channel(){let t=this.updater.channel||this.options.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){var t,r,n,i,s;let o=new At.CancellationToken,a=await this.httpRequest((0,ln.newUrlFromBase)("".concat(this.basePath,".atom"),this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},o),l=(0,At.parseXml)(a),c=l.element("entry",!1,"No published versions on GitHub"),f=null;try{if(this.updater.allowPrerelease){let E=((t=this.updater)===null||t===void 0?void 0:t.channel)||((r=an.prerelease(this.updater.currentVersion))===null||r===void 0?void 0:r[0])||null;if(E===null)f=nu.exec(c.element("link").attribute("href"))[1];else for(let S of l.getElements("entry")){let b=nu.exec(S.element("link").attribute("href"));if(b===null)continue;let T=b[1],N=((n=an.prerelease(T))===null||n===void 0?void 0:n[0])||null,R=!E||["alpha","beta"].includes(E),I=N!==null&&!["alpha","beta"].includes(String(N));if(R&&!I&&!(E==="beta"&&N==="alpha")){f=T;break}if(N&&N===E){f=T;break}}}else{f=await this.getLatestTagName(o);for(let E of l.getElements("entry"))if(nu.exec(E.element("link").attribute("href"))[1]===f){c=E;break}}}catch(E){throw(0,At.newError)("Cannot parse releases feed: ".concat(E.stack||E.message,",\nXML:\n").concat(a),"ERR_UPDATER_INVALID_RELEASE_FEED")}if(f==null)throw(0,At.newError)("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let u,h="",p="",w=async E=>{h=(0,ln.getChannelFilename)(E),p=(0,ln.newUrlFromBase)(this.getBaseDownloadPath(String(f),h),this.baseUrl);let S=this.createRequestOptions(p);try{return await this.executor.request(S,o)}catch(b){throw b instanceof At.HttpError&&b.statusCode===404?(0,At.newError)("Cannot find ".concat(h," in the latest release artifacts (").concat(p,"): ").concat(b.stack||b.message),"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):b}};try{let E=this.channel;this.updater.allowPrerelease&&(!((i=an.prerelease(f))===null||i===void 0)&&i[0])&&(E=this.getCustomChannelName(String((s=an.prerelease(f))===null||s===void 0?void 0:s[0]))),u=await w(E)}catch(E){if(this.updater.allowPrerelease)u=await w(this.getDefaultChannelName());else throw E}let g=(0,iu.parseUpdateInfo)(u,h,p);return g.releaseName==null&&(g.releaseName=c.elementValueOrEmpty("title")),g.releaseNotes==null&&(g.releaseNotes=HA(this.updater.currentVersion,this.updater.fullChangelog,l,c)),{tag:f,...g}}async getLatestTagName(t){let r=this.options,n=r.host==null||r.host==="github.com"?(0,ln.newUrlFromBase)("".concat(this.basePath,"/latest"),this.baseUrl):new Kq.URL("".concat(this.computeGithubBasePath("/repos/".concat(r.owner,"/").concat(r.repo,"/releases")),"/latest"),this.baseApiUrl);try{let i=await this.httpRequest(n,{Accept:"application/json"},t);return i==null?null:JSON.parse(i).tag_name}catch(i){throw(0,At.newError)("Unable to find latest version on GitHub (".concat(n,"), please ensure a production release exists: ").concat(i.stack||i.message),"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return"/".concat(this.options.owner,"/").concat(this.options.repo,"/releases")}resolveFiles(t){return(0,iu.resolveFiles)(t,this.baseUrl,r=>this.getBaseDownloadPath(t.tag,r.replace(/ /g,"-")))}getBaseDownloadPath(t,r){return"".concat(this.basePath,"/download/").concat(t,"/").concat(r)}};wr.GitHubProvider=su;function jA(e){let t=e.elementValueOrEmpty("content");return t==="No content."?"":t}function HA(e,t,r,n){if(!t)return jA(n);let i=[];for(let s of r.getElements("entry")){let o=/\/tag\/v?([^/]+)$/.exec(s.element("link").attribute("href"))[1];an.lt(e,o)&&i.push({version:o,note:jA(s)})}return i.sort((s,o)=>an.rcompare(s.version,o.version))}});var GA=y(Io=>{"use strict";Object.defineProperty(Io,"__esModule",{value:!0});Io.KeygenProvider=void 0;var VA=ye(),au=Mt(),lu=Ge(),cu=class extends lu.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r,this.defaultHostname="api.keygen.sh";let i=this.configuration.host||this.defaultHostname;this.baseUrl=(0,au.newBaseUrl)("https://".concat(i,"/v1/accounts/").concat(this.configuration.account,"/artifacts?product=").concat(this.configuration.product))}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){let t=new VA.CancellationToken,r=(0,au.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,au.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{let i=await this.httpRequest(n,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},t);return(0,lu.parseUpdateInfo)(i,r,n)}catch(i){throw(0,VA.newError)("Unable to find latest version on ".concat(this.toString(),", please ensure release exists: ").concat(i.stack||i.message),"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,lu.resolveFiles)(t,this.baseUrl)}toString(){let{account:t,product:r,platform:n}=this.configuration;return"Keygen (account: ".concat(t,", product: ").concat(r,", platform: ").concat(n,", channel: ").concat(this.channel,")")}};Io.KeygenProvider=cu});var KA=y(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.PrivateGitHubProvider=void 0;var cn=ye(),Qq=Js(),zq=require("path"),WA=require("url"),YA=Mt(),Xq=ou(),Jq=Ge(),uu=class extends Xq.BaseGitHubProvider{constructor(t,r,n,i){super(t,"api.github.com",i),this.updater=r,this.token=n}createRequestOptions(t,r){let n=super.createRequestOptions(t,r);return n.redirect="manual",n}async getLatestVersion(){let t=new cn.CancellationToken,r=(0,YA.getChannelFilename)(this.getDefaultChannelName()),n=await this.getLatestVersionInfo(t),i=n.assets.find(a=>a.name===r);if(i==null)throw(0,cn.newError)("Cannot find ".concat(r," in the release ").concat(n.html_url||n.name),"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");let s=new WA.URL(i.url),o;try{o=(0,Qq.load)(await this.httpRequest(s,this.configureHeaders("application/octet-stream"),t))}catch(a){throw a instanceof cn.HttpError&&a.statusCode===404?(0,cn.newError)("Cannot find ".concat(r," in the latest release artifacts (").concat(s,"): ").concat(a.stack||a.message),"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):a}return o.assets=n.assets,o}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(t){return{accept:t,authorization:"token ".concat(this.token)}}async getLatestVersionInfo(t){let r=this.updater.allowPrerelease,n=this.basePath;r||(n="".concat(n,"/latest"));let i=(0,YA.newUrlFromBase)(n,this.baseUrl);try{let s=JSON.parse(await this.httpRequest(i,this.configureHeaders("application/vnd.github.v3+json"),t));return r?s.find(o=>o.prerelease)||s[0]:s}catch(s){throw(0,cn.newError)("Unable to find latest version on GitHub (".concat(i,"), please ensure a production release exists: ").concat(s.stack||s.message),"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath("/repos/".concat(this.options.owner,"/").concat(this.options.repo,"/releases"))}resolveFiles(t){return(0,Jq.getFileList)(t).map(r=>{let n=zq.posix.basename(r.url).replace(/ /g,"-"),i=t.assets.find(s=>s!=null&&s.name===n);if(i==null)throw(0,cn.newError)('Cannot find asset "'.concat(n,'" in: ').concat(JSON.stringify(t.assets,null,2)),"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new WA.URL(i.url),info:r}})}};Po.PrivateGitHubProvider=uu});var XA=y(qo=>{"use strict";Object.defineProperty(qo,"__esModule",{value:!0});qo.isUrlProbablySupportMultiRangeRequests=zA;qo.createClient=nL;var Do=ye(),Zq=BA(),QA=Zc(),eL=ou(),tL=GA(),rL=KA();function zA(e){return!e.includes("s3.amazonaws.com")}function nL(e,t,r){if(typeof e=="string")throw(0,Do.newError)("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");let n=e.provider;switch(n){case"github":{let i=e,s=(i.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||i.token;return s==null?new eL.GitHubProvider(i,t,r):new rL.PrivateGitHubProvider(i,t,s,r)}case"bitbucket":return new Zq.BitbucketProvider(e,t,r);case"keygen":return new tL.KeygenProvider(e,t,r);case"s3":case"spaces":return new QA.GenericProvider({provider:"generic",url:(0,Do.getS3LikeProviderBaseUrl)(e),channel:e.channel||null},t,{...r,isUseMultipleRangeRequest:!1});case"generic":{let i=e;return new QA.GenericProvider(i,t,{...r,isUseMultipleRangeRequest:i.useMultipleRangeRequest!==!1&&zA(i.url)})}case"custom":{let i=e,s=i.updateProvider;if(!s)throw(0,Do.newError)("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new s(i,t,r)}default:throw(0,Do.newError)("Unsupported provider: ".concat(n),"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}});var Lo=y(bi=>{"use strict";Object.defineProperty(bi,"__esModule",{value:!0});bi.OperationKind=void 0;bi.computeOperations=iL;var Er;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(Er||(bi.OperationKind=Er={}));function iL(e,t,r){let n=ZA(e.files),i=ZA(t.files),s=null,o=t.files[0],a=[],l=o.name,c=n.get(l);if(c==null)throw new Error("no file ".concat(l," in old blockmap"));let f=i.get(l),u=0,{checksumToOffset:h,checksumToOldSize:p}=oL(n.get(l),c.offset,r),w=o.offset;for(let g=0;g<f.checksums.length;w+=f.sizes[g],g++){let E=f.sizes[g],S=f.checksums[g],b=h.get(S);b!=null&&p.get(S)!==E&&(r.warn('Checksum ("'.concat(S,'") matches, but size differs (old: ').concat(p.get(S),", new: ").concat(E,")")),b=void 0),b===void 0?(u++,s!=null&&s.kind===Er.DOWNLOAD&&s.end===w?s.end+=E:(s={kind:Er.DOWNLOAD,start:w,end:w+E},JA(s,a,S,g))):s!=null&&s.kind===Er.COPY&&s.end===b?s.end+=E:(s={kind:Er.COPY,start:b,end:b+E},JA(s,a,S,g))}return u>0&&r.info("File".concat(o.name==="file"?"":" "+o.name," has ").concat(u," changed blocks")),a}var sL=process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES==="true";function JA(e,t,r,n){if(sL&&t.length!==0){let i=t[t.length-1];if(i.kind===e.kind&&e.start<i.end&&e.start>i.start){let s=[i.start,i.end,e.start,e.end].reduce((o,a)=>o<a?o:a);throw new Error("operation (block index: ".concat(n,", checksum: ").concat(r,", kind: ").concat(Er[e.kind],") overlaps previous operation (checksum: ").concat(r,"):\n")+"abs: ".concat(i.start," until ").concat(i.end," and ").concat(e.start," until ").concat(e.end,"\n")+"rel: ".concat(i.start-s," until ").concat(i.end-s," and ").concat(e.start-s," until ").concat(e.end-s))}}t.push(e)}function oL(e,t,r){let n=new Map,i=new Map,s=t;for(let o=0;o<e.checksums.length;o++){let a=e.checksums[o],l=e.sizes[o],c=i.get(a);if(c===void 0)n.set(a,s),i.set(a,l);else if(r.debug!=null){let f=c===l?"(same size)":"(size: ".concat(c,", this size: ").concat(l,")");r.debug("".concat(a," duplicated in blockmap ").concat(f,", it doesn't lead to broken differential downloader, just corresponding block will be skipped)"))}s+=l}return{checksumToOffset:n,checksumToOldSize:i}}function ZA(e){let t=new Map;for(let r of e)t.set(r.name,r);return t}});var hu=y(Si=>{"use strict";Object.defineProperty(Si,"__esModule",{value:!0});Si.DataSplitter=void 0;Si.copyData=tw;var xo=ye(),aL=require("fs"),lL=require("stream"),cL=Lo(),ew=Buffer.from("\r\n\r\n"),jt;(function(e){e[e.INIT=0]="INIT",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"})(jt||(jt={}));function tw(e,t,r,n,i){let s=(0,aL.createReadStream)("",{fd:r,autoClose:!1,start:e.start,end:e.end-1});s.on("error",n),s.once("end",i),s.pipe(t,{end:!1})}var fu=class extends lL.Writable{constructor(t,r,n,i,s,o){super(),this.out=t,this.options=r,this.partIndexToTaskIndex=n,this.partIndexToLength=s,this.finishHandler=o,this.partIndex=-1,this.headerListBuffer=null,this.readState=jt.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=i.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(t,r,n){if(this.isFinished){console.error("Trailing ignored data: ".concat(t.length," bytes"));return}this.handleData(t).then(n).catch(n)}async handleData(t){let r=0;if(this.ignoreByteCount!==0&&this.remainingPartDataCount!==0)throw(0,xo.newError)("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){let n=Math.min(this.ignoreByteCount,t.length);this.ignoreByteCount-=n,r=n}else if(this.remainingPartDataCount>0){let n=Math.min(this.remainingPartDataCount,t.length);this.remainingPartDataCount-=n,await this.processPartData(t,0,n),r=n}if(r!==t.length){if(this.readState===jt.HEADER){let n=this.searchHeaderListEnd(t,r);if(n===-1)return;r=n,this.readState=jt.BODY,this.headerListBuffer=null}for(;;){if(this.readState===jt.BODY)this.readState=jt.INIT;else{this.partIndex++;let o=this.partIndexToTaskIndex.get(this.partIndex);if(o==null)if(this.isFinished)o=this.options.end;else throw(0,xo.newError)("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");let a=this.partIndex===0?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(a<o)await this.copyExistingData(a,o);else if(a>o)throw(0,xo.newError)("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished){this.onPartEnd(),this.finishHandler();return}if(r=this.searchHeaderListEnd(t,r),r===-1){this.readState=jt.HEADER;return}}let n=this.partIndexToLength[this.partIndex],i=r+n,s=Math.min(i,t.length);if(await this.processPartStarted(t,r,s),this.remainingPartDataCount=n-(s-r),this.remainingPartDataCount>0)return;if(r=i+this.boundaryLength,r>=t.length){this.ignoreByteCount=this.boundaryLength-(t.length-i);return}}}}copyExistingData(t,r){return new Promise((n,i)=>{let s=()=>{if(t===r){n();return}let o=this.options.tasks[t];if(o.kind!==cL.OperationKind.COPY){i(new Error("Task kind must be COPY"));return}tw(o,this.out,this.options.oldFileFd,i,()=>{t++,s()})};s()})}searchHeaderListEnd(t,r){let n=t.indexOf(ew,r);if(n!==-1)return n+ew.length;let i=r===0?t:t.slice(r);return this.headerListBuffer==null?this.headerListBuffer=i:this.headerListBuffer=Buffer.concat([this.headerListBuffer,i]),-1}onPartEnd(){let t=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==t)throw(0,xo.newError)("Expected length: ".concat(t," differs from actual: ").concat(this.actualPartLength),"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(t,r,n){return this.partIndex!==0&&this.onPartEnd(),this.processPartData(t,r,n)}processPartData(t,r,n){this.actualPartLength+=n-r;let i=this.out;return i.write(r===0&&t.length===n?t:t.slice(r,n))?Promise.resolve():new Promise((s,o)=>{i.on("error",o),i.once("drain",()=>{i.removeListener("error",o),s()})})}};Si.DataSplitter=fu});var iw=y(Ro=>{"use strict";Object.defineProperty(Ro,"__esModule",{value:!0});Ro.executeTasksUsingMultipleRangeRequests=uL;Ro.checkIsRangesSupported=pu;var du=ye(),rw=hu(),nw=Lo();function uL(e,t,r,n,i){let s=o=>{if(o>=t.length){e.fileMetadataBuffer!=null&&r.write(e.fileMetadataBuffer),r.end();return}let a=o+1e3;fL(e,{tasks:t,start:o,end:Math.min(t.length,a),oldFileFd:n},r,()=>s(a),i)};return s}function fL(e,t,r,n,i){let s="bytes=",o=0,a=new Map,l=[];for(let u=t.start;u<t.end;u++){let h=t.tasks[u];h.kind===nw.OperationKind.DOWNLOAD&&(s+="".concat(h.start,"-").concat(h.end-1,", "),a.set(o,u),o++,l.push(h.end-h.start))}if(o<=1){let u=h=>{if(h>=t.end){n();return}let p=t.tasks[h++];if(p.kind===nw.OperationKind.COPY)(0,rw.copyData)(p,r,t.oldFileFd,i,()=>u(h));else{let w=e.createRequestOptions();w.headers.Range="bytes=".concat(p.start,"-").concat(p.end-1);let g=e.httpExecutor.createRequest(w,E=>{pu(E,i)&&(E.pipe(r,{end:!1}),E.once("end",()=>u(h)))});e.httpExecutor.addErrorAndTimeoutHandlers(g,i),g.end()}};u(t.start);return}let c=e.createRequestOptions();c.headers.Range=s.substring(0,s.length-2);let f=e.httpExecutor.createRequest(c,u=>{if(!pu(u,i))return;let h=(0,du.safeGetHeader)(u,"content-type"),p=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(h);if(p==null){i(new Error('Content-Type "multipart/byteranges" is expected, but got "'.concat(h,'"')));return}let w=new rw.DataSplitter(r,t,a,p[1]||p[2],l,n);w.on("error",i),u.pipe(w),u.on("end",()=>{setTimeout(()=>{f.abort(),i(new Error("Response ends without calling any handlers"))},1e4)})});e.httpExecutor.addErrorAndTimeoutHandlers(f,i),f.end()}function pu(e,t){if(e.statusCode>=400)return t((0,du.createHttpError)(e)),!1;if(e.statusCode!==206){let r=(0,du.safeGetHeader)(e,"accept-ranges");if(r==null||r==="none")return t(new Error("Server doesn't support Accept-Ranges (response code ".concat(e.statusCode,")"))),!1}return!0}});var sw=y(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.ProgressDifferentialDownloadCallbackTransform=void 0;var hL=require("stream"),un;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(un||(un={}));var mu=class extends hL.Transform{constructor(t,r,n){super(),this.progressDifferentialDownloadInfo=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=un.COPY,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}if(this.operationType==un.COPY){n(null,t);return}this.transferred+=t.length,this.delta+=t.length;let i=Date.now();i>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=i+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}beginFileCopy(){this.operationType=un.COPY}beginRangeDownload(){this.operationType=un.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,t(null)}};ko.ProgressDifferentialDownloadCallbackTransform=mu});var Au=y(Uo=>{"use strict";Object.defineProperty(Uo,"__esModule",{value:!0});Uo.DifferentialDownloader=void 0;var _i=ye(),gu=pt(),dL=require("fs"),pL=hu(),mL=require("url"),Fo=Lo(),ow=iw(),gL=sw(),yu=class{constructor(t,r,n){this.blockAwareFileInfo=t,this.httpExecutor=r,this.options=n,this.fileMetadataBuffer=null,this.logger=n.logger}createRequestOptions(){let t={headers:{...this.options.requestHeaders,accept:"*/*"}};return(0,_i.configureRequestUrl)(this.options.newUrl,t),(0,_i.configureRequestOptions)(t),t}doDownload(t,r){if(t.version!==r.version)throw new Error("version is different (".concat(t.version," - ").concat(r.version,"), full download is required"));let n=this.logger,i=(0,Fo.computeOperations)(t,r,n);n.debug!=null&&n.debug(JSON.stringify(i,null,2));let s=0,o=0;for(let l of i){let c=l.end-l.start;l.kind===Fo.OperationKind.DOWNLOAD?s+=c:o+=c}let a=this.blockAwareFileInfo.size;if(s+o+(this.fileMetadataBuffer==null?0:this.fileMetadataBuffer.length)!==a)throw new Error("Internal error, size mismatch: downloadSize: ".concat(s,", copySize: ").concat(o,", newSize: ").concat(a));return n.info("Full: ".concat(aw(a),", To download: ").concat(aw(s)," (").concat(Math.round(s/(a/100)),"%)")),this.downloadFile(i)}downloadFile(t){let r=[],n=()=>Promise.all(r.map(i=>(0,gu.close)(i.descriptor).catch(s=>{this.logger.error('cannot close file "'.concat(i.path,'": ').concat(s))})));return this.doDownloadFile(t,r).then(n).catch(i=>n().catch(s=>{try{this.logger.error("cannot close files: ".concat(s))}catch(o){try{console.error(o)}catch{}}throw i}).then(()=>{throw i}))}async doDownloadFile(t,r){let n=await(0,gu.open)(this.options.oldFile,"r");r.push({descriptor:n,path:this.options.oldFile});let i=await(0,gu.open)(this.options.newFile,"w");r.push({descriptor:i,path:this.options.newFile});let s=(0,dL.createWriteStream)(this.options.newFile,{fd:i});await new Promise((o,a)=>{let l=[],c;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){let S=[],b=0;for(let N of t)N.kind===Fo.OperationKind.DOWNLOAD&&(S.push(N.end-N.start),b+=N.end-N.start);let T={expectedByteCounts:S,grandTotal:b};c=new gL.ProgressDifferentialDownloadCallbackTransform(T,this.options.cancellationToken,this.options.onProgress),l.push(c)}let f=new _i.DigestTransform(this.blockAwareFileInfo.sha512);f.isValidateOnEnd=!1,l.push(f),s.on("finish",()=>{s.close(()=>{r.splice(1,1);try{f.validate()}catch(S){a(S);return}o(void 0)})}),l.push(s);let u=null;for(let S of l)S.on("error",a),u==null?u=S:u=u.pipe(S);let h=l[0],p;if(this.options.isUseMultipleRangeRequest){p=(0,ow.executeTasksUsingMultipleRangeRequests)(this,t,h,n,a),p(0);return}let w=0,g=null;this.logger.info("Differential download: ".concat(this.options.newUrl));let E=this.createRequestOptions();E.redirect="manual",p=S=>{var b,T;if(S>=t.length){this.fileMetadataBuffer!=null&&h.write(this.fileMetadataBuffer),h.end();return}let N=t[S++];if(N.kind===Fo.OperationKind.COPY){c&&c.beginFileCopy(),(0,pL.copyData)(N,h,n,a,()=>p(S));return}let R="bytes=".concat(N.start,"-").concat(N.end-1);E.headers.range=R,(T=(b=this.logger)===null||b===void 0?void 0:b.debug)===null||T===void 0||T.call(b,"download range: ".concat(R)),c&&c.beginRangeDownload();let I=this.httpExecutor.createRequest(E,M=>{M.on("error",a),M.on("aborted",()=>{a(new Error("response has been aborted by the server"))}),M.statusCode>=400&&a((0,_i.createHttpError)(M)),M.pipe(h,{end:!1}),M.once("end",()=>{c&&c.endRangeDownload(),++w===100?(w=0,setTimeout(()=>p(S),1e3)):p(S)})});I.on("redirect",(M,A,O)=>{this.logger.info("Redirect to ".concat(yL(O))),g=O,(0,_i.configureRequestUrl)(new mL.URL(g),E),I.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(I,a),I.end()},p(0)})}async readRemoteBytes(t,r){let n=Buffer.allocUnsafe(r+1-t),i=this.createRequestOptions();i.headers.range="bytes=".concat(t,"-").concat(r);let s=0;if(await this.request(i,o=>{o.copy(n,s),s+=o.length}),s!==n.length)throw new Error("Received data length ".concat(s," is not equal to expected ").concat(n.length));return n}request(t,r){return new Promise((n,i)=>{let s=this.httpExecutor.createRequest(t,o=>{(0,ow.checkIsRangesSupported)(o,i)&&(o.on("error",i),o.on("aborted",()=>{i(new Error("response has been aborted by the server"))}),o.on("data",r),o.on("end",()=>n()))});this.httpExecutor.addErrorAndTimeoutHandlers(s,i),s.end()})}};Uo.DifferentialDownloader=yu;function aw(e,t=" KB"){return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}function yL(e){let t=e.indexOf("?");return t<0?e:e.substring(0,t)}});var lw=y(Mo=>{"use strict";Object.defineProperty(Mo,"__esModule",{value:!0});Mo.GenericDifferentialDownloader=void 0;var AL=Au(),wu=class extends AL.DifferentialDownloader{download(t,r){return this.doDownload(t,r)}};Mo.GenericDifferentialDownloader=wu});var Ht=y(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.UpdaterSignal=We.UPDATE_DOWNLOADED=We.DOWNLOAD_PROGRESS=We.CancellationToken=void 0;We.addHandler=Ci;var wL=ye();Object.defineProperty(We,"CancellationToken",{enumerable:!0,get:function(){return wL.CancellationToken}});We.DOWNLOAD_PROGRESS="download-progress";We.UPDATE_DOWNLOADED="update-downloaded";var Eu=class{constructor(t){this.emitter=t}login(t){Ci(this.emitter,"login",t)}progress(t){Ci(this.emitter,We.DOWNLOAD_PROGRESS,t)}updateDownloaded(t){Ci(this.emitter,We.UPDATE_DOWNLOADED,t)}updateCancelled(t){Ci(this.emitter,"update-cancelled",t)}};We.UpdaterSignal=Eu;var EL=!1;function Ci(e,t,r){EL?e.on(t,(...n)=>{console.log("%s %s",t,n),r(...n)}):e.on(t,r)}});var Bo=y(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.NoOpLogger=dn.AppUpdater=void 0;var Le=ye(),vL=require("crypto"),bL=require("os"),SL=require("events"),fn=pt(),_L=Js(),vu=Zg(),vr=require("path"),br=Dc(),cw=_A(),CL=NA(),uw=IA(),TL=Zc(),bu=XA(),NL=require("zlib"),OL=Mt(),IL=lw(),hn=Ht(),Su=class e extends SL.EventEmitter{get channel(){return this._channel}set channel(t){if(this._channel!=null){if(typeof t!="string")throw(0,Le.newError)("Channel must be a string, but got: ".concat(t),"ERR_UPDATER_INVALID_CHANNEL");if(t.length===0)throw(0,Le.newError)("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=t,this.allowDowngrade=!0}addAuthHeader(t){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:t})}get netSession(){return(0,uw.getNetSession)()}get logger(){return this._logger}set logger(t){this._logger=t??new $o}set updateConfigPath(t){this.clientPromise=null,this._appUpdateConfigPath=t,this.configOnDisk=new vu.Lazy(()=>this.loadUpdateConfig())}get isUpdateSupported(){return this._isUpdateSupported}set isUpdateSupported(t){t&&(this._isUpdateSupported=t)}constructor(t,r){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.disableDifferentialDownload=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new hn.UpdaterSignal(this),this._appUpdateConfigPath=null,this._isUpdateSupported=s=>this.checkIfUpdateSupported(s),this.clientPromise=null,this.stagingUserIdPromise=new vu.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new vu.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.downloadPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",s=>{this._logger.error("Error: ".concat(s.stack||s.message))}),r==null?(this.app=new CL.ElectronAppAdapter,this.httpExecutor=new uw.ElectronHttpExecutor((s,o)=>this.emit("login",s,o))):(this.app=r,this.httpExecutor=null);let n=this.app.version,i=(0,br.parse)(n);if(i==null)throw(0,Le.newError)('App version is not a valid semver version: "'.concat(n,'"'),"ERR_UPDATER_INVALID_VERSION");this.currentVersion=i,this.allowPrerelease=PL(i),t!=null&&(this.setFeedURL(t),typeof t!="string"&&t.requestHeaders&&(this.requestHeaders=t.requestHeaders))}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(t){let r=this.createProviderRuntimeOptions(),n;typeof t=="string"?n=new TL.GenericProvider({provider:"generic",url:t},this,{...r,isUseMultipleRangeRequest:(0,bu.isUrlProbablySupportMultiRangeRequests)(t)}):n=(0,bu.createClient)(t,this,r),this.clientPromise=Promise.resolve(n)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let t=this.checkForUpdatesPromise;if(t!=null)return this._logger.info("Checking for update (already in progress)"),t;let r=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),t=this.doCheckForUpdates().then(n=>(r(),n)).catch(n=>{throw r(),this.emit("error",n,"Cannot check for updates: ".concat((n.stack||n).toString())),n}),this.checkForUpdatesPromise=t,t}isUpdaterActive(){return this.app.isPackaged||this.forceDevUpdateConfig?!0:(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),!1)}checkForUpdatesAndNotify(t){return this.checkForUpdates().then(r=>r?.downloadPromise?(r.downloadPromise.then(()=>{let n=e.formatDownloadNotification(r.updateInfo.version,this.app.name,t);new(require("electron")).Notification(n).show()}),r):(this._logger.debug!=null&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),r))}static formatDownloadNotification(t,r,n){return n==null&&(n={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),n={title:n.title.replace("{appName}",r).replace("{version}",t),body:n.body.replace("{appName}",r).replace("{version}",t)},n}async isStagingMatch(t){let r=t.stagingPercentage,n=r;if(n==null)return!0;if(n=parseInt(n,10),isNaN(n))return this._logger.warn("Staging percentage is NaN: ".concat(r)),!0;n=n/100;let i=await this.stagingUserIdPromise.value,o=Le.UUID.parse(i).readUInt32BE(12)/4294967295;return this._logger.info("Staging percentage: ".concat(n,", percentage: ").concat(o,", user id: ").concat(i)),o<n}computeFinalHeaders(t){return this.requestHeaders!=null&&Object.assign(t,this.requestHeaders),t}async isUpdateAvailable(t){let r=(0,br.parse)(t.version);if(r==null)throw(0,Le.newError)('This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "'.concat(t.version,'"'),"ERR_UPDATER_INVALID_VERSION");let n=this.currentVersion;if((0,br.eq)(r,n)||!await Promise.resolve(this.isUpdateSupported(t))||!await this.isStagingMatch(t))return!1;let s=(0,br.gt)(r,n),o=(0,br.lt)(r,n);return s?!0:this.allowDowngrade&&o}checkIfUpdateSupported(t){let r=t?.minimumSystemVersion,n=(0,bL.release)();if(r)try{if((0,br.lt)(n,r))return this._logger.info("Current OS version ".concat(n," is less than the minimum OS version required ").concat(r," for version ").concat(n)),!1}catch(i){this._logger.warn("Failed to compare current OS version(".concat(n,") with minimum OS version(").concat(r,"): ").concat((i.message||i).toString()))}return!0}async getUpdateInfoAndProvider(){await this.app.whenReady(),this.clientPromise==null&&(this.clientPromise=this.configOnDisk.value.then(n=>(0,bu.createClient)(n,this,this.createProviderRuntimeOptions())));let t=await this.clientPromise,r=await this.stagingUserIdPromise.value;return t.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":r})),{info:await t.getLatestVersion(),provider:t}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:this._testOnlyOptions==null?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");let t=await this.getUpdateInfoAndProvider(),r=t.info;if(!await this.isUpdateAvailable(r))return this._logger.info("Update for version ".concat(this.currentVersion.format()," is not available (latest version: ").concat(r.version,", downgrade is ").concat(this.allowDowngrade?"allowed":"disallowed",").")),this.emit("update-not-available",r),{isUpdateAvailable:!1,versionInfo:r,updateInfo:r};this.updateInfoAndProvider=t,this.onUpdateAvailable(r);let n=new Le.CancellationToken;return{isUpdateAvailable:!0,versionInfo:r,updateInfo:r,cancellationToken:n,downloadPromise:this.autoDownload?this.downloadUpdate(n):null}}onUpdateAvailable(t){this._logger.info("Found version ".concat(t.version," (url: ").concat((0,Le.asArray)(t.files).map(r=>r.url).join(", "),")")),this.emit("update-available",t)}downloadUpdate(t=new Le.CancellationToken){let r=this.updateInfoAndProvider;if(r==null){let i=new Error("Please check update first");return this.dispatchError(i),Promise.reject(i)}if(this.downloadPromise!=null)return this._logger.info("Downloading update (already in progress)"),this.downloadPromise;this._logger.info("Downloading update from ".concat((0,Le.asArray)(r.info.files).map(i=>i.url).join(", ")));let n=i=>{if(!(i instanceof Le.CancellationError))try{this.dispatchError(i)}catch(s){this._logger.warn("Cannot dispatch error event: ".concat(s.stack||s))}return i};return this.downloadPromise=this.doDownloadUpdate({updateInfoAndProvider:r,requestHeaders:this.computeRequestHeaders(r.provider),cancellationToken:t,disableWebInstaller:this.disableWebInstaller,disableDifferentialDownload:this.disableDifferentialDownload}).catch(i=>{throw n(i)}).finally(()=>{this.downloadPromise=null}),this.downloadPromise}dispatchError(t){this.emit("error",t,(t.stack||t).toString())}dispatchUpdateDownloaded(t){this.emit(hn.UPDATE_DOWNLOADED,t)}async loadUpdateConfig(){return this._appUpdateConfigPath==null&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),(0,_L.load)(await(0,fn.readFile)(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(t){let r=t.fileExtraDownloadHeaders;if(r!=null){let n=this.requestHeaders;return n==null?r:{...r,...n}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){let t=vr.join(this.app.userDataPath,".updaterId");try{let n=await(0,fn.readFile)(t,"utf-8");if(Le.UUID.check(n))return n;this._logger.warn("Staging user id file exists, but content was invalid: ".concat(n))}catch(n){n.code!=="ENOENT"&&this._logger.warn("Couldn't read staging user ID, creating a blank one: ".concat(n))}let r=Le.UUID.v5((0,vL.randomBytes)(4096),Le.UUID.OID);this._logger.info("Generated new staging user ID: ".concat(r));try{await(0,fn.outputFile)(t,r)}catch(n){this._logger.warn("Couldn't write out staging user ID: ".concat(n))}return r}get isAddNoCacheQuery(){let t=this.requestHeaders;if(t==null)return!0;for(let r of Object.keys(t)){let n=r.toLowerCase();if(n==="authorization"||n==="private-token")return!1}return!0}async getOrCreateDownloadHelper(){let t=this.downloadedUpdateHelper;if(t==null){let r=(await this.configOnDisk.value).updaterCacheDirName,n=this._logger;r==null&&n.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");let i=vr.join(this.app.baseCachePath,r||this.app.name);n.debug!=null&&n.debug("updater cache dir: ".concat(i)),t=new cw.DownloadedUpdateHelper(i),this.downloadedUpdateHelper=t}return t}async executeDownload(t){let r=t.fileInfo,n={headers:t.downloadUpdateOptions.requestHeaders,cancellationToken:t.downloadUpdateOptions.cancellationToken,sha2:r.info.sha2,sha512:r.info.sha512};this.listenerCount(hn.DOWNLOAD_PROGRESS)>0&&(n.onProgress=b=>this.emit(hn.DOWNLOAD_PROGRESS,b));let i=t.downloadUpdateOptions.updateInfoAndProvider.info,s=i.version,o=r.packageInfo;function a(){let b=decodeURIComponent(t.fileInfo.url.pathname);return b.endsWith(".".concat(t.fileExtension))?vr.basename(b):t.fileInfo.info.url}let l=await this.getOrCreateDownloadHelper(),c=l.cacheDirForPendingUpdate;await(0,fn.mkdir)(c,{recursive:!0});let f=a(),u=vr.join(c,f),h=o==null?null:vr.join(c,"package-".concat(s).concat(vr.extname(o.path)||".7z")),p=async b=>(await l.setDownloadedFile(u,h,i,r,f,b),await t.done({...i,downloadedFile:u}),h==null?[u]:[u,h]),w=this._logger,g=await l.validateDownloadedPath(u,i,r,w);if(g!=null)return u=g,await p(!1);let E=async()=>(await l.clear().catch(()=>{}),await(0,fn.unlink)(u).catch(()=>{})),S=await(0,cw.createTempUpdateFile)("temp-".concat(f),c,w);try{await t.task(S,n,h,E),await(0,Le.retry)(()=>(0,fn.rename)(S,u),60,500,0,0,b=>b instanceof Error&&/^EBUSY:/.test(b.message))}catch(b){throw await E(),b instanceof Le.CancellationError&&(w.info("cancelled"),this.emit("update-cancelled",i)),b}return w.info("New version ".concat(s," has been downloaded to ").concat(u)),await p(!0)}async differentialDownloadInstaller(t,r,n,i,s){try{if(this._testOnlyOptions!=null&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;let o=(0,OL.blockmapFiles)(t.url,this.app.version,r.updateInfoAndProvider.info.version);this._logger.info('Download block maps (old: "'.concat(o[0],'", new: ').concat(o[1],")"));let a=async f=>{let u=await this.httpExecutor.downloadToBuffer(f,{headers:r.requestHeaders,cancellationToken:r.cancellationToken});if(u==null||u.length===0)throw new Error('Blockmap "'.concat(f.href,'" is empty'));try{return JSON.parse((0,NL.gunzipSync)(u).toString())}catch(h){throw new Error('Cannot parse blockmap "'.concat(f.href,'", error: ').concat(h))}},l={newUrl:t.url,oldFile:vr.join(this.downloadedUpdateHelper.cacheDir,s),logger:this._logger,newFile:n,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,requestHeaders:r.requestHeaders,cancellationToken:r.cancellationToken};this.listenerCount(hn.DOWNLOAD_PROGRESS)>0&&(l.onProgress=f=>this.emit(hn.DOWNLOAD_PROGRESS,f));let c=await Promise.all(o.map(f=>a(f)));return await new IL.GenericDifferentialDownloader(t.info,this.httpExecutor,l).download(c[0],c[1]),!1}catch(o){if(this._logger.error("Cannot download differentially, fallback to full download: ".concat(o.stack||o)),this._testOnlyOptions!=null)throw o;return!0}}};dn.AppUpdater=Su;function PL(e){let t=(0,br.prerelease)(e);return t!=null&&t.length>0}var $o=class{info(t){}warn(t){}error(t){}};dn.NoOpLogger=$o});var Sr=y(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.BaseUpdater=void 0;var fw=require("child_process"),DL=Bo(),_u=class extends DL.AppUpdater{constructor(t,r){super(t,r),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(t=!1,r=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(t,t?r:this.autoRunAppAfterInstall)?setImmediate(()=>{require("electron").autoUpdater.emit("before-quit-for-update"),this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(t){return super.executeDownload({...t,done:r=>(this.dispatchUpdateDownloaded(r),this.addQuitHandler(),Promise.resolve())})}get installerPath(){return this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.file}install(t=!1,r=!1){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;let n=this.downloadedUpdateHelper,i=this.installerPath,s=n==null?null:n.downloadedFileInfo;if(i==null||s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info("Install: isSilent: ".concat(t,", isForceRunAfter: ").concat(r)),this.doInstall({isSilent:t,isForceRunAfter:r,isAdminRightsRequired:s.isAdminRightsRequired})}catch(o){return this.dispatchError(o),!1}}addQuitHandler(){this.quitHandlerAdded||!this.autoInstallOnAppQuit||(this.quitHandlerAdded=!0,this.app.onQuit(t=>{if(this.quitAndInstallCalled){this._logger.info("Update installer has already been triggered. Quitting application.");return}if(!this.autoInstallOnAppQuit){this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.");return}if(t!==0){this._logger.info("Update will be not installed on quit because application is quitting with exit code ".concat(t));return}this._logger.info("Auto install update on quit"),this.install(!0,!1)}))}wrapSudo(){let{name:t}=this.app,r='"'.concat(t,' would like to update"'),n=this.spawnSyncLog("which gksudo || which kdesudo || which pkexec || which beesu"),i=[n];return/kdesudo/i.test(n)?(i.push("--comment",r),i.push("-c")):/gksudo/i.test(n)?i.push("--message",r):/pkexec/i.test(n)&&i.push("--disable-internal-agent"),i.join(" ")}spawnSyncLog(t,r=[],n={}){this._logger.info("Executing: ".concat(t," with args: ").concat(r));let i=(0,fw.spawnSync)(t,r,{env:{...process.env,...n},encoding:"utf-8",shell:!0}),{error:s,status:o,stdout:a,stderr:l}=i;if(s!=null)throw this._logger.error(l),s;if(o!=null&&o!==0)throw this._logger.error(l),new Error("Command ".concat(t," exited with code ").concat(o));return a.trim()}async spawnLog(t,r=[],n=void 0,i="ignore"){return this._logger.info("Executing: ".concat(t," with args: ").concat(r)),new Promise((s,o)=>{try{let a={stdio:i,env:n,detached:!0},l=(0,fw.spawn)(t,r,a);l.on("error",c=>{o(c)}),l.unref(),l.pid!==void 0&&s(!0)}catch(a){o(a)}})}};jo.BaseUpdater=_u});var Tu=y(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;var pn=pt(),qL=Au(),LL=require("zlib"),Cu=class extends qL.DifferentialDownloader{async download(){let t=this.blockAwareFileInfo,r=t.size,n=r-(t.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(n,r-1);let i=hw(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await xL(this.options.oldFile),i)}};Ho.FileWithEmbeddedBlockMapDifferentialDownloader=Cu;function hw(e){return JSON.parse((0,LL.inflateRawSync)(e).toString())}async function xL(e){let t=await(0,pn.open)(e,"r");try{let r=(await(0,pn.fstat)(t)).size,n=Buffer.allocUnsafe(4);await(0,pn.read)(t,n,0,n.length,r-n.length);let i=Buffer.allocUnsafe(n.readUInt32BE(0));return await(0,pn.read)(t,i,0,i.length,r-n.length-i.length),await(0,pn.close)(t),hw(i)}catch(r){throw await(0,pn.close)(t),r}}});var Ou=y(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.AppImageUpdater=void 0;var dw=ye(),pw=require("child_process"),RL=pt(),kL=require("fs"),Ti=require("path"),FL=Sr(),UL=Tu(),ML=Ge(),mw=Ht(),Nu=class extends FL.BaseUpdater{constructor(t,r){super(t,r)}isUpdaterActive(){return process.env.APPIMAGE==null?(process.env.SNAP==null?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,ML.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"AppImage",["rpm","deb","pacman"]);return this.executeDownload({fileExtension:"AppImage",fileInfo:n,downloadUpdateOptions:t,task:async(i,s)=>{let o=process.env.APPIMAGE;if(o==null)throw(0,dw.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(t.disableDifferentialDownload||await this.downloadDifferential(n,o,i,r,t))&&await this.httpExecutor.download(n.url,i,s),await(0,RL.chmod)(i,493)}})}async downloadDifferential(t,r,n,i,s){try{let o={newUrl:t.url,oldFile:r,logger:this._logger,newFile:n,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,requestHeaders:s.requestHeaders,cancellationToken:s.cancellationToken};return this.listenerCount(mw.DOWNLOAD_PROGRESS)>0&&(o.onProgress=a=>this.emit(mw.DOWNLOAD_PROGRESS,a)),await new UL.FileWithEmbeddedBlockMapDifferentialDownloader(t.info,this.httpExecutor,o).download(),!1}catch(o){return this._logger.error("Cannot download differentially, fallback to full download: ".concat(o.stack||o)),process.platform==="linux"}}doInstall(t){let r=process.env.APPIMAGE;if(r==null)throw(0,dw.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(0,kL.unlinkSync)(r);let n,i=Ti.basename(r),s=this.installerPath;if(s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;Ti.basename(s)===i||!/\d+\.\d+\.\d+/.test(i)?n=r:n=Ti.join(Ti.dirname(r),Ti.basename(s)),(0,pw.execFileSync)("mv",["-f",s,n]),n!==r&&this.emit("appimage-filename-updated",n);let o={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return t.isForceRunAfter?this.spawnLog(n,[],o):(o.APPIMAGE_EXIT_AFTER_INSTALL="true",(0,pw.execFileSync)(n,[],{env:o})),!0}};Vo.AppImageUpdater=Nu});var Pu=y(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.DebUpdater=void 0;var $L=Sr(),BL=Ge(),gw=Ht(),Iu=class extends $L.BaseUpdater{constructor(t,r){super(t,r)}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,BL.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"deb",["AppImage","rpm","pacman"]);return this.executeDownload({fileExtension:"deb",fileInfo:n,downloadUpdateOptions:t,task:async(i,s)=>{this.listenerCount(gw.DOWNLOAD_PROGRESS)>0&&(s.onProgress=o=>this.emit(gw.DOWNLOAD_PROGRESS,o)),await this.httpExecutor.download(n.url,i,s)}})}get installerPath(){var t,r;return(r=(t=super.installerPath)===null||t===void 0?void 0:t.replace(/ /g,"\\ "))!==null&&r!==void 0?r:null}doInstall(t){let r=this.wrapSudo(),n=/pkexec/i.test(r)?"":'"',i=this.installerPath;if(i==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let s=["dpkg","-i",i,"||","apt-get","install","-f","-y"];return this.spawnSyncLog(r,["".concat(n,"/bin/bash"),"-c","'".concat(s.join(" "),"'").concat(n)]),t.isForceRunAfter&&this.app.relaunch(),!0}};Go.DebUpdater=Iu});var qu=y(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.PacmanUpdater=void 0;var jL=Sr(),yw=Ht(),HL=Ge(),Du=class extends jL.BaseUpdater{constructor(t,r){super(t,r)}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,HL.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"pacman",["AppImage","deb","rpm"]);return this.executeDownload({fileExtension:"pacman",fileInfo:n,downloadUpdateOptions:t,task:async(i,s)=>{this.listenerCount(yw.DOWNLOAD_PROGRESS)>0&&(s.onProgress=o=>this.emit(yw.DOWNLOAD_PROGRESS,o)),await this.httpExecutor.download(n.url,i,s)}})}get installerPath(){var t,r;return(r=(t=super.installerPath)===null||t===void 0?void 0:t.replace(/ /g,"\\ "))!==null&&r!==void 0?r:null}doInstall(t){let r=this.wrapSudo(),n=/pkexec/i.test(r)?"":'"',i=this.installerPath;if(i==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let s=["pacman","-U","--noconfirm",i];return this.spawnSyncLog(r,["".concat(n,"/bin/bash"),"-c","'".concat(s.join(" "),"'").concat(n)]),t.isForceRunAfter&&this.app.relaunch(),!0}};Wo.PacmanUpdater=Du});var xu=y(Yo=>{"use strict";Object.defineProperty(Yo,"__esModule",{value:!0});Yo.RpmUpdater=void 0;var VL=Sr(),Aw=Ht(),GL=Ge(),Lu=class extends VL.BaseUpdater{constructor(t,r){super(t,r)}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,GL.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"rpm",["AppImage","deb","pacman"]);return this.executeDownload({fileExtension:"rpm",fileInfo:n,downloadUpdateOptions:t,task:async(i,s)=>{this.listenerCount(Aw.DOWNLOAD_PROGRESS)>0&&(s.onProgress=o=>this.emit(Aw.DOWNLOAD_PROGRESS,o)),await this.httpExecutor.download(n.url,i,s)}})}get installerPath(){var t,r;return(r=(t=super.installerPath)===null||t===void 0?void 0:t.replace(/ /g,"\\ "))!==null&&r!==void 0?r:null}doInstall(t){let r=this.wrapSudo(),n=/pkexec/i.test(r)?"":'"',i=this.spawnSyncLog("which zypper"),s=this.installerPath;if(s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let o;return i?o=[i,"--no-refresh","install","--allow-unsigned-rpm","-y","-f",s]:o=[this.spawnSyncLog("which dnf || which yum"),"-y","install",s],this.spawnSyncLog(r,["".concat(n,"/bin/bash"),"-c","'".concat(o.join(" "),"'").concat(n)]),t.isForceRunAfter&&this.app.relaunch(),!0}};Yo.RpmUpdater=Lu});var Fu=y(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.MacUpdater=void 0;var ww=ye(),Ru=pt(),WL=require("fs"),Ew=require("path"),YL=require("http"),KL=Bo(),QL=Ge(),vw=require("child_process"),bw=require("crypto"),ku=class extends KL.AppUpdater{constructor(t,r){super(t,r),this.nativeUpdater=require("electron").autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",n=>{this._logger.warn(n),this.emit("error",n)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0,this.debug("nativeUpdater.update-downloaded")})}debug(t){this._logger.debug!=null&&this._logger.debug(t)}closeServerIfExists(){this.server&&(this.debug("Closing proxy server"),this.server.close(t=>{t&&this.debug("proxy server wasn't already open, probably attempted closing again as a safety check before quit")}))}async doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider.resolveFiles(t.updateInfoAndProvider.info),n=this._logger,i="sysctl.proc_translated",s=!1;try{this.debug("Checking for macOS Rosetta environment"),s=(0,vw.execFileSync)("sysctl",[i],{encoding:"utf8"}).includes("".concat(i,": 1")),n.info("Checked for macOS Rosetta environment (isRosetta=".concat(s,")"))}catch(u){n.warn("sysctl shell command to check for macOS Rosetta environment failed: ".concat(u))}let o=!1;try{this.debug("Checking for arm64 in uname");let h=(0,vw.execFileSync)("uname",["-a"],{encoding:"utf8"}).includes("ARM");n.info("Checked 'uname -a': arm64=".concat(h)),o=o||h}catch(u){n.warn("uname shell command to check for arm64 failed: ".concat(u))}o=o||process.arch==="arm64"||s;let a=u=>{var h;return u.url.pathname.includes("arm64")||((h=u.info.url)===null||h===void 0?void 0:h.includes("arm64"))};o&&r.some(a)?r=r.filter(u=>o===a(u)):r=r.filter(u=>!a(u));let l=(0,QL.findFile)(r,"zip",["pkg","dmg"]);if(l==null)throw(0,ww.newError)("ZIP file not provided: ".concat((0,ww.safeStringifyJson)(r)),"ERR_UPDATER_ZIP_FILE_NOT_FOUND");let c=t.updateInfoAndProvider.provider,f="update.zip";return this.executeDownload({fileExtension:"zip",fileInfo:l,downloadUpdateOptions:t,task:async(u,h)=>{let p=Ew.join(this.downloadedUpdateHelper.cacheDir,f),w=()=>(0,Ru.pathExistsSync)(p)?!t.disableDifferentialDownload:(n.info("Unable to locate previous update.zip for differential download (is this first install?), falling back to full download"),!1),g=!0;w()&&(g=await this.differentialDownloadInstaller(l,t,u,c,f)),g&&await this.httpExecutor.download(l.url,u,h)},done:async u=>{if(!t.disableDifferentialDownload)try{let h=Ew.join(this.downloadedUpdateHelper.cacheDir,f);await(0,Ru.copyFile)(u.downloadedFile,h)}catch(h){this._logger.warn("Unable to copy file for caching for future differential downloads: ".concat(h.message))}return this.updateDownloaded(l,u)}})}async updateDownloaded(t,r){var n;let i=r.downloadedFile,s=(n=t.info.size)!==null&&n!==void 0?n:(await(0,Ru.stat)(i)).size,o=this._logger,a="fileToProxy=".concat(t.url.href);this.closeServerIfExists(),this.debug("Creating proxy server for native Squirrel.Mac (".concat(a,")")),this.server=(0,YL.createServer)(),this.debug("Proxy server for native Squirrel.Mac is created (".concat(a,")")),this.server.on("close",()=>{o.info("Proxy server for native Squirrel.Mac is closed (".concat(a,")"))});let l=c=>{let f=c.address();return typeof f=="string"?f:"http://127.0.0.1:".concat(f?.port)};return await new Promise((c,f)=>{let u=(0,bw.randomBytes)(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),h=Buffer.from("autoupdater:".concat(u),"ascii"),p="/".concat((0,bw.randomBytes)(64).toString("hex"),".zip");this.server.on("request",(w,g)=>{let E=w.url;if(o.info("".concat(E," requested")),E==="/"){if(!w.headers.authorization||w.headers.authorization.indexOf("Basic ")===-1){g.statusCode=401,g.statusMessage="Invalid Authentication Credentials",g.end(),o.warn("No authenthication info");return}let T=w.headers.authorization.split(" ")[1],N=Buffer.from(T,"base64").toString("ascii"),[R,I]=N.split(":");if(R!=="autoupdater"||I!==u){g.statusCode=401,g.statusMessage="Invalid Authentication Credentials",g.end(),o.warn("Invalid authenthication credentials");return}let M=Buffer.from('{ "url": "'.concat(l(this.server)).concat(p,'" }'));g.writeHead(200,{"Content-Type":"application/json","Content-Length":M.length}),g.end(M);return}if(!E.startsWith(p)){o.warn("".concat(E," requested, but not supported")),g.writeHead(404),g.end();return}o.info("".concat(p," requested by Squirrel.Mac, pipe ").concat(i));let S=!1;g.on("finish",()=>{S||(this.nativeUpdater.removeListener("error",f),c([]))});let b=(0,WL.createReadStream)(i);b.on("error",T=>{try{g.end()}catch(N){o.warn("cannot end response: ".concat(N))}S=!0,this.nativeUpdater.removeListener("error",f),f(new Error('Cannot pipe "'.concat(i,'": ').concat(T)))}),g.writeHead(200,{"Content-Type":"application/zip","Content-Length":s}),b.pipe(g)}),this.debug("Proxy server for native Squirrel.Mac is starting to listen (".concat(a,")")),this.server.listen(0,"127.0.0.1",()=>{this.debug("Proxy server for native Squirrel.Mac is listening (address=".concat(l(this.server),", ").concat(a,")")),this.nativeUpdater.setFeedURL({url:l(this.server),headers:{"Cache-Control":"no-cache",Authorization:"Basic ".concat(h.toString("base64"))}}),this.dispatchUpdateDownloaded(r),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",f),this.nativeUpdater.checkForUpdates()):c([])})})}handleUpdateDownloaded(){this.autoRunAppAfterInstall?this.nativeUpdater.quitAndInstall():this.app.quit(),this.closeServerIfExists()}quitAndInstall(){this.squirrelDownloadedUpdate?this.handleUpdateDownloaded():(this.nativeUpdater.on("update-downloaded",()=>this.handleUpdateDownloaded()),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}};Ko.MacUpdater=ku});var Tw=y(Mu=>{"use strict";Object.defineProperty(Mu,"__esModule",{value:!0});Mu.verifySignature=XL;var Sw=ye(),Cw=require("child_process"),zL=require("os"),_w=require("path");function XL(e,t,r){return new Promise((n,i)=>{let s=t.replace(/'/g,"''");r.info("Verifying signature ".concat(s)),(0,Cw.execFile)('set "PSModulePath=" & chcp 65001 >NUL & powershell.exe',["-NoProfile","-NonInteractive","-InputFormat","None","-Command","\"Get-AuthenticodeSignature -LiteralPath '".concat(s,"' | ConvertTo-Json -Compress\"")],{shell:!0,timeout:20*1e3},(o,a,l)=>{var c;try{if(o!=null||l){Uu(r,o,l,i),n(null);return}let f=JL(a);if(f.Status===0){try{let w=_w.normalize(f.Path),g=_w.normalize(t);if(r.info("LiteralPath: ".concat(w,". Update Path: ").concat(g)),w!==g){Uu(r,new Error("LiteralPath of ".concat(w," is different than ").concat(g)),l,i),n(null);return}}catch(w){r.warn("Unable to verify LiteralPath of update asset due to missing data.Path. Skipping this step of validation. Message: ".concat((c=w.message)!==null&&c!==void 0?c:w.stack))}let h=(0,Sw.parseDn)(f.SignerCertificate.Subject),p=!1;for(let w of e){let g=(0,Sw.parseDn)(w);if(g.size?p=Array.from(g.keys()).every(S=>g.get(S)===h.get(S)):w===h.get("CN")&&(r.warn("Signature validated using only CN ".concat(w,". Please add your full Distinguished Name (DN) to publisherNames configuration")),p=!0),p){n(null);return}}}let u="publisherNames: ".concat(e.join(" | "),", raw info: ")+JSON.stringify(f,(h,p)=>h==="RawData"?void 0:p,2);r.warn("Sign verification failed, installer signed with incorrect certificate: ".concat(u)),n(u)}catch(f){Uu(r,f,null,i),n(null);return}})})}function JL(e){let t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;let r=t.SignerCertificate;return r!=null&&(delete r.Archived,delete r.Extensions,delete r.Handle,delete r.HasPrivateKey,delete r.SubjectName),t}function Uu(e,t,r,n){if(ZL()){e.warn("Cannot execute Get-AuthenticodeSignature: ".concat(t||r,". Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher."));return}try{(0,Cw.execFileSync)("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:10*1e3})}catch(i){e.warn("Cannot execute ConvertTo-Json: ".concat(i.message,". Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher."));return}t!=null&&n(t),r&&n(new Error("Cannot execute Get-AuthenticodeSignature, stderr: ".concat(r,". Failing signature validation due to unknown stderr.")))}function ZL(){let e=zL.release();return e.startsWith("6.")&&!e.startsWith("6.3")}});var Bu=y(zo=>{"use strict";Object.defineProperty(zo,"__esModule",{value:!0});zo.NsisUpdater=void 0;var Qo=ye(),Nw=require("path"),ex=Sr(),tx=Tu(),Ow=Ht(),rx=Ge(),nx=pt(),ix=Tw(),Iw=require("url"),$u=class extends ex.BaseUpdater{constructor(t,r){super(t,r),this._verifyUpdateCodeSignature=(n,i)=>(0,ix.verifySignature)(n,i,this._logger)}get verifyUpdateCodeSignature(){return this._verifyUpdateCodeSignature}set verifyUpdateCodeSignature(t){t&&(this._verifyUpdateCodeSignature=t)}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,rx.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:t,fileInfo:n,task:async(i,s,o,a)=>{let l=n.packageInfo,c=l!=null&&o!=null;if(c&&t.disableWebInstaller)throw(0,Qo.newError)("Unable to download new version ".concat(t.updateInfoAndProvider.info.version,". Web Installers are disabled"),"ERR_UPDATER_WEB_INSTALLER_DISABLED");!c&&!t.disableWebInstaller&&this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(c||t.disableDifferentialDownload||await this.differentialDownloadInstaller(n,t,i,r,Qo.CURRENT_APP_INSTALLER_FILE_NAME))&&await this.httpExecutor.download(n.url,i,s);let f=await this.verifySignature(i);if(f!=null)throw await a(),(0,Qo.newError)("New version ".concat(t.updateInfoAndProvider.info.version," is not signed by the application owner: ").concat(f),"ERR_UPDATER_INVALID_SIGNATURE");if(c&&await this.differentialDownloadWebPackage(t,l,o,r))try{await this.httpExecutor.download(new Iw.URL(l.path),o,{headers:t.requestHeaders,cancellationToken:t.cancellationToken,sha512:l.sha512})}catch(u){try{await(0,nx.unlink)(o)}catch{}throw u}}})}async verifySignature(t){let r;try{if(r=(await this.configOnDisk.value).publisherName,r==null)return null}catch(n){if(n.code==="ENOENT")return null;throw n}return await this._verifyUpdateCodeSignature(Array.isArray(r)?r:[r],t)}doInstall(t){let r=this.installerPath;if(r==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let n=["--updated"];t.isSilent&&n.push("/S"),t.isForceRunAfter&&n.push("--force-run"),this.installDirectory&&n.push("/D=".concat(this.installDirectory));let i=this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.packageFile;i!=null&&n.push("--package-file=".concat(i));let s=()=>{this.spawnLog(Nw.join(process.resourcesPath,"elevate.exe"),[r].concat(n)).catch(o=>this.dispatchError(o))};return t.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),s(),!0):(this.spawnLog(r,n).catch(o=>{let a=o.code;this._logger.info("Cannot run installer: error code: ".concat(a,', error message: "').concat(o.message,'", will be executed again using elevate if EACCES, and will try to use electron.shell.openItem if ENOENT')),a==="UNKNOWN"||a==="EACCES"?s():a==="ENOENT"?require("electron").shell.openPath(r).catch(l=>this.dispatchError(l)):this.dispatchError(o)}),!0)}async differentialDownloadWebPackage(t,r,n,i){if(r.blockMapSize==null)return!0;try{let s={newUrl:new Iw.URL(r.path),oldFile:Nw.join(this.downloadedUpdateHelper.cacheDir,Qo.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:n,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,cancellationToken:t.cancellationToken};this.listenerCount(Ow.DOWNLOAD_PROGRESS)>0&&(s.onProgress=o=>this.emit(Ow.DOWNLOAD_PROGRESS,o)),await new tx.FileWithEmbeddedBlockMapDifferentialDownloader(r,this.httpExecutor,s).download()}catch(s){return this._logger.error("Cannot download differentially, fallback to full download: ".concat(s.stack||s)),process.platform==="win32"}return!1}};zo.NsisUpdater=$u});var qw=y(X=>{"use strict";var sx=X&&X.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),ox=X&&X.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&sx(t,e,r)};Object.defineProperty(X,"__esModule",{value:!0});X.NsisUpdater=X.MacUpdater=X.RpmUpdater=X.PacmanUpdater=X.DebUpdater=X.AppImageUpdater=X.Provider=X.NoOpLogger=X.AppUpdater=X.BaseUpdater=void 0;var Pw=pt(),ax=require("path"),lx=Sr();Object.defineProperty(X,"BaseUpdater",{enumerable:!0,get:function(){return lx.BaseUpdater}});var Dw=Bo();Object.defineProperty(X,"AppUpdater",{enumerable:!0,get:function(){return Dw.AppUpdater}});Object.defineProperty(X,"NoOpLogger",{enumerable:!0,get:function(){return Dw.NoOpLogger}});var cx=Ge();Object.defineProperty(X,"Provider",{enumerable:!0,get:function(){return cx.Provider}});var ux=Ou();Object.defineProperty(X,"AppImageUpdater",{enumerable:!0,get:function(){return ux.AppImageUpdater}});var fx=Pu();Object.defineProperty(X,"DebUpdater",{enumerable:!0,get:function(){return fx.DebUpdater}});var hx=qu();Object.defineProperty(X,"PacmanUpdater",{enumerable:!0,get:function(){return hx.PacmanUpdater}});var dx=xu();Object.defineProperty(X,"RpmUpdater",{enumerable:!0,get:function(){return dx.RpmUpdater}});var px=Fu();Object.defineProperty(X,"MacUpdater",{enumerable:!0,get:function(){return px.MacUpdater}});var mx=Bu();Object.defineProperty(X,"NsisUpdater",{enumerable:!0,get:function(){return mx.NsisUpdater}});ox(Ht(),X);var wt;function gx(){if(process.platform==="win32")wt=new(Bu()).NsisUpdater;else if(process.platform==="darwin")wt=new(Fu()).MacUpdater;else{wt=new(Ou()).AppImageUpdater;try{let e=ax.join(process.resourcesPath,"package-type");if(!(0,Pw.existsSync)(e))return wt;console.info("Checking for beta autoupdate feature for deb/rpm distributions");let t=(0,Pw.readFileSync)(e).toString().trim();switch(console.info("Found package-type:",t),t){case"deb":wt=new(Pu()).DebUpdater;break;case"rpm":wt=new(xu()).RpmUpdater;break;case"pacman":wt=new(qu()).PacmanUpdater;break;default:break}}catch(e){console.warn("Unable to detect 'package-type' for autoUpdater (beta rpm/deb support). If you'd like to expand support, please consider contributing to electron-builder",e.message)}}return wt}Object.defineProperty(X,"autoUpdater",{enumerable:!0,get:()=>wt||gx()})});var Uw=y((JB,Fw)=>{var L={child:require("child_process"),crypto:require("crypto"),fs:require("fs"),os:require("os"),path:require("path"),process,util:require("util")};function yx(e,t){var r=L.process.platform;if(r==="darwin")return vx(e,t);if(r==="linux")return wx(e,t);if(r==="win32")return Ox(e,t);t(new Error("Platform not yet supported."))}function Je(e){if(typeof e!="string")throw new Error("Expected a string.");return e.replace(/"/g,'\\"')}function Ax(){if(arguments.length<1||arguments.length>3)throw new Error("Wrong number of arguments.");var e=arguments[0],t={},r=function(){};if(typeof e!="string")throw new Error("Command should be a string.");if(arguments.length===2)if(L.util.isObject(arguments[1]))t=arguments[1];else if(L.util.isFunction(arguments[1]))r=arguments[1];else throw new Error("Expected options or callback.");else if(arguments.length===3){if(L.util.isObject(arguments[1]))t=arguments[1];else throw new Error("Expected options to be an object.");if(L.util.isFunction(arguments[2]))r=arguments[2];else throw new Error("Expected callback to be a function.")}if(/^sudo/i.test(e))return r(new Error('Command should not be prefixed with "sudo".'));if(typeof t.name>"u"){var n=L.process.title;if(Lw(n))t.name=n;else return r(new Error("process.title cannot be used as a valid name."))}else if(!Lw(t.name)){var i="";return i+="options.name must be alphanumeric only ",i+="(spaces are allowed) and <= 70 characters.",r(new Error(i))}if(typeof t.icns<"u"){if(typeof t.icns!="string")return r(new Error("options.icns must be a string if provided."));if(t.icns.trim().length===0)return r(new Error("options.icns must not be empty if provided."))}if(typeof t.env<"u"){if(typeof t.env!="object")return r(new Error("options.env must be an object if provided."));if(Object.keys(t.env).length===0)return r(new Error("options.env must not be empty if provided."));for(var s in t.env){var o=t.env[s];if(typeof s!="string"||typeof o!="string")return r(new Error("options.env environment variables must be strings."));if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(s))return r(new Error("options.env has an invalid environment variable name: "+JSON.stringify(s)));if(/[\r\n]/.test(o))return r(new Error("options.env has an invalid environment variable value: "+JSON.stringify(o)))}}var a=L.process.platform;if(a!=="darwin"&&a!=="linux"&&a!=="win32")return r(new Error("Platform not yet supported."));var l={command:e,options:t,uuid:void 0,path:void 0};yx(l,r)}function wx(e,t){Ex(e,function(r,n){if(r)return t(r);var i=[];i.push('cd "'+Je(L.process.cwd())+'";');for(var s in e.options.env){var o=e.options.env[s];i.push("export "+s+'="'+Je(o)+'";')}i.push('"'+Je(n)+'"'),/kdesudo/i.test(n)?(i.push("--comment",'"'+e.options.name+' wants to make changes. Enter your password to allow this."'),i.push("-d"),i.push("--")):/pkexec/i.test(n)&&i.push("--disable-internal-agent");var a="SUDOPROMPT\n";i.push('/bin/bash -c "echo '+Je(a.trim())+"; "+Je(e.command)+'"'),i=i.join(" "),L.child.exec(i,{encoding:"utf-8",maxBuffer:Rx},function(l,c,f){var u=c&&c.slice(0,a.length)===a;u&&(c=c.slice(a.length)),l&&!u&&(/No authentication agent found/.test(f)?l.message=xx:l.message=Xo),t(l,c,f)})})}function Ex(e,t){var r=0,n=["/usr/bin/kdesudo","/usr/bin/pkexec"];function i(){if(r===n.length)return t(new Error("Unable to find pkexec or kdesudo."));var s=n[r++];L.fs.stat(s,function(o){if(o){if(o.code==="ENOTDIR"||o.code==="ENOENT")return i();t(o)}else t(void 0,s)})}i()}function vx(e,t){var r=L.os.tmpdir();if(!r)return t(new Error("os.tmpdir() not defined."));var n=L.process.env.USER;if(!n)return t(new Error("env['USER'] not defined."));Rw(e,function(i,s){if(i)return t(i);e.uuid=s,e.path=L.path.join(r,e.uuid,e.options.name+".app");function o(a,l,c){xw(L.path.dirname(e.path),function(f){if(a)return t(a);if(f)return t(f);t(void 0,l,c)})}bx(e,function(a,l,c){if(a)return o(a,l,c);_x(e,function(f){if(f)return o(f);Tx(e,function(u,h,p){if(u)return o(u,h,p);Sx(e,function(w){if(w)return o(w);Cx(e,function(g,E,S){if(g)return o(g,E,S);Nx(e,o)})})})})})})}function bx(e,t){var r=L.path.dirname(e.path);L.fs.mkdir(r,function(n){if(n)return t(n);var i=L.path.join(r,"sudo-prompt-applet.zip");L.fs.writeFile(i,Lx,"base64",function(s){if(s)return t(s);var o=[];o.push("/usr/bin/unzip"),o.push("-o"),o.push('"'+Je(i)+'"'),o.push('-d "'+Je(e.path)+'"'),o=o.join(" "),L.child.exec(o,{encoding:"utf-8"},t)})})}function Sx(e,t){var r=L.path.join(e.path,"Contents","MacOS","sudo-prompt-command"),n=[];n.push('cd "'+Je(L.process.cwd())+'"');for(var i in e.options.env){var s=e.options.env[i];n.push("export "+i+'="'+Je(s)+'"')}n.push(e.command),n=n.join("\n"),L.fs.writeFile(r,n,"utf-8",t)}function _x(e,t){if(!e.options.icns)return t();L.fs.readFile(e.options.icns,function(r,n){if(r)return t(r);var i=L.path.join(e.path,"Contents","Resources","applet.icns");L.fs.writeFile(i,n,t)})}function Cx(e,t){var r=L.path.join(e.path,"Contents","MacOS","applet"),n={cwd:L.path.dirname(r),encoding:"utf-8"};L.child.exec("./"+L.path.basename(r),n,t)}function Tx(e,t){var r=L.path.join(e.path,"Contents","Info.plist"),n=Je(r),i=Je("CFBundleName"),s=e.options.name+" Password Prompt";if(/'/.test(s))return t(new Error("Value should not contain single quotes."));var o=[];o.push("/usr/bin/defaults"),o.push("write"),o.push('"'+n+'"'),o.push('"'+i+'"'),o.push("'"+s+"'"),o=o.join(" "),L.child.exec(o,{encoding:"utf-8"},t)}function Nx(e,t){var r=L.path.join(e.path,"Contents","MacOS");L.fs.readFile(L.path.join(r,"code"),"utf-8",function(n,i){if(n){if(n.code==="ENOENT")return t(new Error(Xo));t(n)}else L.fs.readFile(L.path.join(r,"stdout"),"utf-8",function(s,o){if(s)return t(s);L.fs.readFile(L.path.join(r,"stderr"),"utf-8",function(a,l){if(a)return t(a);i=parseInt(i.trim(),10),i===0?t(void 0,o,l):(a=new Error("Command failed: "+e.command+"\n"+l),a.code=i,t(a,o,l))})})})}function xw(e,t){if(typeof e!="string"||!e.trim())return t(new Error("Argument path not defined."));var r=[];if(L.process.platform==="win32"){if(/"/.test(e))return t(new Error("Argument path cannot contain double-quotes."));r.push('rmdir /s /q "'+e+'"')}else r.push("/bin/rm"),r.push("-rf"),r.push('"'+Je(L.path.normalize(e))+'"');r=r.join(" "),L.child.exec(r,{encoding:"utf-8"},t)}function Rw(e,t){L.crypto.randomBytes(256,function(r,n){r&&(n=Date.now()+""+Math.random());var i=L.crypto.createHash("SHA256");i.update("sudo-prompt-3"),i.update(e.options.name),i.update(e.command),i.update(n);var s=i.digest("hex").slice(-32);if(!s||typeof s!="string"||s.length!==32)return t(new Error("Expected a valid UUID."));t(void 0,s)})}function Lw(e){return!(!/^[a-z0-9 ]+$/i.test(e)||e.trim().length===0||e.length>70)}function Ox(e,t){var r=L.os.tmpdir();if(!r)return t(new Error("os.tmpdir() not defined."));Rw(e,function(n,i){if(n)return t(n);if(e.uuid=i,e.path=L.path.join(r,e.uuid),/"/.test(e.path))return t(new Error("instance.path cannot contain double-quotes."));e.pathElevate=L.path.join(e.path,"elevate.vbs"),e.pathExecute=L.path.join(e.path,"execute.bat"),e.pathCommand=L.path.join(e.path,"command.bat"),e.pathStdout=L.path.join(e.path,"stdout"),e.pathStderr=L.path.join(e.path,"stderr"),e.pathStatus=L.path.join(e.path,"status"),L.fs.mkdir(e.path,function(s){if(s)return t(s);function o(a,l,c){xw(e.path,function(f){if(a)return t(a);if(f)return t(f);t(void 0,l,c)})}qx(e,function(a){if(a)return o(a);Dx(e,function(l){if(l)return o(l);Ix(e,function(c,f,u){if(c)return o(c,f,u);kw(e,function(h){if(h)return o(h);Px(e,o)})})})})})})}function Ix(e,t){var r=[];r.push("powershell.exe"),r.push("Start-Process"),r.push("-FilePath"),r.push("\"'"+e.pathExecute.replace(/'/g,"`'")+"'\""),r.push("-WindowStyle hidden"),r.push("-Verb runAs"),r=r.join(" ");var n=L.child.exec(r,{encoding:"utf-8"},function(i,s,o){if(i)return t(new Error(Xo),s,o);t()});n.stdin.end()}function Px(e,t){L.fs.readFile(e.pathStatus,"utf-8",function(r,n){if(r)return t(r);L.fs.readFile(e.pathStdout,"utf-8",function(i,s){if(i)return t(i);L.fs.readFile(e.pathStderr,"utf-8",function(o,a){if(o)return t(o);n=parseInt(n.trim(),10),n===0?t(void 0,s,a):(o=new Error("Command failed: "+e.command+"\r\n"+a),o.code=n,t(o,s,a))})})})}function kw(e,t){L.fs.stat(e.pathStatus,function(r,n){r&&r.code==="ENOENT"||n.size<2?setTimeout(function(){L.fs.stat(e.pathStdout,function(i){if(i)return t(new Error(Xo));kw(e,t)})},1e3):r?t(r):t()})}function Dx(e,t){var r=L.process.cwd();if(/"/.test(r))return t(new Error("process.cwd() cannot contain double-quotes."));var n=[];n.push("@echo off"),n.push("chcp 65001>nul"),n.push('cd /d "'+r+'"');for(var i in e.options.env){var s=e.options.env[i];n.push("set "+i+"="+s.replace(/([<>\\|&^])/g,"^$1"))}n.push(e.command),n=n.join("\r\n"),L.fs.writeFile(e.pathCommand,n,"utf-8",t)}function qx(e,t){var r=[];r.push("@echo off"),r.push('call "'+e.pathCommand+'" > "'+e.pathStdout+'" 2> "'+e.pathStderr+'"'),r.push('(echo %ERRORLEVEL%) > "'+e.pathStatus+'"'),r=r.join("\r\n"),L.fs.writeFile(e.pathExecute,r,"utf-8",t)}Fw.exports.exec=Ax;var Lx="UEsDBAoAAAAAAO1YcEcAAAAAAAAAAAAAAAAJABwAQ29udGVudHMvVVQJAAPNnElWLZEQV3V4CwABBPUBAAAEFAAAAFBLAwQUAAAACACgeXBHlHaGqKEBAAC+AwAAEwAcAENvbnRlbnRzL0luZm8ucGxpc3RVVAkAA1zWSVYtkRBXdXgLAAEE9QEAAAQUAAAAfZNRb5swFIWfl1/BeA9OpSmqJkqVBCJFop1VyKQ9Ta59S6wa27NNCfv1M0naJWTsEXO+c8+9vo7v97UI3sBYruRdeBPNwgAkVYzL6i7cluvpbXifTOLP6bdV+QNngRbcugBvl/lmFYRThBZaC0AoLdMA55uiDLwHQtljGIQ75/RXhNq2jUiviqiqe6FF2CgNxnW5N5t6IGKOhb7M0f0ijj9lnLpk8il+hS5ZrZeNZAIWQqj2ge+B5YoSwX8T5xEbo17ktc40gIZQCm8glK5BuieovP5Dbp3xHSeZrHyCXYxO3wM+2wNtHHkWMAQP/bkxbkOVXPMxKuK0Dz6CMh+Wv3AwQ9gPM7INU1NtVK3Ha8sXlfoB+m6J6b4fRzv0mkezMf6R1Fe5MbG2VYYF+L+lMaGvpIKy01cOC4zzMazYKeNOQYuDYkjfjMcteCWJa8w/Zi2ugubFA5e8buqisw7qU81ltzB0xx3QC5/TFh7J/e385/zL+7+/wWbR/LwIOl/dvHiCXw03YFfEPJ9dwsWu5sV2kwnod3QoeLeL0eGdJJM/UEsDBAoAAAAAAHSBjkgAAAAAAAAAAAAAAAAPABwAQ29udGVudHMvTWFjT1MvVVQJAAMbpQ9XLZEQV3V4CwABBPUBAAAEFAAAAFBLAwQUAAAACABVHBdH7Dk4KTIIAADIYQAAFQAcAENvbnRlbnRzL01hY09TL2FwcGxldFVUCQADMiPZVVOlD1d1eAsAAQT1AQAABBQAAADtnG9sHEcVwGfti7M1/rONLNVtXHqpzsipis+pHOSWFOzEm25at3XrJI2ozbK+W/suuds79vaSuCKSpaOIxRy1+NSPRPAhlWj7AVRaQCWpTRz+CEo+RSKCCho4K67kVhUyAeV4b3fWt17fXZqKFgHvp8zO3/dmdmfPmtl5L7+8/uPXGWMNELZCaGRMgmjHIlxaBCibdcoGsewCljGCIAiCIAiCIAiCIP7r+M21d67zjb/zEaAdwr1bGHuWMQH2/2wAgqqODj0kf0F+8nGfoFRbJ8p9U0C5g/KRgwEZqZLGfrfwwJx+LP2kVWkelD9zJ2NfBr1nWt2xrhNisxWZ3Ex6MpNSc1Z+soqOO+5i7JMYt7vj9BC5jiZXBwirCT2V1c0qOgZAxwMYt9cbRyxnmUljusa9mKBjGON2tgG/PlXNGyeSRlxNGlOZKjpeBR0KxsFx+MB7VJy5GB46OOSrCLPKfEjrH3/gFry+4zOpuH8sm+VF5srW6ltVjZQ3HVnL3KRDDLsflMSADpyDyjuR0urp6AAdHRgHdOD9iOs6Ypl0OmPUupeecOW19OsQAmn3tzBy4LFH5OED3jz0MbYouM8D460BOdTXCaEF6tsgLkF8GeJPQBj16Rb4PTf5xl2NH4J8a5Vy1N3F3OcZzefMaCo5GeVTuJ2P4cUf/aH5qbbP73/utpfeevdbLzwfYfy+Q80woGan/1E+ljo/703g77IaOJY479t5rqFLDag9OjaTs/R0dCQ5aWrmTHS/qaX1ExnzWC66L2PqY7p5PBnTc71TXnn0sG7mkhkjFx3a0IL30e/rQxB+EXL68J4BBLe73r298DySk5tlGPtJY1BmOhZTc727PBH2Ke+ZhF35nTyP80oQBEEQBPFRcJTZVwpvrxZWpLmJkN0VKT4q2iORUGFBOPfnBuFX9nhELOG67f1D9pWxpw4XVrrmTklz+ZY5Wfwurm/t3ffi9cE+uM41vYbbj2fP5kNXt9sXiopwVRj6xhPlr160mttfuVi4Fs2vXv2rfc5u7UeZfxQ+y4pPh/JrpyUUBjmrofzmadGXKf0eui7KK/ZwJLQUiuRAe+mLUFQ+tFKUV3npd7AU9ytz8iqIiXYoUnoBsqdxDbXk3CXcRov9lYhoW5EQjBxb4NoSY9iQsvn5+QSuusrduAybL3eHIIIbLqyIS9CHlY3loB8rldVKuLfyOsE1+a6zhUVxYsFp3Amqz8tr7Lz8dza1JF8TmC3/syivYVtcfxcWOycWQDvuLcrdnc61y7mGnWsErgmsXDbK5TKkscnypJvGhsuH3TQ2X37YTaPQ8ucw7W6t1LR2TFfjekqb0SGTiedTOmz0klZSSyWf0U01pqVSufXGmThsjs20OpU3Yrjuxbnu4u+GP8b1LO6PcX2L4Q6+v8Q07u9aQFLy71Ckt54TIfjfNdzfDkMYhTAOIXHXh39vCYIgCIIgCIIgCIL4z3Nm+84/Ci1Nn8b0ryHsgbBX1rbgOXD7LZJzNtrC0/gFqYOn8csQ/GONguQchPXzcvy+9CBzvk84HxkO+tJH3bRz5Fb0pb/nS3/fl/6BL/2aL43faLzz3Wbmju8W5p6pttaoR9THjgyZ0zEeH2eqqmbNzLShpXVIpxOqflKP5S1dTehaXDeZqhvHk2bGYOo+LZXal0lnM4ZuWMPJXFazYgmmPp7VjWF9SsunrPVa1HpMn0lPm2r8hGZO3aea+nQyZ+mmmtNjFp5i4oG0lTChE+eDj2pm8lbSgDFoln4yCRp00zQyEDmZtBZLbGxnanHzgWh092d29e/uv+/f+DIQBEEQBEEQBEEQ/7P81rX/FxoZm/Xs/5UmtP8PO/W3M9fGvKoPAEfYXLQJ1HOpmk+AJx80OOb5m/URGG9z9c378rVs9F15tPXP1dS3wvVtC+Q9/H4DFX21fQcY9zvo9eXrj6++D0Af1zfqy9eyx3f16QnVMayufr+zXN+sL99YRx/O69er+RdIgXkNxJv9DfBTDIxLPa6Zudr6enz5euO6ke9Bj7TRzr0noK+JbczfyA9hgOvr9OX98t57XNFX3ydhlOsL+2T8+oK/ucrvNOCfEHbbXhAqeebLB/0V7oYp7+Pt8PsZWnl1+urRpAn7SUCcYBX/hkth95kd2cFYllX3bxB4+xCrzcCO6v4PbXzo1fwbEM/H4ds/f/nCgZH+8k+j0vNPv7Jlz7qPQ1PFx+FVPoZ76ozj42K87YP9/cT7xuf9UfpSeP0MsJvzp0A8/4g3w+78ef4R+F4QBEEQBPH/w1Gm2FeUwturytwpUSnmJfta4Q3h3J8aFeE9xf7d1ZBSOCcqhftZ/m+YKuG6wV4qaQzdGED0Z2jJ/zpa9ZcegjIF7fkVaIBrt11nJxYOOepXpPPyKjsvvytOLcnvCWxJfh87V+xTa0rx1Kpj0a8UFqWJhXL3fgHt9xXn+rCz7Bop3rkTEkNj5e7bIZ7HNRZb/ku5XE6g58HyZUzdj6mLjh1/Pbt7XMt5dvfvtLl1Fbv7BtbhrtyEPW6V038H1yE88yQTTkqC1LJVnIeaCNe7dr3sEPEe6lCb9LWGfa3efvNG8pe5fF8NeW8g3n7jCI+/xOOEVH19KvF9oudHH2n/YOtYgiAIgiAIgiAIgiA+fm69mx3aO8bYtkHn/xlwDq8nkwaavz9h9swzc+DWwRrm71A5CJVVjeChTtk26Fqwu0fxQjUL+9vqHVV/KC53OUd+bJxVfBkw7/gzCO5pr3dOK/g+WUQDeZlV/A2QRwJ5THjn1/xcd9BfhlT1KbgpVwLn+W2amGr2//8CUEsDBBQAAAAIAAVHj0ga7FYjfQEAAKoCAAAhABwAQ29udGVudHMvTWFjT1Mvc3Vkby1wcm9tcHQtc2NyaXB0VVQJAAOJkBBXipAQV3V4CwABBPUBAAAEFAAAAI1SO08cMRDu91cMHIKGxUB5xSGEUqTlFKWMvPYca+EXnjGXy6/PeNcg0qVay+PvObs5U5OLatI0DxvYIwNVm4BdQGIdMhxSkauJ8K1i7FOjvSdwB2A+/WJnXpEJdEGwjvTk0W6HhTW8WldgzKDedVF2Ug2tLn7svz3DDpTFdxWr93C/u7wbVKWyoDhVM/8XZAOPOXvcm+IyXxGcizeaUca0XJ1D0CfQnlEysE2VwbuII0br4gvdCMF37m9IoC39+oxTO2EpS8oZJdtRS0aIKY5/sCQoyLVEMMki6Ghl0BGN9SeuICkPIctXDHDDSB9oGEQi1yZWUAda8EZnIcR/eIOOVao+9TrbkpYFjLmkkHk0KYSGvdt12/e71cP6Hs2c4OJBemtsYusplVX+GLHQ7DKkQ098/ZF38dLEpRCeNUMlMW90BIseeQkWtuu2qKmIyDHCuqFuo1N11Ud/1Cf6CHb7Sfxld2ATklQoUGEDActfZ5326WU74G/HcDv8BVBLAwQKAAAAAADtWHBHqiAGewgAAAAIAAAAEAAcAENvbnRlbnRzL1BrZ0luZm9VVAkAA82cSVYqkRBXdXgLAAEE9QEAAAQUAAAAQVBQTGFwbHRQSwMECgAAAAAAm3lwRwAAAAAAAAAAAAAAABMAHABDb250ZW50cy9SZXNvdXJjZXMvVVQJAANW1klWLZEQV3V4CwABBPUBAAAEFAAAAFBLAwQUAAAACACAeXBHfrnysfYGAAAf3AAAHgAcAENvbnRlbnRzL1Jlc291cmNlcy9hcHBsZXQuaWNuc1VUCQADH9ZJVnGlD1d1eAsAAQT1AQAABBQAAADt3Xk81Hkcx/Hvb5yVo5bGsVlKbcpRRqFlGZGS5JikRBIdI0OZttMZloqiYwrVjD1UqJaUokTRubG72bZVjqR1VZNjp2XEGo9H+9gt+9h/9tHx8H7N4/fw5MHjYeaPz+P7+P7x/bL9griEPNBm+001J0S+ZbvL/NmKwzWHE0IUHebYuRFCEckjL9v/xSvk2EpCpBXZtrYuDra2Oi4hwSvZgSsIMU9MdPdePcZd1aqQu0p3fDkrcFrs+mPWihMU9y6clp5XEFFdbRrEczCtGtfkL3pWfvBGublJ4ct051kuocYtaaqll/IjdfR+V75vlTdl//AJVZU6elZ5f0S7NO3MaE2xMElhF+TUrHgW2nFYeGTrs/OrhDJN5zMX8ZJVKXrqSUM1Rj03bnf85/pJMXECNdl0D1ctfe/j82imziM2nllSa3t5q8+vP1f38k/k22uN1lmnvfz0b8dGxO+mnh91v7WB2tKdrG3d4vmJaHlTvjGzdMqWcw/9frnCtQpPZK9sMKi/Ey/jzgqIPzBy9/dlf9griI2/u+sjcApozWx6/NXytC+qBTlrhb69fE7J6tgOzpWjFSl8qxihr5dYf/qExoeupY6Ze/j2PfL1azhhZ8fU3eelJY+ylk16UJN6KmOU0M4r+75cZhH/mxNndowNb4wx7TCoN4yvMGu8ySq5l5W5t+xQyYbS/Ome7e0W0sXbC5aktl0LEXNYR9obH7dMT721dbNdT/eFzXNEYSH8GU+bQ5s6YniGcj3fHtgXPbo0Oj4i3d5G1Fjfm/Ng7kgpjQDNxw4RRnu+Vloy5ZE3J6OpwlFBzaxS25He2h3lJuizO70zJPLUYtks14RE5yrD8y2tXa5l5Wqh/NBY06yoiCLF08Nk9A5Ojbs43GmR1Ch/PaZsLf3e6uPRSrIM1ROqGjt80leqfdxYbNn+WV7K7ZKiy/t6r1/3ie46V5432T/Oahs9V7NnVzb9zoq2rFgvPxXrcAMzmvWnGjof/RpdsZThIEpex6DGbd5h6STaOyZXxV/YfW9u4KyllmZ3X15IMHHLSJtVPSOvULCsz2TyPC/WL9kGSme/1L01SSzjfbHnqk+OV7OBmevZeo3DBR7lXT5drT0MkX5PwDd1EQ0ebfkh1zy/L8ydd+VJ4CLuRndNjuwj+vMfU8q2l2l1rGtr8FC2D+fdSGk81eltuTjYSMk++4BMd0DXQo35iXbZndGdcXkGFyeG6b28evF22M2w22HlYSXetGSLW4cfFT00WqvN9bkqCujQ9KzdSt+snr+qmbcme+5Y3cDRn9BDLps+dPVltE9UkPeb6XovineiVUznTznyuZaSn/ZvR8VeRUYLqe3iHFqnU6+7+4LmtfsmaS0MdjIvslFJGG/rn7DPdMGLcx4d6eP2Oz92Y49kWbBUjudU2ijHnc7YIODQxD1aPx8PynVr+cmvJoy2+M5nQa2Kt0dvdPxp73LNU6aTeaktTfHH1L+8Pm/XalZcFcfzYxlhTefuzjRGobLKEqPZh8QKxUXWbU/ERvW78ghvTGTUNd0g9YqbcjUy5h0xVbn3S7SS54SOqKt88UR0qZuxKfxlZfODUm52o2HkGTOLw5dqhevvWjH7ssiqxAhKwA91d1nWG9w/GJIc7GwWbKKe/mAsGRqXBb87P10jH8/0LY6kpGQV1KcuAwAAeCt4LiVFWRJKs4DJ6p9GxGHWfLuTM5dt61/pzCCE7vLmSodGJM/ASqdzU2U3VjpY6WClg5XOICudUaI3VjocuWCsdAAAAAAAAAAAAAAAAD5o1Gmr054TSoqWxPvnfrLxVEIc29/cT5YmkmdgPzlCSz8a+8nYT8Z+MvaTB9lPZpJX+8lRktFyRdDF0m6IdcF2MgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC8ddD8G5oJkUuQnAXwnvxLAAAAADDkEFURRckVE6rIv+Tb1078MiZEetubJ34RHckzcOIXd8uWTpz4hRO/cOIXTvwa5MQvoidZ5S8a9h8nfl1QVhipQ6jyyWeuvTaBGP3D5fwgE4gpeQYmUCZ7XQ0mECYQJhAm0GATyOfVmYOU4sAdNi+cOUpm/9cdNv2Di8kkFN3mYOtrg8sE14xicGFwYXDhmlEAAD5w/Os1o8bTcM0oVjpY6WClg2tGAQAAAAAAAAAAAAAAgL/wb9eMBpow+r817yN/fwnJf33P5g78nWofEZNXD3u95GdSkh3o135/aL2i3vl/gHf/7t59oDlnDSHS8gQhNGQL8uWs6P+iwPYLDuIOzARqyM+E9QOfA3PIfw4IIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhND70J9QSwMEFAAAAAgA7VhwR/dYplZAAAAAagEAAB4AHABDb250ZW50cy9SZXNvdXJjZXMvYXBwbGV0LnJzcmNVVAkAA82cSVZTpQ9XdXgLAAEE9QEAAAQUAAAAY2BgZGBgYFQBEiDsxjDygJQDPlkmEIEaRpJAQg8kLAMML8bi5OIqIFuouKA4A0jLMTD8/w+S5AdrB7PlBIAEAFBLAwQKAAAAAADtWHBHAAAAAAAAAAAAAAAAJAAcAENvbnRlbnRzL1Jlc291cmNlcy9kZXNjcmlwdGlvbi5ydGZkL1VUCQADzZxJVi2REFd1eAsAAQT1AQAABBQAAABQSwMEFAAAAAgA7VhwRzPLNU9TAAAAZgAAACsAHABDb250ZW50cy9SZXNvdXJjZXMvZGVzY3JpcHRpb24ucnRmZC9UWFQucnRmVVQJAAPNnElWU6UPV3V4CwABBPUBAAAEFAAAACWJOw6AIBAFe08DCBVX2QbWhZgQ1vCpCHcXtHkzkzegtCDB5Xp/g0+UyihARnb70kL/UbvffYpjQODcmk9zKXListxCoUsZA7EQ5S0+dVq085gvUEsDBAoAAAAAAIeBjkgAAAAAAAAAAAAAAAAbABwAQ29udGVudHMvUmVzb3VyY2VzL1NjcmlwdHMvVVQJAAM9pQ9XLZEQV3V4CwABBPUBAAAEFAAAAFBLAwQUAAAACAAJgI5ICl5liTUBAADMAQAAJAAcAENvbnRlbnRzL1Jlc291cmNlcy9TY3JpcHRzL21haW4uc2NwdFVUCQADcaIPV1OlD1d1eAsAAQT1AQAABBQAAAB9UMtOAkEQrNldd9dhH3Dz6NGYiPIJHjTxLCZeF9iDcXEJC0RvfoI/4sEfIvoHPEQEhbIHvOok01U16emu7vOkaF2dXu7XqrUTcyMATkxCwYKthCAUbmciAQ8O11yFcGBfbF/4jR24WmCvWjwUeXqfNutn13XyEeYYHkqKam+kghdJGfUCvwIfB6jiGAX6aCHHETroCrYFe6IKNEXfGOXChc0v7HKpBRzdSFrtELvbumKVC80F/FIjzwe9bj91uZRuXJuwAiLjNi7DlsxPaJSUAMrCFOeac3GfpINennQ6d/0sA4z7JxzKiVCCV+YHAs74LuuIONUi//4RIoC63czrIbYQS3PFicWJcTMTv1JHmocmROLJ45gjzfHvXJqjf7ZZ4RT+61uaBbDipGh2ZanBcjh8/gFQSwECHgMKAAAAAADtWHBHAAAAAAAAAAAAAAAACQAYAAAAAAAAABAA7UEAAAAAQ29udGVudHMvVVQFAAPNnElWdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgAoHlwR5R2hqihAQAAvgMAABMAGAAAAAAAAQAAAKSBQwAAAENvbnRlbnRzL0luZm8ucGxpc3RVVAUAA1zWSVZ1eAsAAQT1AQAABBQAAABQSwECHgMKAAAAAAB0gY5IAAAAAAAAAAAAAAAADwAYAAAAAAAAABAA7UExAgAAQ29udGVudHMvTWFjT1MvVVQFAAMbpQ9XdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgAVRwXR+w5OCkyCAAAyGEAABUAGAAAAAAAAAAAAO2BegIAAENvbnRlbnRzL01hY09TL2FwcGxldFVUBQADMiPZVXV4CwABBPUBAAAEFAAAAFBLAQIeAxQAAAAIAAVHj0ga7FYjfQEAAKoCAAAhABgAAAAAAAEAAADtgfsKAABDb250ZW50cy9NYWNPUy9zdWRvLXByb21wdC1zY3JpcHRVVAUAA4mQEFd1eAsAAQT1AQAABBQAAABQSwECHgMKAAAAAADtWHBHqiAGewgAAAAIAAAAEAAYAAAAAAABAAAApIHTDAAAQ29udGVudHMvUGtnSW5mb1VUBQADzZxJVnV4CwABBPUBAAAEFAAAAFBLAQIeAwoAAAAAAJt5cEcAAAAAAAAAAAAAAAATABgAAAAAAAAAEADtQSUNAABDb250ZW50cy9SZXNvdXJjZXMvVVQFAANW1klWdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgAgHlwR3658rH2BgAAH9wAAB4AGAAAAAAAAAAAAKSBcg0AAENvbnRlbnRzL1Jlc291cmNlcy9hcHBsZXQuaWNuc1VUBQADH9ZJVnV4CwABBPUBAAAEFAAAAFBLAQIeAxQAAAAIAO1YcEf3WKZWQAAAAGoBAAAeABgAAAAAAAAAAACkgcAUAABDb250ZW50cy9SZXNvdXJjZXMvYXBwbGV0LnJzcmNVVAUAA82cSVZ1eAsAAQT1AQAABBQAAABQSwECHgMKAAAAAADtWHBHAAAAAAAAAAAAAAAAJAAYAAAAAAAAABAA7UFYFQAAQ29udGVudHMvUmVzb3VyY2VzL2Rlc2NyaXB0aW9uLnJ0ZmQvVVQFAAPNnElWdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgA7VhwRzPLNU9TAAAAZgAAACsAGAAAAAAAAQAAAKSBthUAAENvbnRlbnRzL1Jlc291cmNlcy9kZXNjcmlwdGlvbi5ydGZkL1RYVC5ydGZVVAUAA82cSVZ1eAsAAQT1AQAABBQAAABQSwECHgMKAAAAAACHgY5IAAAAAAAAAAAAAAAAGwAYAAAAAAAAABAA7UFuFgAAQ29udGVudHMvUmVzb3VyY2VzL1NjcmlwdHMvVVQFAAM9pQ9XdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgACYCOSApeZYk1AQAAzAEAACQAGAAAAAAAAAAAAKSBwxYAAENvbnRlbnRzL1Jlc291cmNlcy9TY3JpcHRzL21haW4uc2NwdFVUBQADcaIPV3V4CwABBPUBAAAEFAAAAFBLBQYAAAAADQANANwEAABWGAAAAAA=",Xo="User did not grant permission.",xx="No polkit authentication agent found.",Rx=134217728});var Ni=y((ej,Mw)=>{var{ipcMain:kx}=require("electron"),Fx=Rr();Mw.exports=class extends Fx{constructor(t){super(t)}_register(t){if(typeof t=="string")for(let r of Object.getOwnPropertyNames(this)){if(["_","#"].includes(r[0]||typeof this[r]!="function"))continue;let n=this[r],i="ipc:".concat(t,":").concat(r);kx.handle(i,async(s,...o)=>{let a=null;try{a=typeof n=="function"?await n(...o):null}catch(l){a=l}return a})}}}});var Hu=y((tj,jw)=>{var{app:$w}=require("electron"),Oi=require("path"),ju=require("os"),Bw=Fr(),Ye,mn,gn;jw.exports=(Ye=class{static getPathCache(){if(_(Ye,mn)===null){let t=process.env.XDG_CACHE_HOME||Oi.join(ju.homedir(),".cache");switch(process.platform){case Bw.WINDOWS:t=process.env.LOCALAPPDATA||Oi.join(ju.homedir(),"AppData","Local");break;case Bw.MACOS:t=Oi.join(ju.homedir(),"Library","Caches");break}V(Ye,mn,Oi.join(t,"".concat($w.name.toLowerCase(),"-updater")))}return _(Ye,mn)}static getPathConfig(){return _(Ye,gn)===null&&V(Ye,gn,Oi.join($w.getPath("appData"),"dos")),_(Ye,gn)}},mn=new WeakMap,gn=new WeakMap,H(Ye,mn,null),H(Ye,gn,null),Ye)});var eE=y((ij,Zw)=>{var{autoUpdater:yn}=qw(),{app:Vu,session:Hw}=require("electron"),Ux=Uw(),Vw=require("path"),Jo=require("fs"),Gw=Rn(),Mx=Ni(),Ww=Fr(),$x=Hu(),Bx=(e,t)=>{let r="".concat(typeof e=="string"?e:"0").split(".").map(Number),n="".concat(typeof t=="string"?t:"0").split(".").map(Number),i=Math.max(r.length,n.length);for(let s=0;s<i;s++){let o=r[s]||0,a=n[s]||0;if(o>a)return!0;if(o<a)return!1}return!1},_r,Ii,vt,Cr,Pi,Ee,Vt,re,Et,Zo,Kw,Qw,zw,Xw,Jw,Yw;Zw.exports=(Yw=class extends Mx{constructor(r){super(r);H(this,re);H(this,_r,!0);H(this,Ii,!1);H(this,vt,!1);H(this,Cr,!1);H(this,Pi,!1);H(this,Ee,{version:null,filePath:null,progress:0});H(this,Vt,null);q(this,"check",()=>{if(!_(this,_r)||_(this,vt))return!1;V(this,vt,!0);try{V(this,Ee,{version:null,filePath:null,progress:0}),ae(this,re,Et).call(this),Ww.LINUX===process.platform?ae(this,re,Kw).call(this):ae(this,re,Qw).call(this)}catch{}return!0});q(this,"install",async()=>{if(!_(this,_r)||typeof _(this,Ee).version!="string"||typeof _(this,Ee).filePath!="string"||_(this,Cr))return!1;V(this,Cr,!0);try{if(typeof _(this,Ee).filePath!="string")throw new Error("Nothing to install");ae(this,re,Zo).call(this),Ww.LINUX===process.platform?await ae(this,re,zw).call(this):ae(this,re,Xw).call(this),ae(this,re,Zo).call(this,!1)}catch(r){ae(this,re,Zo).call(this,!1,"".concat(r.message??r))}return!0});V(this,_r,!0),this._register("updater"),V(this,Vt,Vw.join($x.getPathCache(),"pending"))}async start(){if(!_(this,Ii)&&(V(this,Ii,!0),!!_(this,_r)))try{Jo.existsSync(_(this,Vt))&&Jo.rmSync(_(this,Vt),{recursive:!0,force:!0}),Jo.mkdirSync(_(this,Vt),{recursive:!0})}catch{}}isChecking(){return _(this,vt)}isInstalling(){return _(this,Cr)}},_r=new WeakMap,Ii=new WeakMap,vt=new WeakMap,Cr=new WeakMap,Pi=new WeakMap,Ee=new WeakMap,Vt=new WeakMap,re=new WeakSet,Et=function(){if(typeof this._dos.main?.view.webContents?.send=="function"){let r=["ipc:updater:check",[_(this,Ee)],{type:"req"}];this._dos.main?.view.webContents?.send(Gw.WINDOW_MAIN,r)}},Zo=function(r=!0,n=null){if(r||V(this,Cr,!1),typeof this._dos.main?.view.webContents?.send=="function"){let i=["ipc:updater:install",[{working:r,error:n}],{type:"req"}];this._dos.main?.view.webContents?.send(Gw.WINDOW_MAIN,i)}},Kw=async function(){try{let r=await(await fetch("https://api.github.com/repos/oglama/dos/releases/latest")).json(),n=(Array.isArray(r?.assets)?r.assets:[]).find(s=>typeof s?.name=="string"&&s.name.endsWith(".deb")&&typeof s.browser_download_url=="string");if(!n)throw new Error("No assets released");let i=n.browser_download_url.replace(/^.*?\-(\d+\.\d+\.\d+)\.deb$/,"$1");if(!Bx(i,Vu.getVersion()))throw new Error("No update available");_(this,Ee).version=i,ae(this,re,Et).call(this),_(this,Ee).filePath=await ae(this,re,Jw).call(this,n.browser_download_url,n.name)}catch{}ae(this,re,Et).call(this),V(this,vt,!1)},Qw=async function(){_(this,Pi)||(V(this,Pi,!0),yn.on("update-not-available",r=>{ae(this,re,Et).call(this),V(this,vt,!1)}),yn.on("update-available",r=>{_(this,Ee).version=r?.version??null,ae(this,re,Et).call(this)}),yn.on("download-progress",r=>{_(this,Ee).progress=parseInt(r.percent,10),ae(this,re,Et).call(this)}),yn.on("update-downloaded",r=>{_(this,Ee).filePath=r.downloadedFile,_(this,Ee).progress=100,ae(this,re,Et).call(this),V(this,vt,!1)})),yn.checkForUpdates()},zw=async function(){return new Promise((r,n)=>{let i='"'.concat(_(this,Ee).filePath.replace(/(["\\$`])/g,"\\$1"),'"');Ux.exec("dpkg -i ".concat(i),{name:"Draw on Screen"},s=>{if(s){n(s);return}r(),setTimeout(()=>Vu.relaunch(),Vu.quit(),250)})})},Xw=function(){yn.quitAndInstall()},Jw=async function(r,n){let i=Vw.join(_(this,Vt),n);return Jo.existsSync(i)?(_(this,Ee).progress=100,i):new Promise((s,o)=>{let a=(l,c)=>{c.setSavePath(i),c.on("updated",(f,u)=>{u==="progressing"&&(_(this,Ee).progress=Math.floor(c.getReceivedBytes()/c.getTotalBytes()*100),ae(this,re,Et).call(this))}),c.once("done",(f,u)=>{if(Hw.defaultSession.removeListener("will-download",a),u==="completed"){s(c.getSavePath());return}o(new Error("Download failed: ".concat(u)))})};Hw.defaultSession.once("will-download",a),this._dos.main?.view.webContents.downloadURL(r)})},Yw)});var G=y(ve=>{"use strict";var Gu=Symbol.for("yaml.alias"),tE=Symbol.for("yaml.document"),ea=Symbol.for("yaml.map"),rE=Symbol.for("yaml.pair"),Wu=Symbol.for("yaml.scalar"),ta=Symbol.for("yaml.seq"),bt=Symbol.for("yaml.node.type"),jx=e=>!!e&&typeof e=="object"&&e[bt]===Gu,Hx=e=>!!e&&typeof e=="object"&&e[bt]===tE,Vx=e=>!!e&&typeof e=="object"&&e[bt]===ea,Gx=e=>!!e&&typeof e=="object"&&e[bt]===rE,nE=e=>!!e&&typeof e=="object"&&e[bt]===Wu,Wx=e=>!!e&&typeof e=="object"&&e[bt]===ta;function iE(e){if(e&&typeof e=="object")switch(e[bt]){case ea:case ta:return!0}return!1}function Yx(e){if(e&&typeof e=="object")switch(e[bt]){case Gu:case ea:case Wu:case ta:return!0}return!1}var Kx=e=>(nE(e)||iE(e))&&!!e.anchor;ve.ALIAS=Gu;ve.DOC=tE;ve.MAP=ea;ve.NODE_TYPE=bt;ve.PAIR=rE;ve.SCALAR=Wu;ve.SEQ=ta;ve.hasAnchor=Kx;ve.isAlias=jx;ve.isCollection=iE;ve.isDocument=Hx;ve.isMap=Vx;ve.isNode=Yx;ve.isPair=Gx;ve.isScalar=nE;ve.isSeq=Wx});var Di=y(Yu=>{"use strict";var de=G(),je=Symbol("break visit"),sE=Symbol("skip children"),ut=Symbol("remove node");function ra(e,t){let r=oE(t);de.isDocument(e)?An(null,e.contents,r,Object.freeze([e]))===ut&&(e.contents=null):An(null,e,r,Object.freeze([]))}ra.BREAK=je;ra.SKIP=sE;ra.REMOVE=ut;function An(e,t,r,n){let i=aE(e,t,r,n);if(de.isNode(i)||de.isPair(i))return lE(e,n,i),An(e,i,r,n);if(typeof i!="symbol"){if(de.isCollection(t)){n=Object.freeze(n.concat(t));for(let s=0;s<t.items.length;++s){let o=An(s,t.items[s],r,n);if(typeof o=="number")s=o-1;else{if(o===je)return je;o===ut&&(t.items.splice(s,1),s-=1)}}}else if(de.isPair(t)){n=Object.freeze(n.concat(t));let s=An("key",t.key,r,n);if(s===je)return je;s===ut&&(t.key=null);let o=An("value",t.value,r,n);if(o===je)return je;o===ut&&(t.value=null)}}return i}async function na(e,t){let r=oE(t);de.isDocument(e)?await wn(null,e.contents,r,Object.freeze([e]))===ut&&(e.contents=null):await wn(null,e,r,Object.freeze([]))}na.BREAK=je;na.SKIP=sE;na.REMOVE=ut;async function wn(e,t,r,n){let i=await aE(e,t,r,n);if(de.isNode(i)||de.isPair(i))return lE(e,n,i),wn(e,i,r,n);if(typeof i!="symbol"){if(de.isCollection(t)){n=Object.freeze(n.concat(t));for(let s=0;s<t.items.length;++s){let o=await wn(s,t.items[s],r,n);if(typeof o=="number")s=o-1;else{if(o===je)return je;o===ut&&(t.items.splice(s,1),s-=1)}}}else if(de.isPair(t)){n=Object.freeze(n.concat(t));let s=await wn("key",t.key,r,n);if(s===je)return je;s===ut&&(t.key=null);let o=await wn("value",t.value,r,n);if(o===je)return je;o===ut&&(t.value=null)}}return i}function oE(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function aE(e,t,r,n){if(typeof r=="function")return r(e,t,n);if(de.isMap(t))return r.Map?.(e,t,n);if(de.isSeq(t))return r.Seq?.(e,t,n);if(de.isPair(t))return r.Pair?.(e,t,n);if(de.isScalar(t))return r.Scalar?.(e,t,n);if(de.isAlias(t))return r.Alias?.(e,t,n)}function lE(e,t,r){let n=t[t.length-1];if(de.isCollection(n))n.items[e]=r;else if(de.isPair(n))e==="key"?n.key=r:n.value=r;else if(de.isDocument(n))n.contents=r;else{let i=de.isAlias(n)?"alias":"scalar";throw new Error("Cannot replace node with ".concat(i," parent"))}}Yu.visit=ra;Yu.visitAsync=na});var Ku=y(uE=>{"use strict";var cE=G(),Qx=Di(),zx={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Xx=e=>e.replace(/[!,[\]{}]/g,t=>zx[t]),qi=class e{constructor(t,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},e.defaultYaml,t),this.tags=Object.assign({},e.defaultTags,r)}clone(){let t=new e(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){let t=new e(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:e.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},e.defaultTags);break}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:e.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},e.defaultTags),this.atNextDocument=!1);let n=t.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[s,o]=n;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;let[s]=n;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{let o=/^\d+\.\d+$/.test(s);return r(6,"Unsupported YAML version ".concat(s),o),!1}}default:return r(0,"Unknown directive ".concat(i),!0),!1}}tagName(t,r){if(t==="!")return"!";if(t[0]!=="!")return r("Not a valid tag: ".concat(t)),null;if(t[1]==="<"){let o=t.slice(2,-1);return o==="!"||o==="!!"?(r("Verbatim tags aren't resolved, so ".concat(t," is invalid.")),null):(t[t.length-1]!==">"&&r("Verbatim tags must end with a >"),o)}let[,n,i]=t.match(/^(.*!)([^!]*)$/s);i||r("The ".concat(t," tag has no suffix"));let s=this.tags[n];if(s)try{return s+decodeURIComponent(i)}catch(o){return r(String(o)),null}return n==="!"?t:(r("Could not resolve tag: ".concat(t)),null)}tagString(t){for(let[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+Xx(t.substring(n.length));return t[0]==="!"?t:"!<".concat(t,">")}toString(t){let r=this.yaml.explicit?["%YAML ".concat(this.yaml.version||"1.2")]:[],n=Object.entries(this.tags),i;if(t&&n.length>0&&cE.isNode(t.contents)){let s={};Qx.visit(t.contents,(o,a)=>{cE.isNode(a)&&a.tag&&(s[a.tag]=!0)}),i=Object.keys(s)}else i=[];for(let[s,o]of n)s==="!!"&&o==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(o)))&&r.push("%TAG ".concat(s," ").concat(o));return r.join("\n")}};qi.defaultYaml={explicit:!1,version:"1.2"};qi.defaultTags={"!!":"tag:yaml.org,2002:"};uE.Directives=qi});var ia=y(Li=>{"use strict";var fE=G(),Jx=Di();function Zx(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){let t=JSON.stringify(e),r="Anchor must not contain whitespace or control characters: ".concat(t);throw new Error(r)}return!0}function hE(e){let t=new Set;return Jx.visit(e,{Value(r,n){n.anchor&&t.add(n.anchor)}}),t}function dE(e,t){for(let r=1;;++r){let n="".concat(e).concat(r);if(!t.has(n))return n}}function eR(e,t){let r=[],n=new Map,i=null;return{onAnchor:s=>{r.push(s),i??(i=hE(e));let o=dE(t,i);return i.add(o),o},setAnchors:()=>{for(let s of r){let o=n.get(s);if(typeof o=="object"&&o.anchor&&(fE.isScalar(o.node)||fE.isCollection(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:n}}Li.anchorIsValid=Zx;Li.anchorNames=hE;Li.createNodeAnchors=eR;Li.findNewAnchor=dE});var Qu=y(pE=>{"use strict";function xi(e,t,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,s=n.length;i<s;++i){let o=n[i],a=xi(e,n,String(i),o);a===void 0?delete n[i]:a!==o&&(n[i]=a)}else if(n instanceof Map)for(let i of Array.from(n.keys())){let s=n.get(i),o=xi(e,n,i,s);o===void 0?n.delete(i):o!==s&&n.set(i,o)}else if(n instanceof Set)for(let i of Array.from(n)){let s=xi(e,n,i,i);s===void 0?n.delete(i):s!==i&&(n.delete(i),n.add(s))}else for(let[i,s]of Object.entries(n)){let o=xi(e,n,i,s);o===void 0?delete n[i]:o!==s&&(n[i]=o)}return e.call(t,r,n)}pE.applyReviver=xi});var Gt=y(gE=>{"use strict";var tR=G();function mE(e,t,r){if(Array.isArray(e))return e.map((n,i)=>mE(n,String(i),r));if(e&&typeof e.toJSON=="function"){if(!r||!tR.hasAnchor(e))return e.toJSON(t,r);let n={aliasCount:0,count:1,res:void 0};r.anchors.set(e,n),r.onCreate=s=>{n.res=s,delete r.onCreate};let i=e.toJSON(t,r);return r.onCreate&&r.onCreate(i),i}return typeof e=="bigint"&&!r?.keep?Number(e):e}gE.toJS=mE});var sa=y(AE=>{"use strict";var rR=Qu(),yE=G(),nR=Gt(),zu=class{constructor(t){Object.defineProperty(this,yE.NODE_TYPE,{value:t})}clone(){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:r,maxAliasCount:n,onAnchor:i,reviver:s}={}){if(!yE.isDocument(t))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:t,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},a=nR.toJS(this,"",o);if(typeof i=="function")for(let{count:l,res:c}of o.anchors.values())i(c,l);return typeof s=="function"?rR.applyReviver(s,{"":a},"",a):a}};AE.NodeBase=zu});var Ri=y(wE=>{"use strict";var iR=ia(),sR=Di(),En=G(),oR=sa(),aR=Gt(),Xu=class extends oR.NodeBase{constructor(t){super(En.ALIAS),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t,r){let n;r?.aliasResolveCache?n=r.aliasResolveCache:(n=[],sR.visit(t,{Node:(s,o)=>{(En.isAlias(o)||En.hasAnchor(o))&&n.push(o)}}),r&&(r.aliasResolveCache=n));let i;for(let s of n){if(s===this)break;s.anchor===this.source&&(i=s)}return i}toJSON(t,r){if(!r)return{source:this.source};let{anchors:n,doc:i,maxAliasCount:s}=r,o=this.resolve(i,r);if(!o){let l="Unresolved alias (the anchor must be set before the alias): ".concat(this.source);throw new ReferenceError(l)}let a=n.get(o);if(a||(aR.toJS(o,null,r),a=n.get(o)),!a||a.res===void 0){let l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=oa(i,o,n)),a.count*a.aliasCount>s)){let l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(t,r,n){let i="*".concat(this.source);if(t){if(iR.anchorIsValid(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){let s="Unresolved alias (the anchor must be set before the alias): ".concat(this.source);throw new Error(s)}if(t.implicitKey)return"".concat(i," ")}return i}};function oa(e,t,r){if(En.isAlias(t)){let n=t.resolve(e),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(En.isCollection(t)){let n=0;for(let i of t.items){let s=oa(e,i,r);s>n&&(n=s)}return n}else if(En.isPair(t)){let n=oa(e,t.key,r),i=oa(e,t.value,r);return Math.max(n,i)}return 1}wE.Alias=Xu});var ue=y(Ju=>{"use strict";var lR=G(),cR=sa(),uR=Gt(),fR=e=>!e||typeof e!="function"&&typeof e!="object",Wt=class extends cR.NodeBase{constructor(t){super(lR.SCALAR),this.value=t}toJSON(t,r){return r?.keep?this.value:uR.toJS(this.value,t,r)}toString(){return String(this.value)}};Wt.BLOCK_FOLDED="BLOCK_FOLDED";Wt.BLOCK_LITERAL="BLOCK_LITERAL";Wt.PLAIN="PLAIN";Wt.QUOTE_DOUBLE="QUOTE_DOUBLE";Wt.QUOTE_SINGLE="QUOTE_SINGLE";Ju.Scalar=Wt;Ju.isScalarValue=fR});var ki=y(vE=>{"use strict";var hR=Ri(),Tr=G(),EE=ue(),dR="tag:yaml.org,2002:";function pR(e,t,r){if(t){let n=r.filter(s=>s.tag===t),i=n.find(s=>!s.format)??n[0];if(!i)throw new Error("Tag ".concat(t," not found"));return i}return r.find(n=>n.identify?.(e)&&!n.format)}function mR(e,t,r){if(Tr.isDocument(e)&&(e=e.contents),Tr.isNode(e))return e;if(Tr.isPair(e)){let u=r.schema[Tr.MAP].createNode?.(r.schema,null,r);return u.items.push(e),u}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());let{aliasDuplicateObjects:n,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=r,l;if(n&&e&&typeof e=="object"){if(l=a.get(e),l)return l.anchor??(l.anchor=i(e)),new hR.Alias(l.anchor);l={anchor:null,node:null},a.set(e,l)}t?.startsWith("!!")&&(t=dR+t.slice(2));let c=pR(e,t,o.tags);if(!c){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){let u=new EE.Scalar(e);return l&&(l.node=u),u}c=e instanceof Map?o[Tr.MAP]:Symbol.iterator in Object(e)?o[Tr.SEQ]:o[Tr.MAP]}s&&(s(c),delete r.onTagObj);let f=c?.createNode?c.createNode(r.schema,e,r):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(r.schema,e,r):new EE.Scalar(e);return t?f.tag=t:c.default||(f.tag=c.tag),l&&(l.node=f),f}vE.createNode=mR});var la=y(aa=>{"use strict";var gR=ki(),ft=G(),yR=sa();function Zu(e,t,r){let n=r;for(let i=t.length-1;i>=0;--i){let s=t[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){let o=[];o[s]=n,n=o}else n=new Map([[s,n]])}return gR.createNode(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}var bE=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done,ef=class extends yR.NodeBase{constructor(t,r){super(t),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){let r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(n=>ft.isNode(n)||ft.isPair(n)?n.clone(t):n),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(bE(t))this.add(r);else{let[n,...i]=t,s=this.get(n,!0);if(ft.isCollection(s))s.addIn(i,r);else if(s===void 0&&this.schema)this.set(n,Zu(this.schema,i,r));else throw new Error("Expected YAML collection at ".concat(n,". Remaining path: ").concat(i))}}deleteIn(t){let[r,...n]=t;if(n.length===0)return this.delete(r);let i=this.get(r,!0);if(ft.isCollection(i))return i.deleteIn(n);throw new Error("Expected YAML collection at ".concat(r,". Remaining path: ").concat(n))}getIn(t,r){let[n,...i]=t,s=this.get(n,!0);return i.length===0?!r&&ft.isScalar(s)?s.value:s:ft.isCollection(s)?s.getIn(i,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!ft.isPair(r))return!1;let n=r.value;return n==null||t&&ft.isScalar(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){let[r,...n]=t;if(n.length===0)return this.has(r);let i=this.get(r,!0);return ft.isCollection(i)?i.hasIn(n):!1}setIn(t,r){let[n,...i]=t;if(i.length===0)this.set(n,r);else{let s=this.get(n,!0);if(ft.isCollection(s))s.setIn(i,r);else if(s===void 0&&this.schema)this.set(n,Zu(this.schema,i,r));else throw new Error("Expected YAML collection at ".concat(n,". Remaining path: ").concat(i))}}};aa.Collection=ef;aa.collectionFromPath=Zu;aa.isEmptyPath=bE});var Fi=y(ca=>{"use strict";var AR=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function tf(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}var wR=(e,t,r)=>e.endsWith("\n")?tf(r,t):r.includes("\n")?"\n"+tf(r,t):(e.endsWith(" ")?"":" ")+r;ca.indentComment=tf;ca.lineComment=wR;ca.stringifyComment=AR});var _E=y(Ui=>{"use strict";var ER="flow",rf="block",ua="quoted";function vR(e,t,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return e;i<s&&(s=0);let l=Math.max(1+s,1+i-t.length);if(e.length<=l)return e;let c=[],f={},u=i-t.length;typeof n=="number"&&(n>i-Math.max(2,s)?c.push(0):u=i-n);let h,p,w=!1,g=-1,E=-1,S=-1;r===rf&&(g=SE(e,g,t.length),g!==-1&&(u=g+l));for(let T;T=e[g+=1];){if(r===ua&&T==="\\"){switch(E=g,e[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}S=g}if(T==="\n")r===rf&&(g=SE(e,g,t.length)),u=g+t.length+l,h=void 0;else{if(T===" "&&p&&p!==" "&&p!=="\n"&&p!=="	"){let N=e[g+1];N&&N!==" "&&N!=="\n"&&N!=="	"&&(h=g)}if(g>=u)if(h)c.push(h),u=h+l,h=void 0;else if(r===ua){for(;p===" "||p==="	";)p=T,T=e[g+=1],w=!0;let N=g>S+1?g-2:E-1;if(f[N])return e;c.push(N),f[N]=!0,u=N+l,h=void 0}else w=!0}p=T}if(w&&a&&a(),c.length===0)return e;o&&o();let b=e.slice(0,c[0]);for(let T=0;T<c.length;++T){let N=c[T],R=c[T+1]||e.length;N===0?b="\n".concat(t).concat(e.slice(0,R)):(r===ua&&f[N]&&(b+="".concat(e[N],"\\")),b+="\n".concat(t).concat(e.slice(N+1,R)))}return b}function SE(e,t,r){let n=t,i=t+1,s=e[i];for(;s===" "||s==="	";)if(t<i+r)s=e[++t];else{do s=e[++t];while(s&&s!=="\n");n=t,i=t+1,s=e[i]}return n}Ui.FOLD_BLOCK=rf;Ui.FOLD_FLOW=ER;Ui.FOLD_QUOTED=ua;Ui.foldFlowLines=vR});var $i=y(CE=>{"use strict";var it=ue(),Yt=_E(),ha=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),da=e=>/^(%|---|\.\.\.)/m.test(e);function bR(e,t,r){if(!t||t<0)return!1;let n=t-r,i=e.length;if(i<=n)return!1;for(let s=0,o=0;s<i;++s)if(e[s]==="\n"){if(s-o>n)return!0;if(o=s+1,i-o<=n)return!1}return!0}function Mi(e,t){let r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;let{implicitKey:n}=t,i=t.options.doubleQuotedMinMultiLineLength,s=t.indent||(da(e)?"  ":""),o="",a=0;for(let l=0,c=r[l];c;c=r[++l])if(c===" "&&r[l+1]==="\\"&&r[l+2]==="n"&&(o+=r.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(r[l+1]){case"u":{o+=r.slice(a,l);let f=r.substr(l+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=r.substr(l,6)}l+=5,a=l+1}break;case"n":if(n||r[l+2]==='"'||r.length<i)l+=1;else{for(o+=r.slice(a,l)+"\n\n";r[l+2]==="\\"&&r[l+3]==="n"&&r[l+4]!=='"';)o+="\n",l+=2;o+=s,r[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+r.slice(a):r,n?o:Yt.foldFlowLines(o,s,Yt.FOLD_QUOTED,ha(t,!1))}function nf(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return Mi(e,t);let r=t.indent||(da(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,"$&\n".concat(r))+"'";return t.implicitKey?n:Yt.foldFlowLines(n,r,Yt.FOLD_FLOW,ha(t,!1))}function vn(e,t){let{singleQuote:r}=t.options,n;if(r===!1)n=Mi;else{let i=e.includes('"'),s=e.includes("'");i&&!s?n=nf:s&&!i?n=Mi:n=r?nf:Mi}return n(e,t)}var sf;try{sf=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{sf=/\n+(?!\n|$)/g}function fa({comment:e,type:t,value:r},n,i,s){let{blockQuote:o,commentString:a,lineWidth:l}=n.options;if(!o||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return vn(r,n);let c=n.indent||(n.forceBlockIndent||da(r)?"  ":""),f=o==="literal"?!0:o==="folded"||t===it.Scalar.BLOCK_FOLDED?!1:t===it.Scalar.BLOCK_LITERAL?!0:!bR(r,l,c.length);if(!r)return f?"|\n":">\n";let u,h;for(h=r.length;h>0;--h){let R=r[h-1];if(R!=="\n"&&R!=="	"&&R!==" ")break}let p=r.substring(h),w=p.indexOf("\n");w===-1?u="-":r===p||w!==p.length-1?(u="+",s&&s()):u="",p&&(r=r.slice(0,-p.length),p[p.length-1]==="\n"&&(p=p.slice(0,-1)),p=p.replace(sf,"$&".concat(c)));let g=!1,E,S=-1;for(E=0;E<r.length;++E){let R=r[E];if(R===" ")g=!0;else if(R==="\n")S=E;else break}let b=r.substring(0,S<E?S+1:E);b&&(r=r.substring(b.length),b=b.replace(/\n+/g,"$&".concat(c)));let N=(g?c?"2":"1":"")+u;if(e&&(N+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),!f){let R=r.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&".concat(c)),I=!1,M=ha(n,!0);o!=="folded"&&t!==it.Scalar.BLOCK_FOLDED&&(M.onOverflow=()=>{I=!0});let A=Yt.foldFlowLines("".concat(b).concat(R).concat(p),c,Yt.FOLD_BLOCK,M);if(!I)return">".concat(N,"\n").concat(c).concat(A)}return r=r.replace(/\n+/g,"$&".concat(c)),"|".concat(N,"\n").concat(c).concat(b).concat(r).concat(p)}function SR(e,t,r,n){let{type:i,value:s}=e,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:f}=t;if(a&&s.includes("\n")||f&&/[[\]{},]/.test(s))return vn(s,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||f||!s.includes("\n")?vn(s,t):fa(e,t,r,n);if(!a&&!f&&i!==it.Scalar.PLAIN&&s.includes("\n"))return fa(e,t,r,n);if(da(s)){if(l==="")return t.forceBlockIndent=!0,fa(e,t,r,n);if(a&&l===c)return vn(s,t)}let u=s.replace(/\n+/g,"$&\n".concat(l));if(o){let h=g=>g.default&&g.tag!=="tag:yaml.org,2002:str"&&g.test?.test(u),{compat:p,tags:w}=t.doc.schema;if(w.some(h)||p?.some(h))return vn(s,t)}return a?u:Yt.foldFlowLines(u,l,Yt.FOLD_FLOW,ha(t,!1))}function _R(e,t,r,n){let{implicitKey:i,inFlow:s}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)}),{type:a}=e;a!==it.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=it.Scalar.QUOTE_DOUBLE);let l=f=>{switch(f){case it.Scalar.BLOCK_FOLDED:case it.Scalar.BLOCK_LITERAL:return i||s?vn(o.value,t):fa(o,t,r,n);case it.Scalar.QUOTE_DOUBLE:return Mi(o.value,t);case it.Scalar.QUOTE_SINGLE:return nf(o.value,t);case it.Scalar.PLAIN:return SR(o,t,r,n);default:return null}},c=l(a);if(c===null){let{defaultKeyType:f,defaultStringType:u}=t.options,h=i&&f||u;if(c=l(h),c===null)throw new Error("Unsupported default string type ".concat(h))}return c}CE.stringifyString=_R});var Bi=y(of=>{"use strict";var CR=ia(),Kt=G(),TR=Fi(),NR=$i();function OR(e,t){let r=Object.assign({blockQuote:!0,commentString:TR.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t),n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function IR(e,t){if(t.tag){let i=e.filter(s=>s.tag===t.tag);if(i.length>0)return i.find(s=>s.format===t.format)??i[0]}let r,n;if(Kt.isScalar(t)){n=t.value;let i=e.filter(s=>s.identify?.(n));if(i.length>1){let s=i.filter(o=>o.test);s.length>0&&(i=s)}r=i.find(s=>s.format===t.format)??i.find(s=>!s.format)}else n=t,r=e.find(i=>i.nodeClass&&n instanceof i.nodeClass);if(!r){let i=n?.constructor?.name??(n===null?"null":typeof n);throw new Error("Tag not resolved for ".concat(i," value"))}return r}function PR(e,t,{anchors:r,doc:n}){if(!n.directives)return"";let i=[],s=(Kt.isScalar(e)||Kt.isCollection(e))&&e.anchor;s&&CR.anchorIsValid(s)&&(r.add(s),i.push("&".concat(s)));let o=e.tag??(t.default?null:t.tag);return o&&i.push(n.directives.tagString(o)),i.join(" ")}function DR(e,t,r,n){if(Kt.isPair(e))return e.toString(t,r,n);if(Kt.isAlias(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i,s=Kt.isNode(e)?e:t.doc.createNode(e,{onTagObj:l=>i=l});i??(i=IR(t.doc.schema.tags,s));let o=PR(s,i,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);let a=typeof i.stringify=="function"?i.stringify(s,t,r,n):Kt.isScalar(s)?NR.stringifyString(s,t,r,n):s.toString(t,r,n);return o?Kt.isScalar(s)||a[0]==="{"||a[0]==="["?"".concat(o," ").concat(a):"".concat(o,"\n").concat(t.indent).concat(a):a}of.createStringifyContext=OR;of.stringify=DR});var IE=y(OE=>{"use strict";var St=G(),TE=ue(),NE=Bi(),ji=Fi();function qR({key:e,value:t},r,n,i){let{allNullValues:s,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:f,simpleKeys:u}}=r,h=St.isNode(e)&&e.comment||null;if(u){if(h)throw new Error("With simple keys, key nodes cannot have comments");if(St.isCollection(e)||!St.isNode(e)&&typeof e=="object"){let M="With simple keys, collection cannot be used as a key value";throw new Error(M)}}let p=!u&&(!e||h&&t==null&&!r.inFlow||St.isCollection(e)||(St.isScalar(e)?e.type===TE.Scalar.BLOCK_FOLDED||e.type===TE.Scalar.BLOCK_LITERAL:typeof e=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!p&&(u||!s),indent:a+l});let w=!1,g=!1,E=NE.stringify(e,r,()=>w=!0,()=>g=!0);if(!p&&!r.inFlow&&E.length>1024){if(u)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(r.inFlow){if(s||t==null)return w&&n&&n(),E===""?"?":p?"? ".concat(E):E}else if(s&&!u||t==null&&p)return E="? ".concat(E),h&&!w?E+=ji.lineComment(E,r.indent,c(h)):g&&i&&i(),E;w&&(h=null),p?(h&&(E+=ji.lineComment(E,r.indent,c(h))),E="? ".concat(E,"\n").concat(a,":")):(E="".concat(E,":"),h&&(E+=ji.lineComment(E,r.indent,c(h))));let S,b,T;St.isNode(t)?(S=!!t.spaceBefore,b=t.commentBefore,T=t.comment):(S=!1,b=null,T=null,t&&typeof t=="object"&&(t=o.createNode(t))),r.implicitKey=!1,!p&&!h&&St.isScalar(t)&&(r.indentAtStart=E.length+1),g=!1,!f&&l.length>=2&&!r.inFlow&&!p&&St.isSeq(t)&&!t.flow&&!t.tag&&!t.anchor&&(r.indent=r.indent.substring(2));let N=!1,R=NE.stringify(t,r,()=>N=!0,()=>g=!0),I=" ";if(h||S||b){if(I=S?"\n":"",b){let M=c(b);I+="\n".concat(ji.indentComment(M,r.indent))}R===""&&!r.inFlow?I==="\n"&&(I="\n\n"):I+="\n".concat(r.indent)}else if(!p&&St.isCollection(t)){let M=R[0],A=R.indexOf("\n"),O=A!==-1,$=r.inFlow??t.flow??t.items.length===0;if(O||!$){let x=!1;if(O&&(M==="&"||M==="!")){let B=R.indexOf(" ");M==="&"&&B!==-1&&B<A&&R[B+1]==="!"&&(B=R.indexOf(" ",B+1)),(B===-1||A<B)&&(x=!0)}x||(I="\n".concat(r.indent))}}else(R===""||R[0]==="\n")&&(I="");return E+=I+R,r.inFlow?N&&n&&n():T&&!N?E+=ji.lineComment(E,r.indent,c(T)):g&&i&&i(),E}OE.stringifyPair=qR});var lf=y(af=>{"use strict";var PE=require("process");function LR(e,...t){e==="debug"&&console.log(...t)}function xR(e,t){(e==="debug"||e==="warn")&&(typeof PE.emitWarning=="function"?PE.emitWarning(t):console.warn(t))}af.debug=LR;af.warn=xR});var ya=y(ga=>{"use strict";var Hi=G(),DE=ue(),pa="<<",ma={identify:e=>e===pa||typeof e=="symbol"&&e.description===pa,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new DE.Scalar(Symbol(pa)),{addToJSMap:qE}),stringify:()=>pa},RR=(e,t)=>(ma.identify(t)||Hi.isScalar(t)&&(!t.type||t.type===DE.Scalar.PLAIN)&&ma.identify(t.value))&&e?.doc.schema.tags.some(r=>r.tag===ma.tag&&r.default);function qE(e,t,r){if(r=e&&Hi.isAlias(r)?r.resolve(e.doc):r,Hi.isSeq(r))for(let n of r.items)cf(e,t,n);else if(Array.isArray(r))for(let n of r)cf(e,t,n);else cf(e,t,r)}function cf(e,t,r){let n=e&&Hi.isAlias(r)?r.resolve(e.doc):r;if(!Hi.isMap(n))throw new Error("Merge sources must be maps or map aliases");let i=n.toJSON(null,e,Map);for(let[s,o]of i)t instanceof Map?t.has(s)||t.set(s,o):t instanceof Set?t.add(s):Object.prototype.hasOwnProperty.call(t,s)||Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}ga.addMergeToJSMap=qE;ga.isMergeKey=RR;ga.merge=ma});var ff=y(RE=>{"use strict";var kR=lf(),LE=ya(),FR=Bi(),xE=G(),uf=Gt();function UR(e,t,{key:r,value:n}){if(xE.isNode(r)&&r.addToJSMap)r.addToJSMap(e,t,n);else if(LE.isMergeKey(e,r))LE.addMergeToJSMap(e,t,n);else{let i=uf.toJS(r,"",e);if(t instanceof Map)t.set(i,uf.toJS(n,i,e));else if(t instanceof Set)t.add(i);else{let s=MR(r,i,e),o=uf.toJS(n,s,e);s in t?Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[s]=o}}return t}function MR(e,t,r){if(t===null)return"";if(typeof t!="object")return String(t);if(xE.isNode(e)&&r?.doc){let n=FR.createStringifyContext(r.doc,{});n.anchors=new Set;for(let s of r.anchors.keys())n.anchors.add(s.anchor);n.inFlow=!0,n.inStringifyKey=!0;let i=e.toString(n);if(!r.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),kR.warn(r.doc.options.logLevel,"Keys with collection values will be stringified due to JS Object restrictions: ".concat(s,". Set mapAsMap: true to use object keys.")),r.mapKeyWarned=!0}return i}return JSON.stringify(t)}RE.addPairToJSMap=UR});var Qt=y(hf=>{"use strict";var kE=ki(),$R=IE(),BR=ff(),Aa=G();function jR(e,t,r){let n=kE.createNode(e,void 0,r),i=kE.createNode(t,void 0,r);return new wa(n,i)}var wa=class e{constructor(t,r=null){Object.defineProperty(this,Aa.NODE_TYPE,{value:Aa.PAIR}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return Aa.isNode(r)&&(r=r.clone(t)),Aa.isNode(n)&&(n=n.clone(t)),new e(r,n)}toJSON(t,r){let n=r?.mapAsMap?new Map:{};return BR.addPairToJSMap(r,n,this)}toString(t,r,n){return t?.doc?$R.stringifyPair(this,t,r,n):JSON.stringify(this)}};hf.Pair=wa;hf.createPair=jR});var df=y(UE=>{"use strict";var Nr=G(),FE=Bi(),Ea=Fi();function HR(e,t,r){return(t.inFlow??e.flow?GR:VR)(e,t,r)}function VR({comment:e,items:t},r,{blockItemPrefix:n,flowChars:i,itemIndent:s,onChompKeep:o,onComment:a}){let{indent:l,options:{commentString:c}}=r,f=Object.assign({},r,{indent:s,type:null}),u=!1,h=[];for(let w=0;w<t.length;++w){let g=t[w],E=null;if(Nr.isNode(g))!u&&g.spaceBefore&&h.push(""),va(r,h,g.commentBefore,u),g.comment&&(E=g.comment);else if(Nr.isPair(g)){let b=Nr.isNode(g.key)?g.key:null;b&&(!u&&b.spaceBefore&&h.push(""),va(r,h,b.commentBefore,u))}u=!1;let S=FE.stringify(g,f,()=>E=null,()=>u=!0);E&&(S+=Ea.lineComment(S,s,c(E))),u&&E&&(u=!1),h.push(n+S)}let p;if(h.length===0)p=i.start+i.end;else{p=h[0];for(let w=1;w<h.length;++w){let g=h[w];p+=g?"\n".concat(l).concat(g):"\n"}}return e?(p+="\n"+Ea.indentComment(c(e),l),a&&a()):u&&o&&o(),p}function GR({items:e},t,{flowChars:r,itemIndent:n}){let{indent:i,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=t;n+=s;let l=Object.assign({},t,{indent:n,inFlow:!0,type:null}),c=!1,f=0,u=[];for(let w=0;w<e.length;++w){let g=e[w],E=null;if(Nr.isNode(g))g.spaceBefore&&u.push(""),va(t,u,g.commentBefore,!1),g.comment&&(E=g.comment);else if(Nr.isPair(g)){let b=Nr.isNode(g.key)?g.key:null;b&&(b.spaceBefore&&u.push(""),va(t,u,b.commentBefore,!1),b.comment&&(c=!0));let T=Nr.isNode(g.value)?g.value:null;T?(T.comment&&(E=T.comment),T.commentBefore&&(c=!0)):g.value==null&&b?.comment&&(E=b.comment)}E&&(c=!0);let S=FE.stringify(g,l,()=>E=null);w<e.length-1&&(S+=","),E&&(S+=Ea.lineComment(S,n,a(E))),!c&&(u.length>f||S.includes("\n"))&&(c=!0),u.push(S),f=u.length}let{start:h,end:p}=r;if(u.length===0)return h+p;if(!c){let w=u.reduce((g,E)=>g+E.length+2,2);c=t.options.lineWidth>0&&w>t.options.lineWidth}if(c){let w=h;for(let g of u)w+=g?"\n".concat(s).concat(i).concat(g):"\n";return"".concat(w,"\n").concat(i).concat(p)}else return"".concat(h).concat(o).concat(u.join(" ")).concat(o).concat(p)}function va({indent:e,options:{commentString:t}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){let s=Ea.indentComment(t(n),e);r.push(s.trimStart())}}UE.stringifyCollection=HR});var Xt=y(mf=>{"use strict";var WR=df(),YR=ff(),KR=la(),zt=G(),ba=Qt(),QR=ue();function Vi(e,t){let r=zt.isScalar(t)?t.value:t;for(let n of e)if(zt.isPair(n)&&(n.key===t||n.key===r||zt.isScalar(n.key)&&n.key.value===r))return n}var pf=class extends KR.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(zt.MAP,t),this.items=[]}static from(t,r,n){let{keepUndefined:i,replacer:s}=n,o=new this(t),a=(l,c)=>{if(typeof s=="function")c=s.call(r,l,c);else if(Array.isArray(s)&&!s.includes(l))return;(c!==void 0||i)&&o.items.push(ba.createPair(l,c,n))};if(r instanceof Map)for(let[l,c]of r)a(l,c);else if(r&&typeof r=="object")for(let l of Object.keys(r))a(l,r[l]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,r){let n;zt.isPair(t)?n=t:!t||typeof t!="object"||!("key"in t)?n=new ba.Pair(t,t?.value):n=new ba.Pair(t.key,t.value);let i=Vi(this.items,n.key),s=this.schema?.sortMapEntries;if(i){if(!r)throw new Error("Key ".concat(n.key," already set"));zt.isScalar(i.value)&&QR.isScalarValue(n.value)?i.value.value=n.value:i.value=n.value}else if(s){let o=this.items.findIndex(a=>s(n,a)<0);o===-1?this.items.push(n):this.items.splice(o,0,n)}else this.items.push(n)}delete(t){let r=Vi(this.items,t);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(t,r){let i=Vi(this.items,t)?.value;return(!r&&zt.isScalar(i)?i.value:i)??void 0}has(t){return!!Vi(this.items,t)}set(t,r){this.add(new ba.Pair(t,r),!0)}toJSON(t,r,n){let i=n?new n:r?.mapAsMap?new Map:{};r?.onCreate&&r.onCreate(i);for(let s of this.items)YR.addPairToJSMap(r,i,s);return i}toString(t,r,n){if(!t)return JSON.stringify(this);for(let i of this.items)if(!zt.isPair(i))throw new Error("Map items must all be pairs; found ".concat(JSON.stringify(i)," instead"));return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),WR.stringifyCollection(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}};mf.YAMLMap=pf;mf.findPair=Vi});var bn=y($E=>{"use strict";var zR=G(),ME=Xt(),XR={collection:"map",default:!0,nodeClass:ME.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(e,t){return zR.isMap(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,r)=>ME.YAMLMap.from(e,t,r)};$E.map=XR});var Jt=y(BE=>{"use strict";var JR=ki(),ZR=df(),ek=la(),_a=G(),tk=ue(),rk=Gt(),gf=class extends ek.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(_a.SEQ,t),this.items=[]}add(t){this.items.push(t)}delete(t){let r=Sa(t);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(t,r){let n=Sa(t);if(typeof n!="number")return;let i=this.items[n];return!r&&_a.isScalar(i)?i.value:i}has(t){let r=Sa(t);return typeof r=="number"&&r<this.items.length}set(t,r){let n=Sa(t);if(typeof n!="number")throw new Error("Expected a valid index, not ".concat(t,"."));let i=this.items[n];_a.isScalar(i)&&tk.isScalarValue(r)?i.value=r:this.items[n]=r}toJSON(t,r){let n=[];r?.onCreate&&r.onCreate(n);let i=0;for(let s of this.items)n.push(rk.toJS(s,String(i++),r));return n}toString(t,r,n){return t?ZR.stringifyCollection(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(t,r,n){let{replacer:i}=n,s=new this(t);if(r&&Symbol.iterator in Object(r)){let o=0;for(let a of r){if(typeof i=="function"){let l=r instanceof Set?a:String(o++);a=i.call(r,l,a)}s.items.push(JR.createNode(a,void 0,n))}}return s}};function Sa(e){let t=_a.isScalar(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}BE.YAMLSeq=gf});var Sn=y(HE=>{"use strict";var nk=G(),jE=Jt(),ik={collection:"seq",default:!0,nodeClass:jE.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(e,t){return nk.isSeq(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,r)=>jE.YAMLSeq.from(e,t,r)};HE.seq=ik});var Gi=y(VE=>{"use strict";var sk=$i(),ok={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,r,n){return t=Object.assign({actualString:!0},t),sk.stringifyString(e,t,r,n)}};VE.string=ok});var Ca=y(YE=>{"use strict";var GE=ue(),WE={identify:e=>e==null,createNode:()=>new GE.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new GE.Scalar(null),stringify:({source:e},t)=>typeof e=="string"&&WE.test.test(e)?e:t.options.nullStr};YE.nullTag=WE});var yf=y(QE=>{"use strict";var ak=ue(),KE={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new ak.Scalar(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},r){if(e&&KE.test.test(e)){let n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?r.options.trueStr:r.options.falseStr}};QE.boolTag=KE});var _n=y(zE=>{"use strict";function lk({format:e,minFractionDigits:t,tag:r,value:n}){if(typeof n=="bigint")return String(n);let i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(n);if(!e&&t&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=t-(s.length-o-1);for(;a-- >0;)s+="0"}return s}zE.stringifyNumber=lk});var wf=y(Ta=>{"use strict";var ck=ue(),Af=_n(),uk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Af.stringifyNumber},fk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():Af.stringifyNumber(e)}},hk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){let t=new ck.Scalar(parseFloat(e)),r=e.indexOf(".");return r!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-r-1),t},stringify:Af.stringifyNumber};Ta.float=hk;Ta.floatExp=fk;Ta.floatNaN=uk});var vf=y(Oa=>{"use strict";var XE=_n(),Na=e=>typeof e=="bigint"||Number.isInteger(e),Ef=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function JE(e,t,r){let{value:n}=e;return Na(n)&&n>=0?r+n.toString(t):XE.stringifyNumber(e)}var dk={identify:e=>Na(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>Ef(e,2,8,r),stringify:e=>JE(e,8,"0o")},pk={identify:Na,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>Ef(e,0,10,r),stringify:XE.stringifyNumber},mk={identify:e=>Na(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>Ef(e,2,16,r),stringify:e=>JE(e,16,"0x")};Oa.int=pk;Oa.intHex=mk;Oa.intOct=dk});var ev=y(ZE=>{"use strict";var gk=bn(),yk=Ca(),Ak=Sn(),wk=Gi(),Ek=yf(),bf=wf(),Sf=vf(),vk=[gk.map,Ak.seq,wk.string,yk.nullTag,Ek.boolTag,Sf.intOct,Sf.int,Sf.intHex,bf.floatNaN,bf.floatExp,bf.float];ZE.schema=vk});var nv=y(rv=>{"use strict";var bk=ue(),Sk=bn(),_k=Sn();function tv(e){return typeof e=="bigint"||Number.isInteger(e)}var Ia=({value:e})=>JSON.stringify(e),Ck=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Ia},{identify:e=>e==null,createNode:()=>new bk.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Ia},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:Ia},{identify:tv,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>tv(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Ia}],Tk={default:!0,tag:"",test:/^/,resolve(e,t){return t("Unresolved plain scalar ".concat(JSON.stringify(e))),e}},Nk=[Sk.map,_k.seq].concat(Ck,Tk);rv.schema=Nk});var Cf=y(iv=>{"use strict";var Wi=require("buffer"),_f=ue(),Ok=$i(),Ik={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Wi.Buffer=="function")return Wi.Buffer.from(e,"base64");if(typeof atob=="function"){let r=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:r},n,i,s){if(!r)return"";let o=r,a;if(typeof Wi.Buffer=="function")a=o instanceof Wi.Buffer?o.toString("base64"):Wi.Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=_f.Scalar.BLOCK_LITERAL),t!==_f.Scalar.QUOTE_DOUBLE){let l=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),c=Math.ceil(a.length/l),f=new Array(c);for(let u=0,h=0;u<c;++u,h+=l)f[u]=a.substr(h,l);a=f.join(t===_f.Scalar.BLOCK_LITERAL?"\n":" ")}return Ok.stringifyString({comment:e,type:t,value:a},n,i,s)}};iv.binary=Ik});var qa=y(Da=>{"use strict";var Pa=G(),Tf=Qt(),Pk=ue(),Dk=Jt();function sv(e,t){if(Pa.isSeq(e))for(let r=0;r<e.items.length;++r){let n=e.items[r];if(!Pa.isPair(n)){if(Pa.isMap(n)){n.items.length>1&&t("Each pair must have its own sequence indicator");let i=n.items[0]||new Tf.Pair(new Pk.Scalar(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?"".concat(n.commentBefore,"\n").concat(i.key.commentBefore):n.commentBefore),n.comment){let s=i.value??i.key;s.comment=s.comment?"".concat(n.comment,"\n").concat(s.comment):n.comment}n=i}e.items[r]=Pa.isPair(n)?n:new Tf.Pair(n)}}else t("Expected a sequence for this tag");return e}function ov(e,t,r){let{replacer:n}=r,i=new Dk.YAMLSeq(e);i.tag="tag:yaml.org,2002:pairs";let s=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof n=="function"&&(o=n.call(t,String(s++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError("Expected [key, value] tuple: ".concat(o));else if(o&&o instanceof Object){let c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError("Expected tuple with one key, not ".concat(c.length," keys"))}else a=o;i.items.push(Tf.createPair(a,l,r))}return i}var qk={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:sv,createNode:ov};Da.createPairs=ov;Da.pairs=qk;Da.resolvePairs=sv});var If=y(Of=>{"use strict";var av=G(),Nf=Gt(),Yi=Xt(),Lk=Jt(),lv=qa(),Or=class e extends Lk.YAMLSeq{constructor(){super(),this.add=Yi.YAMLMap.prototype.add.bind(this),this.delete=Yi.YAMLMap.prototype.delete.bind(this),this.get=Yi.YAMLMap.prototype.get.bind(this),this.has=Yi.YAMLMap.prototype.has.bind(this),this.set=Yi.YAMLMap.prototype.set.bind(this),this.tag=e.tag}toJSON(t,r){if(!r)return super.toJSON(t);let n=new Map;r?.onCreate&&r.onCreate(n);for(let i of this.items){let s,o;if(av.isPair(i)?(s=Nf.toJS(i.key,"",r),o=Nf.toJS(i.value,s,r)):s=Nf.toJS(i,"",r),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,o)}return n}static from(t,r,n){let i=lv.createPairs(t,r,n),s=new this;return s.items=i.items,s}};Or.tag="tag:yaml.org,2002:omap";var xk={collection:"seq",identify:e=>e instanceof Map,nodeClass:Or,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){let r=lv.resolvePairs(e,t),n=[];for(let{key:i}of r.items)av.isScalar(i)&&(n.includes(i.value)?t("Ordered maps must not include duplicate keys: ".concat(i.value)):n.push(i.value));return Object.assign(new Or,r)},createNode:(e,t,r)=>Or.from(e,t,r)};Of.YAMLOMap=Or;Of.omap=xk});var dv=y(Pf=>{"use strict";var cv=ue();function uv({value:e,source:t},r){return t&&(e?fv:hv).test.test(t)?t:e?r.options.trueStr:r.options.falseStr}var fv={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new cv.Scalar(!0),stringify:uv},hv={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new cv.Scalar(!1),stringify:uv};Pf.falseTag=hv;Pf.trueTag=fv});var pv=y(La=>{"use strict";var Rk=ue(),Df=_n(),kk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Df.stringifyNumber},Fk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():Df.stringifyNumber(e)}},Uk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){let t=new Rk.Scalar(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(r!==-1){let n=e.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:Df.stringifyNumber};La.float=Uk;La.floatExp=Fk;La.floatNaN=kk});var gv=y(Qi=>{"use strict";var mv=_n(),Ki=e=>typeof e=="bigint"||Number.isInteger(e);function xa(e,t,r,{intAsBigInt:n}){let i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e="0b".concat(e);break;case 8:e="0o".concat(e);break;case 16:e="0x".concat(e);break}let o=BigInt(e);return i==="-"?BigInt(-1)*o:o}let s=parseInt(e,r);return i==="-"?-1*s:s}function qf(e,t,r){let{value:n}=e;if(Ki(n)){let i=n.toString(t);return n<0?"-"+r+i.substr(1):r+i}return mv.stringifyNumber(e)}var Mk={identify:Ki,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>xa(e,2,2,r),stringify:e=>qf(e,2,"0b")},$k={identify:Ki,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>xa(e,1,8,r),stringify:e=>qf(e,8,"0")},Bk={identify:Ki,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>xa(e,0,10,r),stringify:mv.stringifyNumber},jk={identify:Ki,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>xa(e,2,16,r),stringify:e=>qf(e,16,"0x")};Qi.int=Bk;Qi.intBin=Mk;Qi.intHex=jk;Qi.intOct=$k});var xf=y(Lf=>{"use strict";var Fa=G(),Ra=Qt(),ka=Xt(),Ir=class e extends ka.YAMLMap{constructor(t){super(t),this.tag=e.tag}add(t){let r;Fa.isPair(t)?r=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?r=new Ra.Pair(t.key,null):r=new Ra.Pair(t,null),ka.findPair(this.items,r.key)||this.items.push(r)}get(t,r){let n=ka.findPair(this.items,t);return!r&&Fa.isPair(n)?Fa.isScalar(n.key)?n.key.value:n.key:n}set(t,r){if(typeof r!="boolean")throw new Error("Expected boolean value for set(key, value) in a YAML set, not ".concat(typeof r));let n=ka.findPair(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new Ra.Pair(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}static from(t,r,n){let{replacer:i}=n,s=new this(t);if(r&&Symbol.iterator in Object(r))for(let o of r)typeof i=="function"&&(o=i.call(r,o,o)),s.items.push(Ra.createPair(o,null,n));return s}};Ir.tag="tag:yaml.org,2002:set";var Hk={collection:"map",identify:e=>e instanceof Set,nodeClass:Ir,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,r)=>Ir.from(e,t,r),resolve(e,t){if(Fa.isMap(e)){if(e.hasAllNullValues(!0))return Object.assign(new Ir,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};Lf.YAMLSet=Ir;Lf.set=Hk});var kf=y(Ua=>{"use strict";var Vk=_n();function Rf(e,t){let r=e[0],n=r==="-"||r==="+"?e.substring(1):e,i=o=>t?BigInt(o):Number(o),s=n.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return r==="-"?i(-1)*s:s}function yv(e){let{value:t}=e,r=o=>o;if(typeof t=="bigint")r=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return Vk.stringifyNumber(e);let n="";t<0&&(n="-",t*=r(-1));let i=r(60),s=[t%i];return t<60?s.unshift(0):(t=(t-s[0])/i,s.unshift(t%i),t>=60&&(t=(t-s[0])/i,s.unshift(t))),n+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var Gk={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>Rf(e,r),stringify:yv},Wk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Rf(e,!1),stringify:yv},Av={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){let t=e.match(Av.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,r,n,i,s,o,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0,c=Date.UTC(r,n-1,i,s||0,o||0,a||0,l),f=t[8];if(f&&f!=="Z"){let u=Rf(f,!1);Math.abs(u)<30&&(u*=60),c-=6e4*u}return new Date(c)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};Ua.floatTime=Wk;Ua.intTime=Gk;Ua.timestamp=Av});var vv=y(Ev=>{"use strict";var Yk=bn(),Kk=Ca(),Qk=Sn(),zk=Gi(),Xk=Cf(),wv=dv(),Ff=pv(),Ma=gv(),Jk=ya(),Zk=If(),eF=qa(),tF=xf(),Uf=kf(),rF=[Yk.map,Qk.seq,zk.string,Kk.nullTag,wv.trueTag,wv.falseTag,Ma.intBin,Ma.intOct,Ma.int,Ma.intHex,Ff.floatNaN,Ff.floatExp,Ff.float,Xk.binary,Jk.merge,Zk.omap,eF.pairs,tF.set,Uf.intTime,Uf.floatTime,Uf.timestamp];Ev.schema=rF});var Dv=y(Bf=>{"use strict";var Cv=bn(),nF=Ca(),Tv=Sn(),iF=Gi(),sF=yf(),Mf=wf(),$f=vf(),oF=ev(),aF=nv(),Nv=Cf(),zi=ya(),Ov=If(),Iv=qa(),bv=vv(),Pv=xf(),$a=kf(),Sv=new Map([["core",oF.schema],["failsafe",[Cv.map,Tv.seq,iF.string]],["json",aF.schema],["yaml11",bv.schema],["yaml-1.1",bv.schema]]),_v={binary:Nv.binary,bool:sF.boolTag,float:Mf.float,floatExp:Mf.floatExp,floatNaN:Mf.floatNaN,floatTime:$a.floatTime,int:$f.int,intHex:$f.intHex,intOct:$f.intOct,intTime:$a.intTime,map:Cv.map,merge:zi.merge,null:nF.nullTag,omap:Ov.omap,pairs:Iv.pairs,seq:Tv.seq,set:Pv.set,timestamp:$a.timestamp},lF={"tag:yaml.org,2002:binary":Nv.binary,"tag:yaml.org,2002:merge":zi.merge,"tag:yaml.org,2002:omap":Ov.omap,"tag:yaml.org,2002:pairs":Iv.pairs,"tag:yaml.org,2002:set":Pv.set,"tag:yaml.org,2002:timestamp":$a.timestamp};function cF(e,t,r){let n=Sv.get(t);if(n&&!e)return r&&!n.includes(zi.merge)?n.concat(zi.merge):n.slice();let i=n;if(!i)if(Array.isArray(e))i=[];else{let s=Array.from(Sv.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error('Unknown schema "'.concat(t,'"; use one of ').concat(s," or define customTags array"))}if(Array.isArray(e))for(let s of e)i=i.concat(s);else typeof e=="function"&&(i=e(i.slice()));return r&&(i=i.concat(zi.merge)),i.reduce((s,o)=>{let a=typeof o=="string"?_v[o]:o;if(!a){let l=JSON.stringify(o),c=Object.keys(_v).map(f=>JSON.stringify(f)).join(", ");throw new Error("Unknown custom tag ".concat(l,"; use one of ").concat(c))}return s.includes(a)||s.push(a),s},[])}Bf.coreKnownTags=lF;Bf.getTags=cF});var Vf=y(qv=>{"use strict";var jf=G(),uF=bn(),fF=Sn(),hF=Gi(),Ba=Dv(),dF=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0,Hf=class e{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(t)?Ba.getTags(t,"compat"):t?Ba.getTags(null,t):null,this.name=typeof s=="string"&&s||"core",this.knownTags=i?Ba.coreKnownTags:{},this.tags=Ba.getTags(r,this.name,n),this.toStringOptions=a??null,Object.defineProperty(this,jf.MAP,{value:uF.map}),Object.defineProperty(this,jf.SCALAR,{value:hF.string}),Object.defineProperty(this,jf.SEQ,{value:fF.seq}),this.sortMapEntries=typeof o=="function"?o:o===!0?dF:null}clone(){let t=Object.create(e.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}};qv.Schema=Hf});var xv=y(Lv=>{"use strict";var pF=G(),Gf=Bi(),Xi=Fi();function mF(e,t){let r=[],n=t.directives===!0;if(t.directives!==!1&&e.directives){let l=e.directives.toString(e);l?(r.push(l),n=!0):e.directives.docStart&&(n=!0)}n&&r.push("---");let i=Gf.createStringifyContext(e,t),{commentString:s}=i.options;if(e.commentBefore){r.length!==1&&r.unshift("");let l=s(e.commentBefore);r.unshift(Xi.indentComment(l,""))}let o=!1,a=null;if(e.contents){if(pF.isNode(e.contents)){if(e.contents.spaceBefore&&n&&r.push(""),e.contents.commentBefore){let f=s(e.contents.commentBefore);r.push(Xi.indentComment(f,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}let l=a?void 0:()=>o=!0,c=Gf.stringify(e.contents,i,()=>a=null,l);a&&(c+=Xi.lineComment(c,"",s(a))),(c[0]==="|"||c[0]===">")&&r[r.length-1]==="---"?r[r.length-1]="--- ".concat(c):r.push(c)}else r.push(Gf.stringify(e.contents,i));if(e.directives?.docEnd)if(e.comment){let l=s(e.comment);l.includes("\n")?(r.push("..."),r.push(Xi.indentComment(l,""))):r.push("... ".concat(l))}else r.push("...");else{let l=e.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&r[r.length-1]!==""&&r.push(""),r.push(Xi.indentComment(s(l),"")))}return r.join("\n")+"\n"}Lv.stringifyDocument=mF});var Ji=y(Rv=>{"use strict";var gF=Ri(),Cn=la(),Ze=G(),yF=Qt(),AF=Gt(),wF=Vf(),EF=xv(),Wf=ia(),vF=Qu(),bF=ki(),Yf=Ku(),Kf=class e{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ze.NODE_TYPE,{value:Ze.DOC});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);let s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=s;let{version:o}=s;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Yf.Directives({version:o}),this.setSchema(o,n),this.contents=t===void 0?null:this.createNode(t,i,n)}clone(){let t=Object.create(e.prototype,{[Ze.NODE_TYPE]:{value:Ze.DOC}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Ze.isNode(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Tn(this.contents)&&this.contents.add(t)}addIn(t,r){Tn(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){let n=Wf.anchorNames(this);t.anchor=!r||n.has(r)?Wf.findNewAnchor(r||"a",n):r}return new gF.Alias(t.anchor)}createNode(t,r,n){let i;if(typeof r=="function")t=r.call({"":t},"",t),i=r;else if(Array.isArray(r)){let E=b=>typeof b=="number"||b instanceof String||b instanceof Number,S=r.filter(E).map(String);S.length>0&&(r=r.concat(S)),i=r}else n===void 0&&r&&(n=r,r=void 0);let{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:f}=n??{},{onAnchor:u,setAnchors:h,sourceObjects:p}=Wf.createNodeAnchors(this,o||"a"),w={aliasDuplicateObjects:s??!0,keepUndefined:l??!1,onAnchor:u,onTagObj:c,replacer:i,schema:this.schema,sourceObjects:p},g=bF.createNode(t,f,w);return a&&Ze.isCollection(g)&&(g.flow=!0),h(),g}createPair(t,r,n={}){let i=this.createNode(t,null,n),s=this.createNode(r,null,n);return new yF.Pair(i,s)}delete(t){return Tn(this.contents)?this.contents.delete(t):!1}deleteIn(t){return Cn.isEmptyPath(t)?this.contents==null?!1:(this.contents=null,!0):Tn(this.contents)?this.contents.deleteIn(t):!1}get(t,r){return Ze.isCollection(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return Cn.isEmptyPath(t)?!r&&Ze.isScalar(this.contents)?this.contents.value:this.contents:Ze.isCollection(this.contents)?this.contents.getIn(t,r):void 0}has(t){return Ze.isCollection(this.contents)?this.contents.has(t):!1}hasIn(t){return Cn.isEmptyPath(t)?this.contents!==void 0:Ze.isCollection(this.contents)?this.contents.hasIn(t):!1}set(t,r){this.contents==null?this.contents=Cn.collectionFromPath(this.schema,[t],r):Tn(this.contents)&&this.contents.set(t,r)}setIn(t,r){Cn.isEmptyPath(t)?this.contents=r:this.contents==null?this.contents=Cn.collectionFromPath(this.schema,Array.from(t),r):Tn(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Yf.Directives({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Yf.Directives({version:t}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let i=JSON.stringify(t);throw new Error("Expected '1.1', '1.2' or null as first argument, but found: ".concat(i))}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new wF.Schema(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:s,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=AF.toJS(this.contents,r??"",a);if(typeof s=="function")for(let{count:c,res:f}of a.anchors.values())s(f,c);return typeof o=="function"?vF.applyReviver(o,{"":l},"",l):l}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){let r=JSON.stringify(t.indent);throw new Error('"indent" option must be a positive integer, not '.concat(r))}return EF.stringifyDocument(this,t)}};function Tn(e){if(Ze.isCollection(e))return!0;throw new Error("Expected a YAML collection as document contents")}Rv.Document=Kf});var ts=y(es=>{"use strict";var Zi=class extends Error{constructor(t,r,n,i){super(),this.name=t,this.code=n,this.message=i,this.pos=r}},Qf=class extends Zi{constructor(t,r,n){super("YAMLParseError",t,r,n)}},zf=class extends Zi{constructor(t,r,n){super("YAMLWarning",t,r,n)}},SF=(e,t)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(a=>t.linePos(a));let{line:n,col:i}=r.linePos[0];r.message+=" at line ".concat(n,", column ").concat(i);let s=i-1,o=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){let a=Math.min(s-39,o.length-79);o="\u2026"+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),n>1&&/^ *$/.test(o.substring(0,s))){let a=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+"\u2026\n"),o=a+o}if(/[^ ]/.test(o)){let a=1,l=r.linePos[1];l&&l.line===n&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-s)));let c=" ".repeat(s)+"^".repeat(a);r.message+=":\n\n".concat(o,"\n").concat(c,"\n")}};es.YAMLError=Zi;es.YAMLParseError=Qf;es.YAMLWarning=zf;es.prettifyError=SF});var rs=y(kv=>{"use strict";function _F(e,{flow:t,indicator:r,next:n,offset:i,onError:s,parentIndent:o,startOnNewline:a}){let l=!1,c=a,f=a,u="",h="",p=!1,w=!1,g=null,E=null,S=null,b=null,T=null,N=null,R=null;for(let A of e)switch(w&&(A.type!=="space"&&A.type!=="newline"&&A.type!=="comma"&&s(A.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),w=!1),g&&(c&&A.type!=="comment"&&A.type!=="newline"&&s(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),g=null),A.type){case"space":!t&&(r!=="doc-start"||n?.type!=="flow-collection")&&A.source.includes("	")&&(g=A),f=!0;break;case"comment":{f||s(A,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let O=A.source.substring(1)||" ";u?u+=h+O:u=O,h="",c=!1;break}case"newline":c?u?u+=A.source:(!N||r!=="seq-item-ind")&&(l=!0):h+=A.source,c=!0,p=!0,(E||S)&&(b=A),f=!0;break;case"anchor":E&&s(A,"MULTIPLE_ANCHORS","A node can have at most one anchor"),A.source.endsWith(":")&&s(A.offset+A.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),E=A,R??(R=A.offset),c=!1,f=!1,w=!0;break;case"tag":{S&&s(A,"MULTIPLE_TAGS","A node can have at most one tag"),S=A,R??(R=A.offset),c=!1,f=!1,w=!0;break}case r:(E||S)&&s(A,"BAD_PROP_ORDER","Anchors and tags must be after the ".concat(A.source," indicator")),N&&s(A,"UNEXPECTED_TOKEN","Unexpected ".concat(A.source," in ").concat(t??"collection")),N=A,c=r==="seq-item-ind"||r==="explicit-key-ind",f=!1;break;case"comma":if(t){T&&s(A,"UNEXPECTED_TOKEN","Unexpected , in ".concat(t)),T=A,c=!1,f=!1;break}default:s(A,"UNEXPECTED_TOKEN","Unexpected ".concat(A.type," token")),c=!1,f=!1}let I=e[e.length-1],M=I?I.offset+I.source.length:i;return w&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&s(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),g&&(c&&g.indent<=o||n?.type==="block-map"||n?.type==="block-seq")&&s(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:T,found:N,spaceBefore:l,comment:u,hasNewline:p,anchor:E,tag:S,newlineAfterProp:b,end:M,start:R??M}}kv.resolveProps=_F});var ja=y(Fv=>{"use strict";function Xf(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end){for(let t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(let t of e.items){for(let r of t.start)if(r.type==="newline")return!0;if(t.sep){for(let r of t.sep)if(r.type==="newline")return!0}if(Xf(t.key)||Xf(t.value))return!0}return!1;default:return!0}}Fv.containsNewline=Xf});var Jf=y(Uv=>{"use strict";var CF=ja();function TF(e,t,r){if(t?.type==="flow-collection"){let n=t.end[0];n.indent===e&&(n.source==="]"||n.source==="}")&&CF.containsNewline(t)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}Uv.flowIndentCheck=TF});var Zf=y($v=>{"use strict";var Mv=G();function NF(e,t,r){let{uniqueKeys:n}=e.options;if(n===!1)return!1;let i=typeof n=="function"?n:(s,o)=>s===o||Mv.isScalar(s)&&Mv.isScalar(o)&&s.value===o.value;return t.some(s=>i(s.key,r))}$v.mapIncludes=NF});var Wv=y(Gv=>{"use strict";var Bv=Qt(),OF=Xt(),jv=rs(),IF=ja(),Hv=Jf(),PF=Zf(),Vv="All mapping items must start at the same column";function DF({composeNode:e,composeEmptyNode:t},r,n,i,s){let o=s?.nodeClass??OF.YAMLMap,a=new o(r.schema);r.atRoot&&(r.atRoot=!1);let l=n.offset,c=null;for(let f of n.items){let{start:u,key:h,sep:p,value:w}=f,g=jv.resolveProps(u,{indicator:"explicit-key-ind",next:h??p?.[0],offset:l,onError:i,parentIndent:n.indent,startOnNewline:!0}),E=!g.found;if(E){if(h&&(h.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in h&&h.indent!==n.indent&&i(l,"BAD_INDENT",Vv)),!g.anchor&&!g.tag&&!p){c=g.end,g.comment&&(a.comment?a.comment+="\n"+g.comment:a.comment=g.comment);continue}(g.newlineAfterProp||IF.containsNewline(h))&&i(h??u[u.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else g.found?.indent!==n.indent&&i(l,"BAD_INDENT",Vv);r.atKey=!0;let S=g.end,b=h?e(r,h,g,i):t(r,S,u,null,g,i);r.schema.compat&&Hv.flowIndentCheck(n.indent,h,i),r.atKey=!1,PF.mapIncludes(r,a.items,b)&&i(S,"DUPLICATE_KEY","Map keys must be unique");let T=jv.resolveProps(p??[],{indicator:"map-value-ind",next:w,offset:b.range[2],onError:i,parentIndent:n.indent,startOnNewline:!h||h.type==="block-scalar"});if(l=T.end,T.found){E&&(w?.type==="block-map"&&!T.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&g.start<T.found.offset-1024&&i(b.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let N=w?e(r,w,T,i):t(r,l,p,null,T,i);r.schema.compat&&Hv.flowIndentCheck(n.indent,w,i),l=N.range[2];let R=new Bv.Pair(b,N);r.options.keepSourceTokens&&(R.srcToken=f),a.items.push(R)}else{E&&i(b.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),T.comment&&(b.comment?b.comment+="\n"+T.comment:b.comment=T.comment);let N=new Bv.Pair(b);r.options.keepSourceTokens&&(N.srcToken=f),a.items.push(N)}}return c&&c<l&&i(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[n.offset,l,c??l],a}Gv.resolveBlockMap=DF});var Kv=y(Yv=>{"use strict";var qF=Jt(),LF=rs(),xF=Jf();function RF({composeNode:e,composeEmptyNode:t},r,n,i,s){let o=s?.nodeClass??qF.YAMLSeq,a=new o(r.schema);r.atRoot&&(r.atRoot=!1),r.atKey&&(r.atKey=!1);let l=n.offset,c=null;for(let{start:f,value:u}of n.items){let h=LF.resolveProps(f,{indicator:"seq-item-ind",next:u,offset:l,onError:i,parentIndent:n.indent,startOnNewline:!0});if(!h.found)if(h.anchor||h.tag||u)u&&u.type==="block-seq"?i(h.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{c=h.end,h.comment&&(a.comment=h.comment);continue}let p=u?e(r,u,h,i):t(r,h.end,f,null,h,i);r.schema.compat&&xF.flowIndentCheck(n.indent,u,i),l=p.range[2],a.items.push(p)}return a.range=[n.offset,l,c??l],a}Yv.resolveBlockSeq=RF});var Nn=y(Qv=>{"use strict";function kF(e,t,r,n){let i="";if(e){let s=!1,o="";for(let a of e){let{source:l,type:c}=a;switch(c){case"space":s=!0;break;case"comment":{r&&!s&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let f=l.substring(1)||" ";i?i+=o+f:i=f,o="";break}case"newline":i&&(o+=l),s=!0;break;default:n(a,"UNEXPECTED_TOKEN","Unexpected ".concat(c," at node end"))}t+=l.length}}return{comment:i,offset:t}}Qv.resolveEnd=kF});var Zv=y(Jv=>{"use strict";var FF=G(),UF=Qt(),zv=Xt(),MF=Jt(),$F=Nn(),Xv=rs(),BF=ja(),jF=Zf(),eh="Block collections are not allowed within flow collections",th=e=>e&&(e.type==="block-map"||e.type==="block-seq");function HF({composeNode:e,composeEmptyNode:t},r,n,i,s){let o=n.start.source==="{",a=o?"flow map":"flow sequence",l=s?.nodeClass??(o?zv.YAMLMap:MF.YAMLSeq),c=new l(r.schema);c.flow=!0;let f=r.atRoot;f&&(r.atRoot=!1),r.atKey&&(r.atKey=!1);let u=n.offset+n.start.source.length;for(let E=0;E<n.items.length;++E){let S=n.items[E],{start:b,key:T,sep:N,value:R}=S,I=Xv.resolveProps(b,{flow:a,indicator:"explicit-key-ind",next:T??N?.[0],offset:u,onError:i,parentIndent:n.indent,startOnNewline:!1});if(!I.found){if(!I.anchor&&!I.tag&&!N&&!R){E===0&&I.comma?i(I.comma,"UNEXPECTED_TOKEN","Unexpected , in ".concat(a)):E<n.items.length-1&&i(I.start,"UNEXPECTED_TOKEN","Unexpected empty item in ".concat(a)),I.comment&&(c.comment?c.comment+="\n"+I.comment:c.comment=I.comment),u=I.end;continue}!o&&r.options.strict&&BF.containsNewline(T)&&i(T,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(E===0)I.comma&&i(I.comma,"UNEXPECTED_TOKEN","Unexpected , in ".concat(a));else if(I.comma||i(I.start,"MISSING_CHAR","Missing , between ".concat(a," items")),I.comment){let M="";e:for(let A of b)switch(A.type){case"comma":case"space":break;case"comment":M=A.source.substring(1);break e;default:break e}if(M){let A=c.items[c.items.length-1];FF.isPair(A)&&(A=A.value??A.key),A.comment?A.comment+="\n"+M:A.comment=M,I.comment=I.comment.substring(M.length+1)}}if(!o&&!N&&!I.found){let M=R?e(r,R,I,i):t(r,I.end,N,null,I,i);c.items.push(M),u=M.range[2],th(R)&&i(M.range,"BLOCK_IN_FLOW",eh)}else{r.atKey=!0;let M=I.end,A=T?e(r,T,I,i):t(r,M,b,null,I,i);th(T)&&i(A.range,"BLOCK_IN_FLOW",eh),r.atKey=!1;let O=Xv.resolveProps(N??[],{flow:a,indicator:"map-value-ind",next:R,offset:A.range[2],onError:i,parentIndent:n.indent,startOnNewline:!1});if(O.found){if(!o&&!I.found&&r.options.strict){if(N)for(let B of N){if(B===O.found)break;if(B.type==="newline"){i(B,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}I.start<O.found.offset-1024&&i(O.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else R&&("source"in R&&R.source&&R.source[0]===":"?i(R,"MISSING_CHAR","Missing space after : in ".concat(a)):i(O.start,"MISSING_CHAR","Missing , or : between ".concat(a," items")));let $=R?e(r,R,O,i):O.found?t(r,O.end,N,null,O,i):null;$?th(R)&&i($.range,"BLOCK_IN_FLOW",eh):O.comment&&(A.comment?A.comment+="\n"+O.comment:A.comment=O.comment);let x=new UF.Pair(A,$);if(r.options.keepSourceTokens&&(x.srcToken=S),o){let B=c;jF.mapIncludes(r,B.items,A)&&i(M,"DUPLICATE_KEY","Map keys must be unique"),B.items.push(x)}else{let B=new zv.YAMLMap(r.schema);B.flow=!0,B.items.push(x);let se=($??A).range;B.range=[A.range[0],se[1],se[2]],c.items.push(B)}u=$?$.range[2]:O.end}}let h=o?"}":"]",[p,...w]=n.end,g=u;if(p&&p.source===h)g=p.offset+p.source.length;else{let E=a[0].toUpperCase()+a.substring(1),S=f?"".concat(E," must end with a ").concat(h):"".concat(E," in block collection must be sufficiently indented and end with a ").concat(h);i(u,f?"MISSING_CHAR":"BAD_INDENT",S),p&&p.source.length!==1&&w.unshift(p)}if(w.length>0){let E=$F.resolveEnd(w,g,r.options.strict,i);E.comment&&(c.comment?c.comment+="\n"+E.comment:c.comment=E.comment),c.range=[n.offset,g,E.offset]}else c.range=[n.offset,g,g];return c}Jv.resolveFlowCollection=HF});var tb=y(eb=>{"use strict";var VF=G(),GF=ue(),WF=Xt(),YF=Jt(),KF=Wv(),QF=Kv(),zF=Zv();function rh(e,t,r,n,i,s){let o=r.type==="block-map"?KF.resolveBlockMap(e,t,r,n,s):r.type==="block-seq"?QF.resolveBlockSeq(e,t,r,n,s):zF.resolveFlowCollection(e,t,r,n,s),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function XF(e,t,r,n,i){let s=n.tag,o=s?t.directives.tagName(s.source,h=>i(s,"TAG_RESOLVE_FAILED",h)):null;if(r.type==="block-seq"){let{anchor:h,newlineAfterProp:p}=n,w=h&&s?h.offset>s.offset?h:s:h??s;w&&(!p||p.offset<w.offset)&&i(w,"MISSING_CHAR","Missing newline after block sequence props")}let a=r.type==="block-map"?"map":r.type==="block-seq"?"seq":r.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===WF.YAMLMap.tagName&&a==="map"||o===YF.YAMLSeq.tagName&&a==="seq")return rh(e,t,r,i,o);let l=t.schema.tags.find(h=>h.tag===o&&h.collection===a);if(!l){let h=t.schema.knownTags[o];if(h&&h.collection===a)t.schema.tags.push(Object.assign({},h,{default:!1})),l=h;else return h?i(s,"BAD_COLLECTION_TYPE","".concat(h.tag," used for ").concat(a," collection, but expects ").concat(h.collection??"scalar"),!0):i(s,"TAG_RESOLVE_FAILED","Unresolved tag: ".concat(o),!0),rh(e,t,r,i,o)}let c=rh(e,t,r,i,o,l),f=l.resolve?.(c,h=>i(s,"TAG_RESOLVE_FAILED",h),t.options)??c,u=VF.isNode(f)?f:new GF.Scalar(f);return u.range=c.range,u.tag=o,l?.format&&(u.format=l.format),u}eb.composeCollection=XF});var ih=y(rb=>{"use strict";var nh=ue();function JF(e,t,r){let n=t.offset,i=ZF(t,e.options.strict,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};let s=i.mode===">"?nh.Scalar.BLOCK_FOLDED:nh.Scalar.BLOCK_LITERAL,o=t.source?e2(t.source):[],a=o.length;for(let g=o.length-1;g>=0;--g){let E=o[g][1];if(E===""||E==="\r")a=g;else break}if(a===0){let g=i.chomp==="+"&&o.length>0?"\n".repeat(Math.max(1,o.length-1)):"",E=n+i.length;return t.source&&(E+=t.source.length),{value:g,type:s,comment:i.comment,range:[n,E,E]}}let l=t.indent+i.indent,c=t.offset+i.length,f=0;for(let g=0;g<a;++g){let[E,S]=o[g];if(S===""||S==="\r")i.indent===0&&E.length>l&&(l=E.length);else{E.length<l&&r(c+E.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=E.length),f=g,l===0&&!e.atRoot&&r(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=E.length+S.length+1}for(let g=o.length-1;g>=a;--g)o[g][0].length>l&&(a=g+1);let u="",h="",p=!1;for(let g=0;g<f;++g)u+=o[g][0].slice(l)+"\n";for(let g=f;g<a;++g){let[E,S]=o[g];c+=E.length+S.length+1;let b=S[S.length-1]==="\r";if(b&&(S=S.slice(0,-1)),S&&E.length<l){let T=i.indent?"explicit indentation indicator":"first line",N="Block scalar lines must not be less indented than their ".concat(T);r(c-S.length-(b?2:1),"BAD_INDENT",N),E=""}s===nh.Scalar.BLOCK_LITERAL?(u+=h+E.slice(l)+S,h="\n"):E.length>l||S[0]==="	"?(h===" "?h="\n":!p&&h==="\n"&&(h="\n\n"),u+=h+E.slice(l)+S,h="\n",p=!0):S===""?h==="\n"?u+="\n":h="\n":(u+=h+S,h=" ",p=!1)}switch(i.chomp){case"-":break;case"+":for(let g=a;g<o.length;++g)u+="\n"+o[g][0].slice(l);u[u.length-1]!=="\n"&&(u+="\n");break;default:u+="\n"}let w=n+i.length+t.source.length;return{value:u,type:s,comment:i.comment,range:[n,w,w]}}function ZF({offset:e,props:t},r,n){if(t[0].type!=="block-scalar-header")return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=t[0],s=i[0],o=0,a="",l=-1;for(let h=1;h<i.length;++h){let p=i[h];if(!a&&(p==="-"||p==="+"))a=p;else{let w=Number(p);!o&&w?o=w:l===-1&&(l=e+h)}}l!==-1&&n(l,"UNEXPECTED_TOKEN","Block scalar header includes extra characters: ".concat(i));let c=!1,f="",u=i.length;for(let h=1;h<t.length;++h){let p=t[h];switch(p.type){case"space":c=!0;case"newline":u+=p.source.length;break;case"comment":r&&!c&&n(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),u+=p.source.length,f=p.source.substring(1);break;case"error":n(p,"UNEXPECTED_TOKEN",p.message),u+=p.source.length;break;default:{let w="Unexpected token in block scalar header: ".concat(p.type);n(p,"UNEXPECTED_TOKEN",w);let g=p.source;g&&typeof g=="string"&&(u+=g.length)}}}return{mode:s,indent:o,chomp:a,comment:f,length:u}}function e2(e){let t=e.split(/\n( *)/),r=t[0],n=r.match(/^( *)/),s=[n?.[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let o=1;o<t.length;o+=2)s.push([t[o],t[o+1]]);return s}rb.resolveBlockScalar=JF});var oh=y(ib=>{"use strict";var sh=ue(),t2=Nn();function r2(e,t,r){let{offset:n,type:i,source:s,end:o}=e,a,l,c=(h,p,w)=>r(n+h,p,w);switch(i){case"scalar":a=sh.Scalar.PLAIN,l=n2(s,c);break;case"single-quoted-scalar":a=sh.Scalar.QUOTE_SINGLE,l=i2(s,c);break;case"double-quoted-scalar":a=sh.Scalar.QUOTE_DOUBLE,l=s2(s,c);break;default:return r(e,"UNEXPECTED_TOKEN","Expected a flow scalar value, but found: ".concat(i)),{value:"",type:null,comment:"",range:[n,n+s.length,n+s.length]}}let f=n+s.length,u=t2.resolveEnd(o,f,t,r);return{value:l,type:a,comment:u.comment,range:[n,f,u.offset]}}function n2(e,t){let r="";switch(e[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r="block scalar indicator ".concat(e[0]);break}case"@":case"`":{r="reserved character ".concat(e[0]);break}}return r&&t(0,"BAD_SCALAR_START","Plain value cannot start with ".concat(r)),nb(e)}function i2(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),nb(e.slice(1,-1)).replace(/''/g,"'")}function nb(e){let t,r;try{t=new RegExp("(.*?)(?<![ 	])[ 	]*\r?\n","sy"),r=new RegExp("[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?\n","sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let i=n[1],s=" ",o=t.lastIndex;for(r.lastIndex=o;n=r.exec(e);)n[1]===""?s==="\n"?i+=s:s="\n":(i+=s+n[1],s=" "),o=r.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,n=a.exec(e),i+s+(n?.[1]??"")}function s2(e,t){let r="";for(let n=1;n<e.length-1;++n){let i=e[n];if(!(i==="\r"&&e[n+1]==="\n"))if(i==="\n"){let{fold:s,offset:o}=o2(e,n);r+=s,n=o}else if(i==="\\"){let s=e[++n],o=a2[s];if(o)r+=o;else if(s==="\n")for(s=e[n+1];s===" "||s==="	";)s=e[++n+1];else if(s==="\r"&&e[n+1]==="\n")for(s=e[++n+1];s===" "||s==="	";)s=e[++n+1];else if(s==="x"||s==="u"||s==="U"){let a={x:2,u:4,U:8}[s];r+=l2(e,n+1,a,t),n+=a}else{let a=e.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE","Invalid escape sequence ".concat(a)),r+=a}}else if(i===" "||i==="	"){let s=n,o=e[n+1];for(;o===" "||o==="	";)o=e[++n+1];o!=="\n"&&!(o==="\r"&&e[n+2]==="\n")&&(r+=n>s?e.slice(s,n+1):i)}else r+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),r}function o2(e,t){let r="",n=e[t+1];for(;(n===" "||n==="	"||n==="\n"||n==="\r")&&!(n==="\r"&&e[t+2]!=="\n");)n==="\n"&&(r+="\n"),t+=1,n=e[t+1];return r||(r=" "),{fold:r,offset:t}}var a2={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:"\n",r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function l2(e,t,r,n){let i=e.substr(t,r),o=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){let a=e.substr(t-2,r+2);return n(t-2,"BAD_DQ_ESCAPE","Invalid escape sequence ".concat(a)),a}return String.fromCodePoint(o)}ib.resolveFlowScalar=r2});var ab=y(ob=>{"use strict";var Pr=G(),sb=ue(),c2=ih(),u2=oh();function f2(e,t,r,n){let{value:i,type:s,comment:o,range:a}=t.type==="block-scalar"?c2.resolveBlockScalar(e,t,n):u2.resolveFlowScalar(t,e.options.strict,n),l=r?e.directives.tagName(r.source,u=>n(r,"TAG_RESOLVE_FAILED",u)):null,c;e.options.stringKeys&&e.atKey?c=e.schema[Pr.SCALAR]:l?c=h2(e.schema,i,l,r,n):t.type==="scalar"?c=d2(e,i,t,n):c=e.schema[Pr.SCALAR];let f;try{let u=c.resolve(i,h=>n(r??t,"TAG_RESOLVE_FAILED",h),e.options);f=Pr.isScalar(u)?u:new sb.Scalar(u)}catch(u){let h=u instanceof Error?u.message:String(u);n(r??t,"TAG_RESOLVE_FAILED",h),f=new sb.Scalar(i)}return f.range=a,f.source=i,s&&(f.type=s),l&&(f.tag=l),c.format&&(f.format=c.format),o&&(f.comment=o),f}function h2(e,t,r,n,i){if(r==="!")return e[Pr.SCALAR];let s=[];for(let a of e.tags)if(!a.collection&&a.tag===r)if(a.default&&a.test)s.push(a);else return a;for(let a of s)if(a.test?.test(t))return a;let o=e.knownTags[r];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(n,"TAG_RESOLVE_FAILED","Unresolved tag: ".concat(r),r!=="tag:yaml.org,2002:str"),e[Pr.SCALAR])}function d2({atKey:e,directives:t,schema:r},n,i,s){let o=r.tags.find(a=>(a.default===!0||e&&a.default==="key")&&a.test?.test(n))||r[Pr.SCALAR];if(r.compat){let a=r.compat.find(l=>l.default&&l.test?.test(n))??r[Pr.SCALAR];if(o.tag!==a.tag){let l=t.tagString(o.tag),c=t.tagString(a.tag),f="Value may be parsed as either ".concat(l," or ").concat(c);s(i,"TAG_RESOLVE_FAILED",f,!0)}}return o}ob.composeScalar=f2});var cb=y(lb=>{"use strict";function p2(e,t,r){if(t){r??(r=t.length);for(let n=r-1;n>=0;--n){let i=t[n];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++n];i?.type==="space";)e+=i.source.length,i=t[++n];break}}return e}lb.emptyScalarPosition=p2});var hb=y(lh=>{"use strict";var m2=Ri(),g2=G(),y2=tb(),ub=ab(),A2=Nn(),w2=cb(),E2={composeNode:fb,composeEmptyNode:ah};function fb(e,t,r,n){let i=e.atKey,{spaceBefore:s,comment:o,anchor:a,tag:l}=r,c,f=!0;switch(t.type){case"alias":c=v2(e,t,n),(a||l)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=ub.composeScalar(e,t,l,n),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=y2.composeCollection(E2,e,t,r,n),a&&(c.anchor=a.source.substring(1));break;default:{let u=t.type==="error"?t.message:"Unsupported token (type: ".concat(t.type,")");n(t,"UNEXPECTED_TOKEN",u),c=ah(e,t.offset,void 0,null,r,n),f=!1}}return a&&c.anchor===""&&n(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&e.options.stringKeys&&(!g2.isScalar(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&n(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(c.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?c.comment=o:c.commentBefore=o),e.options.keepSourceTokens&&f&&(c.srcToken=t),c}function ah(e,t,r,n,{spaceBefore:i,comment:s,anchor:o,tag:a,end:l},c){let f={type:"scalar",offset:w2.emptyScalarPosition(t,r,n),indent:-1,source:""},u=ub.composeScalar(e,f,a,c);return o&&(u.anchor=o.source.substring(1),u.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(u.spaceBefore=!0),s&&(u.comment=s,u.range[2]=l),u}function v2({options:e},{offset:t,source:r,end:n},i){let s=new m2.Alias(r.substring(1));s.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(t+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=t+r.length,a=A2.resolveEnd(n,o,e.strict,i);return s.range=[t,o,a.offset],a.comment&&(s.comment=a.comment),s}lh.composeEmptyNode=ah;lh.composeNode=fb});var mb=y(pb=>{"use strict";var b2=Ji(),db=hb(),S2=Nn(),_2=rs();function C2(e,t,{offset:r,start:n,value:i,end:s},o){let a=Object.assign({_directives:t},e),l=new b2.Document(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},f=_2.resolveProps(n,{indicator:"doc-start",next:i??s?.[0],offset:r,onError:o,parentIndent:0,startOnNewline:!0});f.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!f.hasNewline&&o(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?db.composeNode(c,i,f,o):db.composeEmptyNode(c,f.end,n,null,f,o);let u=l.contents.range[2],h=S2.resolveEnd(s,u,!1,o);return h.comment&&(l.comment=h.comment),l.range=[r,u,h.offset],l}pb.composeDoc=C2});var uh=y(Ab=>{"use strict";var T2=require("process"),N2=Ku(),O2=Ji(),ns=ts(),gb=G(),I2=mb(),P2=Nn();function is(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];let{offset:t,source:r}=e;return[t,t+(typeof r=="string"?r.length:1)]}function yb(e){let t="",r=!1,n=!1;for(let i=0;i<e.length;++i){let s=e[i];switch(s[0]){case"#":t+=(t===""?"":n?"\n\n":"\n")+(s.substring(1)||" "),r=!0,n=!1;break;case"%":e[i+1]?.[0]!=="#"&&(i+=1),r=!1;break;default:r||(n=!0),r=!1}}return{comment:t,afterEmptyLine:n}}var ch=class{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,i,s)=>{let o=is(r);s?this.warnings.push(new ns.YAMLWarning(o,n,i)):this.errors.push(new ns.YAMLParseError(o,n,i))},this.directives=new N2.Directives({version:t.version||"1.2"}),this.options=t}decorate(t,r){let{comment:n,afterEmptyLine:i}=yb(this.prelude);if(n){let s=t.contents;if(r)t.comment=t.comment?"".concat(t.comment,"\n").concat(n):n;else if(i||t.directives.docStart||!s)t.commentBefore=n;else if(gb.isCollection(s)&&!s.flow&&s.items.length>0){let o=s.items[0];gb.isPair(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?"".concat(n,"\n").concat(a):n}else{let o=s.commentBefore;s.commentBefore=o?"".concat(n,"\n").concat(o):n}}r?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:yb(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,r=!1,n=-1){for(let i of t)yield*this.next(i);yield*this.end(r,n)}*next(t){switch(T2.env.LOG_STREAM&&console.dir(t,{depth:null}),t.type){case"directive":this.directives.add(t.source,(r,n,i)=>{let s=is(t);s[0]+=r,this.onError(s,"BAD_DIRECTIVE",n,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{let r=I2.composeDoc(this.options,this.directives,t,this.onError);this.atDirectives&&!r.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{let r=t.source?"".concat(t.message,": ").concat(JSON.stringify(t.source)):t.message,n=new ns.YAMLParseError(is(t),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let n="Unexpected doc-end without preceding document";this.errors.push(new ns.YAMLParseError(is(t),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;let r=P2.resolveEnd(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){let n=this.doc.comment;this.doc.comment=n?"".concat(n,"\n").concat(r.comment):r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new ns.YAMLParseError(is(t),"UNEXPECTED_TOKEN","Unsupported token ".concat(t.type)))}}*end(t=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){let n=Object.assign({_directives:this.directives},this.options),i=new O2.Document(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,r,r],this.decorate(i,!1),yield i}}};Ab.Composer=ch});var vb=y(Ha=>{"use strict";var D2=ih(),q2=oh(),L2=ts(),wb=$i();function x2(e,t=!0,r){if(e){let n=(i,s,o)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(r)r(a,s,o);else throw new L2.YAMLParseError([a,a+1],s,o)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return q2.resolveFlowScalar(e,t,n);case"block-scalar":return D2.resolveBlockScalar({options:{strict:t}},e,n)}}return null}function R2(e,t){let{implicitKey:r=!1,indent:n,inFlow:i=!1,offset:s=-1,type:o="PLAIN"}=t,a=wb.stringifyString({type:o,value:e},{implicitKey:r,indent:n>0?" ".repeat(n):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=t.end??[{type:"newline",offset:-1,indent:n,source:"\n"}];switch(a[0]){case"|":case">":{let c=a.indexOf("\n"),f=a.substring(0,c),u=a.substring(c+1)+"\n",h=[{type:"block-scalar-header",offset:s,indent:n,source:f}];return Eb(h,l)||h.push({type:"newline",offset:-1,indent:n,source:"\n"}),{type:"block-scalar",offset:s,indent:n,props:h,source:u}}case'"':return{type:"double-quoted-scalar",offset:s,indent:n,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:s,indent:n,source:a,end:l};default:return{type:"scalar",offset:s,indent:n,source:a,end:l}}}function k2(e,t,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:s=!1,type:o}=r,a="indent"in e?e.indent:null;if(n&&typeof a=="number"&&(a+=2),!o)switch(e.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let c=e.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}let l=wb.stringifyString({type:o,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":F2(e,l);break;case'"':fh(e,l,"double-quoted-scalar");break;case"'":fh(e,l,"single-quoted-scalar");break;default:fh(e,l,"scalar")}}function F2(e,t){let r=t.indexOf("\n"),n=t.substring(0,r),i=t.substring(r+1)+"\n";if(e.type==="block-scalar"){let s=e.props[0];if(s.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s.source=n,e.source=i}else{let{offset:s}=e,o="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:s,indent:o,source:n}];Eb(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:"\n"});for(let l of Object.keys(e))l!=="type"&&l!=="offset"&&delete e[l];Object.assign(e,{type:"block-scalar",indent:o,props:a,source:i})}}function Eb(e,t){if(t)for(let r of t)switch(r.type){case"space":case"comment":e.push(r);break;case"newline":return e.push(r),!0}return!1}function fh(e,t,r){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=r,e.source=t;break;case"block-scalar":{let n=e.props.slice(1),i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(let s of n)s.offset+=i;delete e.props,Object.assign(e,{type:r,source:t,end:n});break}case"block-map":case"block-seq":{let i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:r,source:t,end:[i]});break}default:{let n="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(s=>s.type==="space"||s.type==="comment"||s.type==="newline"):[];for(let s of Object.keys(e))s!=="type"&&s!=="offset"&&delete e[s];Object.assign(e,{type:r,indent:n,source:t,end:i})}}}Ha.createScalarToken=R2;Ha.resolveAsScalar=x2;Ha.setScalarValue=k2});var Sb=y(bb=>{"use strict";var U2=e=>"type"in e?Ga(e):Va(e);function Ga(e){switch(e.type){case"block-scalar":{let t="";for(let r of e.props)t+=Ga(r);return t+e.source}case"block-map":case"block-seq":{let t="";for(let r of e.items)t+=Va(r);return t}case"flow-collection":{let t=e.start.source;for(let r of e.items)t+=Va(r);for(let r of e.end)t+=r.source;return t}case"document":{let t=Va(e);if(e.end)for(let r of e.end)t+=r.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(let r of e.end)t+=r.source;return t}}}function Va({start:e,key:t,sep:r,value:n}){let i="";for(let s of e)i+=s.source;if(t&&(i+=Ga(t)),r)for(let s of r)i+=s.source;return n&&(i+=Ga(n)),i}bb.stringify=U2});var Nb=y(Tb=>{"use strict";var hh=Symbol("break visit"),M2=Symbol("skip children"),_b=Symbol("remove item");function Dr(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),Cb(Object.freeze([]),e,t)}Dr.BREAK=hh;Dr.SKIP=M2;Dr.REMOVE=_b;Dr.itemAtPath=(e,t)=>{let r=e;for(let[n,i]of t){let s=r?.[n];if(s&&"items"in s)r=s.items[i];else return}return r};Dr.parentCollection=(e,t)=>{let r=Dr.itemAtPath(e,t.slice(0,-1)),n=t[t.length-1][0],i=r?.[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function Cb(e,t,r){let n=r(t,e);if(typeof n=="symbol")return n;for(let i of["key","value"]){let s=t[i];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){let a=Cb(Object.freeze(e.concat([[i,o]])),s.items[o],r);if(typeof a=="number")o=a-1;else{if(a===hh)return hh;a===_b&&(s.items.splice(o,1),o-=1)}}typeof n=="function"&&i==="key"&&(n=n(t,e))}}return typeof n=="function"?n(t,e):n}Tb.visit=Dr});var Wa=y(He=>{"use strict";var dh=vb(),$2=Sb(),B2=Nb(),ph="\uFEFF",mh="",gh="",yh="",j2=e=>!!e&&"items"in e,H2=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function V2(e){switch(e){case ph:return"<BOM>";case mh:return"<DOC>";case gh:return"<FLOW_END>";case yh:return"<SCALAR>";default:return JSON.stringify(e)}}function G2(e){switch(e){case ph:return"byte-order-mark";case mh:return"doc-mode";case gh:return"flow-error-end";case yh:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}He.createScalarToken=dh.createScalarToken;He.resolveAsScalar=dh.resolveAsScalar;He.setScalarValue=dh.setScalarValue;He.stringify=$2.stringify;He.visit=B2.visit;He.BOM=ph;He.DOCUMENT=mh;He.FLOW_END=gh;He.SCALAR=yh;He.isCollection=j2;He.isScalar=H2;He.prettyToken=V2;He.tokenType=G2});var Eh=y(Ib=>{"use strict";var ss=Wa();function st(e){switch(e){case void 0:case" ":case"\n":case"\r":case"	":return!0;default:return!1}}var Ob=new Set("0123456789ABCDEFabcdef"),W2=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Ya=new Set(",[]{}"),Y2=new Set(" ,[]{}\n\r	"),Ah=e=>!e||Y2.has(e),wh=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,r=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!r;let n=this.next??"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,r=this.buffer[t];for(;r===" "||r==="	";)r=this.buffer[++t];return!r||r==="#"||r==="\n"?!0:r==="\r"?this.buffer[t+1]==="\n":!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let r=this.buffer[t];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+t];if(r==="\r"){let i=this.buffer[n+t+1];if(i==="\n"||!i&&!this.atEnd)return t+n+1}return r==="\n"||n>=this.indentNext||!r&&!this.atEnd?t+n:-1}if(r==="-"||r==="."){let n=this.buffer.substr(t,3);if((n==="---"||n==="...")&&st(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf("\n",this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===ss.BOM&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let r=t.length,n=t.indexOf("#");for(;n!==-1;){let s=t[n-1];if(s===" "||s==="	"){r=n-1;break}else n=t.indexOf("#",n+1)}for(;;){let s=t[r-1];if(s===" "||s==="	")r-=1;else break}let i=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let r=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-r),yield*this.pushNewline(),"stream"}return yield ss.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let r=this.peek(3);if((r==="---"||r==="...")&&st(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,r==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!st(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[t,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&st(r)){let n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let t=this.getLine();if(t===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(t[r]){case"#":yield*this.pushCount(t.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(Ah),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,r,n=-1;do t=yield*this.pushNewline(),t>0?(r=yield*this.pushSpaces(!1),this.indentValue=n=r):r=0,r+=yield*this.pushSpaces(!0);while(t+r>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&st(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield ss.FLOW_END,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(Ah),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||st(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let t=this.charAt(0),r=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let s=0;for(;this.buffer[r-1-s]==="\\";)s+=1;if(s%2===0)break;r=this.buffer.indexOf('"',r+1)}let n=this.buffer.substring(0,r),i=n.indexOf("\n",this.pos);if(i!==-1){for(;i!==-1;){let s=this.continueScalar(i+1);if(s===-1)break;i=n.indexOf("\n",s)}i!==-1&&(r=i-(n[i-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){let r=this.buffer[++t];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>st(r)||r==="#")}*parseBlockScalar(){let t=this.pos-1,r=0,n;e:for(let s=this.pos;n=this.buffer[s];++s)switch(n){case" ":r+=1;break;case"\n":t=s,r=0;break;case"\r":{let o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o==="\n")break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let s=this.continueScalar(t+1);if(s===-1)break;t=this.buffer.indexOf("\n",s)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let i=t+1;for(n=this.buffer[i];n===" ";)n=this.buffer[++i];if(n==="	"){for(;n==="	"||n===" "||n==="\r"||n==="\n";)n=this.buffer[++i];t=i-1}else if(!this.blockScalarKeep)do{let s=t-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);let a=s;for(;o===" ";)o=this.buffer[--s];if(o==="\n"&&s>=this.pos&&s+1+r>a)t=s;else break}while(!0);return yield ss.SCALAR,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let t=this.flowLevel>0,r=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){let s=this.buffer[n+1];if(st(s)||t&&Ya.has(s))break;r=n}else if(st(i)){let s=this.buffer[n+1];if(i==="\r"&&(s==="\n"?(n+=1,i="\n",s=this.buffer[n+1]):r=n),s==="#"||t&&Ya.has(s))break;if(i==="\n"){let o=this.continueScalar(n+1);if(o===-1)break;n=Math.max(n,o-2)}}else{if(t&&Ya.has(i))break;r=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield ss.SCALAR,yield*this.pushToIndex(r+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,r){let n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(Ah))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let t=this.flowLevel>0,r=this.charAt(1);if(st(r)||t&&Ya.has(r))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,r=this.buffer[t];for(;!st(r)&&r!==">";)r=this.buffer[++t];return yield*this.pushToIndex(r===">"?t+1:t,!1)}else{let t=this.pos+1,r=this.buffer[t];for(;r;)if(W2.has(r))r=this.buffer[++t];else if(r==="%"&&Ob.has(this.buffer[t+1])&&Ob.has(this.buffer[t+2]))r=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){let t=this.buffer[this.pos];return t==="\n"?yield*this.pushCount(1):t==="\r"&&this.charAt(1)==="\n"?yield*this.pushCount(2):0}*pushSpaces(t){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||t&&n==="	");let i=r-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=r),i}*pushUntil(t){let r=this.pos,n=this.buffer[r];for(;!t(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}};Ib.Lexer=wh});var bh=y(Pb=>{"use strict";var vh=class{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let r=0,n=this.lineStarts.length;for(;r<n;){let s=r+n>>1;this.lineStarts[s]<t?r=s+1:n=s}if(this.lineStarts[r]===t)return{line:r+1,col:1};if(r===0)return{line:0,col:t};let i=this.lineStarts[r-1];return{line:r,col:t-i+1}}}};Pb.LineCounter=vh});var _h=y(Rb=>{"use strict";var K2=require("process"),Db=Wa(),Q2=Eh();function Zt(e,t){for(let r=0;r<e.length;++r)if(e[r].type===t)return!0;return!1}function qb(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function xb(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Ka(e){switch(e.type){case"document":return e.start;case"block-map":{let t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function On(e){if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;e[++t]?.type==="space";);return e.splice(t,e.length)}function Lb(e){if(e.start.type==="flow-seq-start")for(let t of e.items)t.sep&&!t.value&&!Zt(t.start,"explicit-key-ind")&&!Zt(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,xb(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}var Sh=class{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Q2.Lexer,this.onNewLine=t}*parse(t,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let n of this.lexer.lex(t,r))yield*this.next(n);r||(yield*this.end())}*next(t){if(this.source=t,K2.env.LOG_TOKENS&&console.log("|",Db.prettyToken(t)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}let r=Db.tokenType(t);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{let n="Not a YAML token: ".concat(t);yield*this.pop({type:"error",offset:this.offset,message:n,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){let r=t??this.stack.pop();if(!r)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield r;else{let n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&Lb(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{let i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=r;else{Object.assign(i,{key:r,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{let i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:r}):i.value=r;break}case"flow-collection":{let i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:r,sep:[]}):i.sep?i.value=r:Object.assign(i,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){let i=r.items[r.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&qb(i.start)===-1&&(r.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<r.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),r.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:"Unexpected ".concat(this.type," token in YAML stream"),source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{qb(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}let r=this.startBlockValue(t);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:"Unexpected ".concat(this.type," token in YAML document"),source:this.source}}*scalar(t){if(this.type==="map-value-ind"){let r=Ka(this.peek(2)),n=On(r),i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];let s={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf("\n")+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf("\n",r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){let r=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,r.value){let n="end"in r.value?r.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else if(r.sep)r.sep.push(this.sourceToken);else{if(this.atIndentedComment(r.start,t.indent)){let i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,r.start),i.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return}if(this.indent>=t.indent){let n=!this.onKeyLine&&this.indent===t.indent,i=n&&(r.sep||r.explicitKey)&&this.type!=="seq-item-ind",s=[];if(i&&r.sep&&!r.value){let o=[];for(let a=0;a<r.sep.length;++a){let l=r.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>t.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(s=r.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||r.value?(s.push(this.sourceToken),t.items.push({start:s}),this.onKeyLine=!0):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"explicit-key-ind":!r.sep&&!r.explicitKey?(r.start.push(this.sourceToken),r.explicitKey=!0):i||r.value?(s.push(this.sourceToken),t.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(r.explicitKey)if(r.sep)if(r.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(Zt(r.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(xb(r.key)&&!Zt(r.sep,"newline")){let o=On(r.start),a=r.key,l=r.sep;l.push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else s.length>0?r.sep=r.sep.concat(s,this.sourceToken):r.sep.push(this.sourceToken);else if(Zt(r.start,"newline"))Object.assign(r,{key:null,sep:[this.sourceToken]});else{let o=On(r.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else r.sep?r.value||i?t.items.push({start:s,key:null,sep:[this.sourceToken]}):Zt(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);i||r.value?(t.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(o):(Object.assign(r,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(t);if(o){if(o.type==="block-seq"){if(!r.explicitKey&&r.sep&&!Zt(r.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else n&&t.items.push({start:s});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){let r=t.items[t.items.length-1];switch(this.type){case"newline":if(r.value){let n="end"in r.value?r.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(r.start,t.indent)){let i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,r.start),i.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return;case"anchor":case"tag":if(r.value||this.indent<=t.indent)break;r.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;r.value||Zt(r.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return}if(this.indent>t.indent){let n=this.startBlockValue(t);if(n){this.stack.push(n);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){let r=t.items[t.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?t.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!r||r.value?t.items.push({start:[],key:i,sep:[]}):r.sep?this.stack.push(i):Object.assign(r,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}let n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{let n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===t.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){let i=Ka(n),s=On(i);Lb(t);let o=t.end.splice(1,t.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:s,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let r=this.source.indexOf("\n")+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf("\n",r)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let r=Ka(t),n=On(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let r=Ka(t),n=On(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,r){return this.type!=="comment"||this.indent<=r?!1:t.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};Rb.Parser=Sh});var $b=y(as=>{"use strict";var kb=uh(),z2=Ji(),os=ts(),X2=lf(),J2=G(),Z2=bh(),Fb=_h();function Ub(e){let t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new Z2.LineCounter||null,prettyErrors:t}}function eU(e,t={}){let{lineCounter:r,prettyErrors:n}=Ub(t),i=new Fb.Parser(r?.addNewLine),s=new kb.Composer(t),o=Array.from(s.compose(i.parse(e)));if(n&&r)for(let a of o)a.errors.forEach(os.prettifyError(e,r)),a.warnings.forEach(os.prettifyError(e,r));return o.length>0?o:Object.assign([],{empty:!0},s.streamInfo())}function Mb(e,t={}){let{lineCounter:r,prettyErrors:n}=Ub(t),i=new Fb.Parser(r?.addNewLine),s=new kb.Composer(t),o=null;for(let a of s.compose(i.parse(e),!0,e.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new os.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(o.errors.forEach(os.prettifyError(e,r)),o.warnings.forEach(os.prettifyError(e,r))),o}function tU(e,t,r){let n;typeof t=="function"?n=t:r===void 0&&t&&typeof t=="object"&&(r=t);let i=Mb(e,r);if(!i)return null;if(i.warnings.forEach(s=>X2.warn(i.options.logLevel,s)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function rU(e,t,r){let n=null;if(typeof t=="function"||Array.isArray(t)?n=t:r===void 0&&t&&(r=t),typeof r=="string"&&(r=r.length),typeof r=="number"){let i=Math.round(r);r=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){let{keepUndefined:i}=r??t??{};if(!i)return}return J2.isDocument(e)&&!n?e.toString(r):new z2.Document(e,n,r).toString(r)}as.parse=tU;as.parseAllDocuments=eU;as.parseDocument=Mb;as.stringify=rU});var jb=y(Y=>{"use strict";var nU=uh(),iU=Ji(),sU=Vf(),Ch=ts(),oU=Ri(),er=G(),aU=Qt(),lU=ue(),cU=Xt(),uU=Jt(),fU=Wa(),hU=Eh(),dU=bh(),pU=_h(),Qa=$b(),Bb=Di();Y.Composer=nU.Composer;Y.Document=iU.Document;Y.Schema=sU.Schema;Y.YAMLError=Ch.YAMLError;Y.YAMLParseError=Ch.YAMLParseError;Y.YAMLWarning=Ch.YAMLWarning;Y.Alias=oU.Alias;Y.isAlias=er.isAlias;Y.isCollection=er.isCollection;Y.isDocument=er.isDocument;Y.isMap=er.isMap;Y.isNode=er.isNode;Y.isPair=er.isPair;Y.isScalar=er.isScalar;Y.isSeq=er.isSeq;Y.Pair=aU.Pair;Y.Scalar=lU.Scalar;Y.YAMLMap=cU.YAMLMap;Y.YAMLSeq=uU.YAMLSeq;Y.CST=fU;Y.Lexer=hU.Lexer;Y.LineCounter=dU.LineCounter;Y.Parser=pU.Parser;Y.parse=Qa.parse;Y.parseAllDocuments=Qa.parseAllDocuments;Y.parseDocument=Qa.parseDocument;Y.stringify=Qa.stringify;Y.visit=Bb.visit;Y.visitAsync=Bb.visitAsync});var Kb=y((C3,Yb)=>{var{shell:Hb,dialog:mU}=require("electron"),{execSync:Th,spawn:gU}=require("child_process"),{stringify:yU}=jb(),Vb=require("crypto"),Gb=require("path"),Nh=require("os"),tr=require("fs"),AU=Ni(),Te=Fr(),wU=Hu(),In,Pn,Dn,rr,qr,ls,Wb;Yb.exports=(Wb=class extends AU{constructor(r){super(r);H(this,qr);H(this,In,null);H(this,Pn,null);H(this,Dn,null);H(this,rr,null);q(this,"getOS",()=>{if(typeof _(this,rr)!="string")switch(process.platform){case Te.MACOS:V(this,rr,"macos");break;case Te.WINDOWS:V(this,rr,"windows");break;case Te.LINUX:V(this,rr,"linux");break}return _(this,rr)});q(this,"getName",()=>{if(typeof _(this,Pn)!="string"){let r=null;switch(process.platform){case Te.MACOS:r="echo $(scutil --get LocalHostName).local";break;case Te.WINDOWS:case Te.LINUX:r="hostname";break}if(r!==null)try{let n=Th(r).toString();V(this,Pn,n.replace(/[\r\n\s]+/g,"").toLowerCase())}catch{}}return _(this,Pn)});q(this,"getUUID",()=>{if(typeof _(this,In)!="string"){let r=null,n=process.arch==="ia32"&&process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")?"%windir%\\sysnative\\cmd.exe /c %windir%\\System32":"%windir%\\System32";switch(process.platform){case Te.MACOS:r="ioreg -rd1 -c IOPlatformExpertDevice";break;case Te.WINDOWS:r="".concat(n,"\\REG.exe")+" QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid";break;case Te.LINUX:r="( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :";break}if(r!==null)try{let i=Th(r).toString();switch(process.platform){case Te.MACOS:i=i.replace(/^.*?\bIOPlatformUUID"\s*=\s*"(.*?)".*$/gs,"$1");break;case Te.WINDOWS:i=i.split("REG_SZ")[1];break}i=i.replace(/[\r\n\s]+/g,"");let s=Vb.createHash("md5").update([i,i,i].join("::")).digest("hex");V(this,In,[s.slice(0,8),s.slice(8,12),s.slice(12,16),s.slice(16,20),s.slice(20)].join("-"))}catch{}}return _(this,In)});q(this,"getSerialNumber",()=>{if(typeof _(this,Dn)!="string"){let r=null;switch(process.platform){case Te.MACOS:r="ioreg -l | grep IOPlatformSerialNumber";break;case Te.WINDOWS:r='powershell -Command "(Get-CimInstance -ClassName Win32_BIOS).SerialNumber"';break;case Te.LINUX:r='lsblk -o UUID -n /dev/sda* | grep -v "^$" | grep -vE "^.{,20}$" | sed -n 1p';break}if(r!==null)try{let n=Th(r).toString();switch(process.platform){case Te.MACOS:n=n.replace(/^.*?\bIOPlatformSerialNumber"\s*=\s*"(.*?)".*$/gs,"$1");break}n=n.replace(/[\r\n\s]+/g,"");let i=Vb.createHash("md5").update([n,n,n].join("::")).digest("hex");V(this,Dn,[i.slice(0,8),i.slice(8,12),i.slice(12,16),i.slice(16,20),i.slice(20)].join("-"))}catch{}}return _(this,Dn)});q(this,"getRam",()=>Math.ceil(Nh.totalmem()/1024**3));q(this,"getCpuArch",()=>Nh.arch());q(this,"getCpuName",()=>{let r="",n=Nh.cpus();return Array.isArray(n)&&n.length&&(r=n[0].model),r});q(this,"getFileSize",r=>{if(typeof r!="string"||!tr.existsSync(r))return null;let n=tr.statSync(r);if(!n.isFile())return null;let i=s=>{if(!Number.isInteger(s)||s<=0)return"0B";let o=Math.floor(Math.log(s)/Math.log(1024)),a=s/Math.pow(1024,o);return"".concat(a.toFixed(s<1024?0:1)," ").concat(["B","KiB","MiB","GiB","TiB"][o])};return{int:n.size,string:i(n.size)}});q(this,"setPostAuth",r=>this._dos.setPostAuth(!!r));q(this,"getPostAuth",()=>this._dos.getPostAuth());q(this,"showFileInFolder",r=>{let n=!1;do{if(typeof r!="string"||!r.length)break;r=decodeURIComponent(r),Te.WINDOWS===process.platform&&(r=r.replace(/^[\/\\]+/,""));try{if(!tr.existsSync(r))break;Hb.showItemInFolder(r),n=!0}catch{}}while(!1);return n});q(this,"showFileSelector",async(r,n=[],i=!1)=>{let s=[];n=(Array.isArray(n)?n:[]).map(a=>"".concat(a).replace(/^\.+/g,"").trim()).filter(Boolean);let o=await mU.showOpenDialog({properties:["openFile",...i?["multiSelections"]:[]],filters:[{name:typeof r=="string"&&r.length?r:i?"Select files":"Select file",extensions:n}]});return o.canceled||(s=(Array.isArray(o.filePaths)?o.filePaths:[]).map(a=>{if(tr.existsSync(a))try{return{path:a,name:Gb.basename(a),size:tr.statSync(a).size}}catch{}return null}).filter(a=>a!==null)),s});q(this,"sendRequest",async(r,n="GET",i={},s={},o=!0,a=60,l=!0)=>{n=typeof n=="string"?n.replace(/[^a-z]+/i,"").toUpperCase():"",["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH"].includes(n)||(n="GET"),(typeof i!="object"||i===null)&&(i={}),(typeof s!="object"||s===null)&&(s={});let c=new AbortController,f=setTimeout(()=>c.abort("Request timed out after ".concat(a,"s")),a*1e3);try{let u={method:n,headers:{...o?{"content-type":"application/json"}:{},...s},signal:c.signal,priority:"high",redirect:"follow"};Object.keys(i).length&&(u.body=JSON.stringify(i));let h=await fetch(r,u);return!l&&h.body?.cancel?.(),{ok:h.ok,status:h.status,headers:Object.fromEntries(h.headers.entries()),data:l?o?await h.json():await h.text():null}}catch(u){throw new Error("".concat(u.message??u))}finally{clearTimeout(f)}});q(this,"openURL",r=>{let n=!1;if(this._dos.main.getPassThru()||this._dos.main.setPassThru(!0),typeof r=="string"&&r.length)try{r=new URL(r).href,Hb.openExternal(r),n=!0}catch{}return n});q(this,"logError",(r,n="")=>{let i=!1,s=wU.getPathConfig();tr.existsSync(s)||tr.mkdirSync(s,{recursive:!0});let o=Gb.join(s,"errors.yaml");try{let a={[new Date]:"".concat(r?.stack??r).concat(n?"\n".concat(n):"").trim()};tr.writeFileSync(o,yU(a)+"\n",{flag:"a",encoding:"utf8"}),i=!0}catch{}return i});this._register("device")}async killPort(r,n="tcp"){return r=parseInt(r,10),!Number.isInteger(r)||r<0||r>65535?!1:(["tcp","udp"].includes(n)||(n="tcp"),process.platform==="win32"?ae(this,qr,ls).call(this,"netstat -nao").then(i=>{if(!i?.stdout)return!1;let s=new RegExp("^ *".concat(n.toUpperCase()," *[^ ]*:").concat(r,"[^d]"),"gm"),o=i.stdout.split("\n").filter(a=>a.match(s)).reduce((a,l)=>{let c=l.match(/(\d*)\w*(\n|$)/gm);return c&&c[0]&&!a.includes(c[0])?a.concat(c[0]):a},[]);return o.length?ae(this,qr,ls).call(this,"TaskKill /F /PID ".concat(o.join(" /PID "))):!1}):ae(this,qr,ls).call(this,"lsof -i -P").then(i=>{if(!i?.stdout)return!1;let s=new RegExp(":".concat(r,"[^d]"),"g");return i.stdout.split("\n").filter(o=>o.match(s)).length===0?!1:ae(this,qr,ls).call(this,"lsof -i ".concat(n==="udp"?"udp":"tcp",":").concat(r," | grep ").concat(n==="udp"?"UDP":"LISTEN"," | awk '{print $2}' | xargs kill -9"))}))}},In=new WeakMap,Pn=new WeakMap,Dn=new WeakMap,rr=new WeakMap,qr=new WeakSet,ls=async function(r,n={}){let i=Array.isArray(r)?r.join(";"):r;(typeof n!="object"||n===null)&&(n={});let s={...n,stdio:"pipe",cwd:process.cwd()},{platform:o}=process;try{let c=gU(o==="win32"?"cmd":"sh",[o==="win32"?"/C":"-c",i],s);return new Promise(f=>{let u=[],h=[];c.stdout&&c.stdout.on("data",w=>{if(Buffer.isBuffer(w))return u.push(w.toString());u.push(w)}),c.stderr&&c.stderr.on("data",w=>{if(Buffer.isBuffer(w))return h.push(w.toString());h.push(JSON.stringify(w))});let p=()=>{let w=h.join("\n");return{stdout:u.join("\n"),stderr:w,cmd:i}};c.on("error",w=>f({...p(),error:w})),c.on("close",w=>f({...p(),code:w}))})}catch(a){return Promise.reject(a)}},Wb)});var Jb=y((O3,Xb)=>{var{session:EU,ipcMain:vU,WebContentsView:Oh}=require("electron"),bU=require("path"),Qb=Rn(),SU=Ni(),za,zb;Xb.exports=(zb=class extends SU{constructor(r){super(r);q(this,"windowWidth");q(this,"windowHeight");q(this,"view",null);q(this,"darkMode",!0);H(this,za,()=>this.view instanceof Oh?(this.view.setBounds({x:0,y:0,width:this.windowWidth,height:this.windowHeight}),!0):!1);q(this,"init",()=>this.view instanceof Oh?!1:(this.windowWidth=this._dos.config.getMainLoginWidth(),this.windowHeight=this._dos.config.getMainLoginHeight(),this.view=new Oh({width:this.windowWidth,height:this.windowHeight,backgroundColor:"#00000000",resizable:!1,webPreferences:{transparent:!0,backgroundThrottling:!1,imageAnimationPolicy:"noAnimation",spellcheck:!1,preload:bU.join(this._dos.rootPath,"lib/preloader/entry/main.js"),nodeIntegration:!0,devTools:!1,session:EU.defaultSession,cache:!1,webSecurity:!1,allowRunningInsecureContent:!0,additionalArguments:["--win-type=main/login"]}}),this.view.webContents.setBackgroundThrottling(!1),this.view.webContents.on("ready-to-show",()=>this.view.webContents.setZoomFactor(1)),this.view.webContents.setZoomLevel(0),this.view.webContents.setAudioMuted(!1),this.view.webContents.loadURL("http://localhost:".concat(this._dos.config.getSsgPort(),"/login/")),this.view.webContents.on("dom-ready",()=>this.view.webContents.focus()),vU.on(Qb.WINDOW_MAIN_LOGIN,(r,...n)=>{n.length>=3&&this.view.webContents?.send(Qb.WINDOW_MAIN_LOGIN,n)}),this._dos.mainLoginWindow().contentView.addChildView(this.view),_(this,za).call(this),!0));q(this,"focus",()=>{let r=typeof this.view?.webContents?.focus=="function";return r&&!this.view?.webContents?.isFocused()&&this.view?.webContents?.focus(),r});this._register("main/login")}},za=new WeakMap,zb)});var nS=y((D3,rS)=>{var{app:Zb,screen:Ih,session:_U,ipcMain:CU,WebContentsView:eS,nativeTheme:TU,desktopCapturer:NU}=require("electron"),OU=require("path"),Ph=Rn(),IU=Jb(),PU=Ni(),cs,_t,Lr,Xa,nr,et,ht,qn,us,fs,tS;rS.exports=(tS=class extends PU{constructor(r){super(r);H(this,cs,null);H(this,_t,!1);H(this,Lr,!0);H(this,Xa,!1);H(this,nr,null);H(this,et,{x:0,y:0,width:1,height:1});H(this,ht,{x:0,y:0,width:1,height:1});q(this,"view",null);q(this,"login",null);H(this,qn,(r,n)=>{this._dos.main?.view.webContents?.send(Ph.WINDOW_MAIN,[r,n,{type:"req"}])});H(this,us,(r,n=!1)=>{let i=!1;do{if(!Number.isInteger(r?.id)||!Number.isInteger(r?.workArea.x)||!Number.isInteger(r?.workArea.y))break;let s=Ih.getAllDisplays()||[];s.sort((a,l)=>a.workArea.x-l.workArea.x);let o=s.findIndex(a=>a.id===r.id);if(setTimeout(()=>{_(this,qn).call(this,"ipc:main:active-display",[{id:r.id,workArea:r.workArea,index:o,total:s.length,onPassThru:n,passThru:_(this,_t)}])},50),_(this,nr)===r.id&&_(this,et).x===r.workArea.x&&_(this,et).y===r.workArea.y&&_(this,et).width===r.workArea.width&&_(this,et).height===r.workArea.height)break;V(this,nr,r.id),V(this,et,r.workArea),V(this,ht,r.bounds),this._dos.mainWindow().setBounds({x:r.workArea.x+1,y:r.workArea.y+1,width:r.workArea.width-2,height:r.workArea.height-2}),this._dos.main.view.setBounds(this._dos.mainWindow().contentView.getBounds()),i=!0}while(!1);return i});H(this,fs,r=>{this._dos.getPostAuth()&&(_(this,_t)||(Zb.focus({steal:!0}),setTimeout(()=>this._dos.mainWindow().focus(),100),setTimeout(()=>this.focus(),200)))});q(this,"refreshDisplay",(r=!1)=>{this._dos.activity.refreshTray();let n=this._dos.mainWindow()?.getBounds()??{x:1,y:1,width:1,height:1};return _(this,us).call(this,Ih.getDisplayMatching(n),r)});q(this,"switchDisplay",(r=!0)=>{let n=Ih.getAllDisplays();if(!Array.isArray(n)||n.length<1||!Number.isInteger(n[0]?.workArea.x))return!1;n.sort((o,a)=>o.workArea.x-a.workArea.x);let s=(Number.isInteger(_(this,nr))?n.findIndex(o=>o.id===_(this,nr)):-1)+(r?1:-1);return s<0&&(s=n.length-1),s>=n.length&&(s=0),_(this,us).call(this,n[s])});q(this,"init",()=>this.view instanceof eS?!1:(this.view=new eS({resizable:!1,backgroundColor:"#00000000",webPreferences:{transparent:!0,preload:OU.join(this._dos.rootPath,"lib/preloader/entry/main.js"),imageAnimationPolicy:"noAnimation",allowRunningInsecureContent:!0,session:_U.defaultSession,devTools:!1,backgroundThrottling:!1,nodeIntegration:!0,webSecurity:!1,spellcheck:!1,cache:!1}}),this.view.webContents.setBackgroundThrottling(!1),this.view.webContents.on("ready-to-show",()=>{this.view.webContents.setZoomFactor(1),this.view.webContents.setVisualZoomLevelLimits(1,1)}),this.view.webContents.setZoomLevel(0),this.view.webContents.setAudioMuted(!1),this.view.webContents.loadURL("http://localhost:".concat(this._dos.config.getSsgPort(),"/")),this.view.webContents.on("dom-ready",()=>{_(this,fs).call(this,"dom-ready")}),this.view.webContents.on("page-title-updated",(r,n)=>{this._dos.mainWindow().setTitle(n)}),CU.on(Ph.WINDOW_MAIN,(r,...n)=>{n.length>=3&&this.view.webContents?.send(Ph.WINDOW_MAIN,n)}),this._dos.mainWindow().contentView.addChildView(this.view),!0));q(this,"focus",()=>{let r=typeof this.view?.webContents?.focus=="function";return r&&this.view?.webContents?.focus(),r});q(this,"grabScreenshot",async()=>{let r={data:[],width:0,height:0},i=(await NU.getSources({types:["screen"],thumbnailSize:_(this,ht)})).find(c=>{if("".concat(c.display_id)==="".concat(_(this,nr)))return!0;let f=c.thumbnail.getSize();return f.width===_(this,ht).width&&f.height===_(this,ht).height});if(!i?.thumbnail)return r;r.width=_(this,et).width,r.height=_(this,et).height,r.data=new Uint8ClampedArray(r.width*r.height*4);let s=_(this,et).x-_(this,ht).x,o=_(this,et).y-_(this,ht).y,a=new Uint8ClampedArray(i.thumbnail.toBitmap().buffer),l=0;for(let c=0;c<r.height;c++){let f=(o+c)*_(this,ht).width*4,u=s*4,h=f+u;for(let p=0;p<r.width;p++)r.data[l+0]=a[h+2],r.data[l+1]=a[h+1],r.data[l+2]=a[h+0],r.data[l+3]=a[h+3],h+=4,l+=4}return r});q(this,"quit",()=>Zb.quit());q(this,"getProcessVersions",()=>process.versions);q(this,"getDevTools",()=>_(this,Xa));q(this,"getDarkMode",()=>_(this,cs));q(this,"setDarkMode",r=>{let n=!1;return r=!!r,this.getDarkMode()!==r&&(V(this,cs,r),TU.themeSource=r?"dark":"light",n=!0),n});q(this,"getPassThru",()=>_(this,_t));q(this,"setPassThru",(r=!0)=>{r=!!r;let n=_(this,_t)!==r;return V(this,_t,r),_(this,_t)?(this._dos.mainWindow().setIgnoreMouseEvents(!0,{forward:!0}),setTimeout(()=>this._dos.mainWindow().blur(),100)):(this._dos.mainWindow().setIgnoreMouseEvents(!1),_(this,fs).call(this,"pass-thru")),this.refreshDisplay(!0),n});q(this,"getToolbar",()=>_(this,Lr));q(this,"setToolbar",r=>{r=!!r;let n=_(this,Lr)!==r;return V(this,Lr,r),_(this,qn).call(this,"ipc:main:toolbar",[_(this,Lr)]),this._dos.activity.refreshTray(),n});q(this,"showDialog",r=>typeof r!="string"||!r.length?!1:(this.setPassThru(!1),_(this,qn).call(this,"ipc:main:dialog",[r]),!0));this._register("main"),this.login=new IU(r)}},cs=new WeakMap,_t=new WeakMap,Lr=new WeakMap,Xa=new WeakMap,nr=new WeakMap,et=new WeakMap,ht=new WeakMap,qn=new WeakMap,us=new WeakMap,fs=new WeakMap,tS)});var uS=y((x3,cS)=>{var{app:Ja,session:Za,BrowserWindow:iS,powerSaveBlocker:sS}=require("electron"),oS=require("path"),aS=Rn(),DU=$h(),qU=Wh(),LU=Kh(),xU=zh(),RU=eE(),kU=Kb(),FU=nS(),Dh=Fr(),ne,Ln,xn,tt,lS;cS.exports=(lS=class{constructor(){H(this,ne,null);H(this,Ln,null);H(this,xn,!1);H(this,tt,null);q(this,"rootPath",Ja.getAppPath());q(this,"devMode",!1);q(this,"log",new LU(this));q(this,"webserver",new DU(this));q(this,"activity",new qU(this));q(this,"updater",new RU(this));q(this,"device",new kU(this));q(this,"main",new FU(this));q(this,"config",new xU(this))}mainWindow(){let t=this;if(Za.defaultSession.setPermissionCheckHandler((r,n,i,s)=>!0),Za.defaultSession.setPermissionRequestHandler((r,n,i,s)=>{i(!0)}),_(t,ne)===null){V(t,ne,new iS({icon:oS.join(t.rootPath,"res/icons/icon.png"),width:512,height:512,minWidth:512,minHeight:512,show:!1,frame:!1,resizable:!1,hasShadow:!1,alwaysOnTop:!0,transparent:!0,skipTaskbar:!0,type:Dh.WINDOWS===process.platform?"toolbar":Dh.MACOS===process.platform?"panel":"splash",backgroundColor:"#00000000",webPreferences:{backgroundThrottling:!1,spellcheck:!1,nodeIntegration:!0,session:Za.defaultSession}})),_(t,ne).webContents.setBackgroundThrottling(!1),_(t,ne).setAlwaysOnTop(!0,Dh.WINDOWS===process.platform?"screen-saver":"status"),Ja.on("browser-window-blur",()=>{_(t,xn)&&(t.main?.getDevTools()||!_(t,ne)||_(t,ne)?.isDestroyed()||typeof _(t,ne)?.moveTop=="function"&&(this.devMode&&console.log("\u{1F51D} Main window on top"),_(t,ne).moveTop()))}),_(t,ne).setMaxListeners(0),_(t,ne).on("closed",()=>{V(t,ne,null),_(t,Ln)!==null&&sS.stop(_(t,Ln)),Ja.quit()});let r=()=>{t.main.view.setBounds(_(t,ne).contentView.getBounds())};_(t,ne).on("resize",()=>r()),_(t,ne).once("ready-to-show",()=>r()),_(t,ne).setMovable(!1),_(t,ne).setResizable(!1),_(t,ne).setMaximizable(!1),_(t,ne).setMinimizable(!1),t.main.init(),t.main.view.webContents.on("did-finish-load",()=>{t.getPostAuth()&&_(t,ne).show(),r()}),_(t,ne).setMenu(null),V(t,Ln,sS.start("prevent-app-suspension")),_(t,ne).hide()}return _(t,ne)}mainLoginWindow(){let t=this;return _(t,tt)===null&&(V(t,tt,new iS({width:t.config.getMainLoginWidth(),height:t.config.getMainLoginHeight(),icon:oS.join(t.rootPath,"res/icons/icon.png"),resizable:!1,fullscreenable:!1,transparent:!0,titleBarStyle:"hidden",title:"Draw on Screen",backgroundColor:"#00000000",webPreferences:{backgroundThrottling:!1,spellcheck:!1,nodeIntegration:!0,session:Za.defaultSession}})),_(t,tt).webContents.setBackgroundThrottling(!1),_(t,tt).setMaxListeners(0),_(t,tt).on("closed",()=>{V(t,tt,null),Ja.quit()}),t.main?.login?.init(),t.main?.login?.view.webContents.on("did-finish-load",()=>{t.getPostAuth()||_(t,tt).show()}),_(t,tt).setMenu(null)),_(t,tt)}getPostAuth(){return _(this,xn)}setPostAuth(t){let r=!1;if(t=!!t,t!==this.getPostAuth()){V(this,xn,t);let n=["ipc:dos:auth",[t],{type:"req",fromWin:aS.WINDOW_MAIN_LOGIN}];this.main?.login?.view.webContents?.send(aS.WINDOW_MAIN_LOGIN,n),t?(this.mainLoginWindow().hide(),this.mainWindow().show(),this.main.view.webContents.reload(),this.main.setPassThru(!1)):(this.mainLoginWindow().show(),setTimeout(()=>this.main?.login?.view.webContents?.focus(),100),setTimeout(()=>this.mainLoginWindow().focus(),200),this.main.setPassThru(!0),this.mainWindow().hide()),r=!0}return r}},ne=new WeakMap,Ln=new WeakMap,xn=new WeakMap,tt=new WeakMap,lS)});var{app:Ve,BrowserWindow:UU,globalShortcut:MU}=require("electron"),$U=uS();Ve.commandLine.appendSwitch("disable-backgrounding-occluded-windows");Ve.commandLine.appendSwitch("disable-background-timer-throttling");Ve.commandLine.appendSwitch("disable-renderer-backgrounding");Ve.commandLine.appendSwitch("allow-insecure-localhost");Ve.commandLine.appendSwitch("disable-raf-throttling");process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true";var Ke=null;do{if(!Ve.requestSingleInstanceLock()){Ve.quit();break}Ve.setName("Draw on Screen"),Ve.on("second-instance",()=>{if(Ke!==null){let e=Ke.getPostAuth()?Ke.mainWindow():Ke.mainLoginWindow();e.isMinimized()&&(e.restore(),e.webContents?.invalidate()),e.show()}}),Ve.on("ready",async()=>{Ke=new $U,process.on("uncaughtException",e=>{Ke.devMode&&console.error(e),Ke.device.logError(e)}),process.on("unhandledRejection",e=>{Ke.devMode&&console.error(e),Ke.device.logError(e)}),Ve.on("activate",()=>{UU.getAllWindows().length===0&&Ke.activity.start()}),await Ke.webserver.start(),await Ke.activity.start(),await Ke.updater.start()}),Ve.on("window-all-closed",()=>{process.platform!=="darwin"&&Ve.quit()}),Ve.on("will-quit",()=>{MU.unregisterAll()})}while(!1);
