/*!
 * @architect Mark Jivko <mark@oglama.com>
 * @copyright © 2026 Oglama (https://oglama.com)
 * 
 * Licensed under the Oglama™ Source-Available License, Version 1.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 * 
 *     https://github.com/oglama/dos/blob/main/LICENSE.txt
 * 
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fS=Object.defineProperty;var xd=e=>{throw TypeError(e)};var dS=(e,t,r)=>t in e?fS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var y=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var q=(e,t,r)=>dS(e,typeof t!="symbol"?t+"":t,r),Ja=(e,t,r)=>t.has(e)||xd("Cannot "+r);var T=(e,t,r)=>(Ja(e,t,"read from private field"),r?r.call(e):t.get(e)),V=(e,t,r)=>t.has(e)?xd("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),H=(e,t,r,n)=>(Ja(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),oe=(e,t,r)=>(Ja(e,t,"access private method"),r);var Ln=y((MU,Rd)=>{var us;Rd.exports=(us=class{static generateKey(){return"".concat(Date.now().toString(36)).concat(Math.random().toString(36).substring(2,13))}},q(us,"WINDOW_MAIN_LOGIN","@main/login"),q(us,"WINDOW_MAIN","@main"),us)});var xr=y((jU,kd)=>{kd.exports=class{constructor(t){q(this,"_dos");this._dos=t}}});var Ud=y((GU,Fd)=>{var Rr=require("path"),hS=require("http"),xn=require("fs"),pS=xr(),Za;Fd.exports=(Za=class extends pS{async start(){if(this.constructor._servers===null){let t=Rr.join(this._dos.rootPath,"ssg");this.constructor._servers={ssg:new Promise((r,n)=>{try{let i=hS.createServer((s,o)=>{let a=".empty";try{let f=new URL(s.url,"http://0.0.0.0");a=Rr.resolve(decodeURIComponent(f.pathname)).replace(/^[a-z]:/gi,"")}catch{}let l=Rr.join(t,a),c=200;xn.existsSync(l)&&xn.statSync(l).isDirectory()&&(l=Rr.join(l,"index.html")),xn.existsSync(l)||(l=Rr.join(t,"404/index.html"),c=404),o.writeHead(c,{"Content-Length":xn.statSync(l).size,"Content-Type":{".js":"application/javascript",".json":"application/json",".woff2":"font/woff2",".html":"text/html",".txt":"text/plain",".css":"text/css",".ico":"image/x-icon",".jpeg":"image/jpeg",".jpg":"image/jpeg",".png":"image/png",".gif":"image/gif",".svg":"image/svg+xml"}[Rr.extname(l)]||"application/octet-stream"}),xn.createReadStream(l).pipe(o)});i.listen(this._dos.config.getSsgPort(),()=>{this._dos.log.info("ssg-server:start","Listening on port ".concat(this._dos.config.getSsgPort())),r(i)})}catch(i){this._dos.log.error("ssg-server:start",i),n(i)}})}}return this.constructor._servers}},q(Za,"_servers",null),Za)});var kr=y((KU,Md)=>{var Rn;Md.exports=(Rn=class{},q(Rn,"WINDOWS","win32"),q(Rn,"MACOS","darwin"),q(Rn,"LINUX","linux"),Rn)});var Vd=y((XU,Hd)=>{var{app:mS,screen:fs,Tray:gS,Menu:yS,globalShortcut:AS}=require("electron"),$d=require("path"),ds=kr(),wS=xr(),Bd="CommandOrControl+Shift+Backspace",St,jd;Hd.exports=(jd=class extends wS{constructor(r){super(r);q(this,"_showMessageBox",null);V(this,St,null);fs.on("display-added",()=>{this._dos.main.refreshDisplay()}),fs.on("display-removed",()=>{this._dos.main.refreshDisplay()}),fs.on("display-metrics-changed",()=>{this._dos.main.refreshDisplay()}),H(this,St,new gS($d.join(this._dos.rootPath,"res","icons",ds.MACOS===process.platform?"iconTemplate@2x.png":ds.WINDOWS===process.platform?"icon.ico":"icon.png"))),T(this,St).setToolTip("Draw on Screen"),T(this,St).on("click",()=>{T(this,St).popUpContextMenu()}),AS.register(Bd,()=>{this._dos.main.setPassThru(!this._dos.main.getPassThru())})}refreshTray(){let r=[];r.push({label:"Pass-through".concat(ds.LINUX===process.platform?"	(Ctrl+Shift+\u232B)":""),type:"checkbox",checked:this._dos.main.getPassThru(),accelerator:ds.LINUX===process.platform?null:Bd,click:()=>this._dos.main.setPassThru(!this._dos.main.getPassThru())});let n=fs.getAllDisplays();r.push({label:Array.isArray(n)&&n.length>1?"Switch display":"Identify display",click:()=>this._dos.main.switchDisplay()}),r.push({label:"Toolbar",type:"checkbox",checked:this._dos.main.getToolbar(),click:()=>this._dos.main.setToolbar(!this._dos.main.getToolbar())}),r.push({type:"separator"}),r.push({label:"Quit",role:"quit",click:()=>mS.quit()}),T(this,St).setContextMenu(yS.buildFromTemplate(r))}async start(){let r=$d.join(this._dos.rootPath,"res","index.html"),n={extraHeaders:"pragma: no-cache"};this._dos.mainWindow().loadFile(r,n),this._dos.mainLoginWindow().loadFile(r,n),this._dos.mainWindow().hide(),this._dos.mainLoginWindow().show(),this._dos.main.refreshDisplay()}},St=new WeakMap,jd)});var Wd=y((eM,Gd)=>{var ES=xr();Gd.exports=class extends ES{error(){console.error("%cdos-error","color:red",...arguments)}info(){console.info("%cdos-info","color:lightblue",...arguments)}}});var Kd=y((rM,Yd)=>{var vS=xr();Yd.exports=class extends vS{getMainLoginWidth(){return 512}getMainLoginHeight(){return 512}getSsgPort(){return 7199}}});var ke=y(el=>{"use strict";el.fromCallback=function(e){return Object.defineProperty(function(...t){if(typeof t[t.length-1]=="function")e.apply(this,t);else return new Promise((r,n)=>{t.push((i,s)=>i!=null?n(i):r(s)),e.apply(this,t)})},"name",{value:e.name})};el.fromPromise=function(e){return Object.defineProperty(function(...t){let r=t[t.length-1];if(typeof r!="function")return e.apply(this,t);t.pop(),e.apply(this,t).then(n=>r(null,n),r)},"name",{value:e.name})}});var zd=y((iM,Qd)=>{var _t=require("constants"),bS=process.cwd,hs=null,SS=process.env.GRACEFUL_FS_PLATFORM||process.platform;process.cwd=function(){return hs||(hs=bS.call(process)),hs};try{process.cwd()}catch{}typeof process.chdir=="function"&&(tl=process.chdir,process.chdir=function(e){hs=null,tl.call(process,e)},Object.setPrototypeOf&&Object.setPrototypeOf(process.chdir,tl));var tl;Qd.exports=_S;function _S(e){_t.hasOwnProperty("O_SYMLINK")&&process.version.match(/^v0\.6\.[0-2]|^v0\.5\./)&&t(e),e.lutimes||r(e),e.chown=s(e.chown),e.fchown=s(e.fchown),e.lchown=s(e.lchown),e.chmod=n(e.chmod),e.fchmod=n(e.fchmod),e.lchmod=n(e.lchmod),e.chownSync=o(e.chownSync),e.fchownSync=o(e.fchownSync),e.lchownSync=o(e.lchownSync),e.chmodSync=i(e.chmodSync),e.fchmodSync=i(e.fchmodSync),e.lchmodSync=i(e.lchmodSync),e.stat=a(e.stat),e.fstat=a(e.fstat),e.lstat=a(e.lstat),e.statSync=l(e.statSync),e.fstatSync=l(e.fstatSync),e.lstatSync=l(e.lstatSync),e.chmod&&!e.lchmod&&(e.lchmod=function(f,u,d){d&&process.nextTick(d)},e.lchmodSync=function(){}),e.chown&&!e.lchown&&(e.lchown=function(f,u,d,p){p&&process.nextTick(p)},e.lchownSync=function(){}),SS==="win32"&&(e.rename=typeof e.rename!="function"?e.rename:(function(f){function u(d,p,w){var g=Date.now(),E=0;f(d,p,function S(b){if(b&&(b.code==="EACCES"||b.code==="EPERM"||b.code==="EBUSY")&&Date.now()-g<6e4){setTimeout(function(){e.stat(p,function(C,N){C&&C.code==="ENOENT"?f(d,p,S):w(b)})},E),E<100&&(E+=10);return}w&&w(b)})}return Object.setPrototypeOf&&Object.setPrototypeOf(u,f),u})(e.rename)),e.read=typeof e.read!="function"?e.read:(function(f){function u(d,p,w,g,E,S){var b;if(S&&typeof S=="function"){var C=0;b=function(N,R,I){if(N&&N.code==="EAGAIN"&&C<10)return C++,f.call(e,d,p,w,g,E,b);S.apply(this,arguments)}}return f.call(e,d,p,w,g,E,b)}return Object.setPrototypeOf&&Object.setPrototypeOf(u,f),u})(e.read),e.readSync=typeof e.readSync!="function"?e.readSync:(function(f){return function(u,d,p,w,g){for(var E=0;;)try{return f.call(e,u,d,p,w,g)}catch(S){if(S.code==="EAGAIN"&&E<10){E++;continue}throw S}}})(e.readSync);function t(f){f.lchmod=function(u,d,p){f.open(u,_t.O_WRONLY|_t.O_SYMLINK,d,function(w,g){if(w){p&&p(w);return}f.fchmod(g,d,function(E){f.close(g,function(S){p&&p(E||S)})})})},f.lchmodSync=function(u,d){var p=f.openSync(u,_t.O_WRONLY|_t.O_SYMLINK,d),w=!0,g;try{g=f.fchmodSync(p,d),w=!1}finally{if(w)try{f.closeSync(p)}catch{}else f.closeSync(p)}return g}}function r(f){_t.hasOwnProperty("O_SYMLINK")&&f.futimes?(f.lutimes=function(u,d,p,w){f.open(u,_t.O_SYMLINK,function(g,E){if(g){w&&w(g);return}f.futimes(E,d,p,function(S){f.close(E,function(b){w&&w(S||b)})})})},f.lutimesSync=function(u,d,p){var w=f.openSync(u,_t.O_SYMLINK),g,E=!0;try{g=f.futimesSync(w,d,p),E=!1}finally{if(E)try{f.closeSync(w)}catch{}else f.closeSync(w)}return g}):f.futimes&&(f.lutimes=function(u,d,p,w){w&&process.nextTick(w)},f.lutimesSync=function(){})}function n(f){return f&&function(u,d,p){return f.call(e,u,d,function(w){c(w)&&(w=null),p&&p.apply(this,arguments)})}}function i(f){return f&&function(u,d){try{return f.call(e,u,d)}catch(p){if(!c(p))throw p}}}function s(f){return f&&function(u,d,p,w){return f.call(e,u,d,p,function(g){c(g)&&(g=null),w&&w.apply(this,arguments)})}}function o(f){return f&&function(u,d,p){try{return f.call(e,u,d,p)}catch(w){if(!c(w))throw w}}}function a(f){return f&&function(u,d,p){typeof d=="function"&&(p=d,d=null);function w(g,E){E&&(E.uid<0&&(E.uid+=4294967296),E.gid<0&&(E.gid+=4294967296)),p&&p.apply(this,arguments)}return d?f.call(e,u,d,w):f.call(e,u,w)}}function l(f){return f&&function(u,d){var p=d?f.call(e,u,d):f.call(e,u);return p&&(p.uid<0&&(p.uid+=4294967296),p.gid<0&&(p.gid+=4294967296)),p}}function c(f){if(!f||f.code==="ENOSYS")return!0;var u=!process.getuid||process.getuid()!==0;return!!(u&&(f.code==="EINVAL"||f.code==="EPERM"))}}});var Zd=y((sM,Jd)=>{var Xd=require("stream").Stream;Jd.exports=CS;function CS(e){return{ReadStream:t,WriteStream:r};function t(n,i){if(!(this instanceof t))return new t(n,i);Xd.call(this);var s=this;this.path=n,this.fd=null,this.readable=!0,this.paused=!1,this.flags="r",this.mode=438,this.bufferSize=64*1024,i=i||{};for(var o=Object.keys(i),a=0,l=o.length;a<l;a++){var c=o[a];this[c]=i[c]}if(this.encoding&&this.setEncoding(this.encoding),this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.end===void 0)this.end=1/0;else if(typeof this.end!="number")throw TypeError("end must be a Number");if(this.start>this.end)throw new Error("start must be <= end");this.pos=this.start}if(this.fd!==null){process.nextTick(function(){s._read()});return}e.open(this.path,this.flags,this.mode,function(f,u){if(f){s.emit("error",f),s.readable=!1;return}s.fd=u,s.emit("open",u),s._read()})}function r(n,i){if(!(this instanceof r))return new r(n,i);Xd.call(this),this.path=n,this.fd=null,this.writable=!0,this.flags="w",this.encoding="binary",this.mode=438,this.bytesWritten=0,i=i||{};for(var s=Object.keys(i),o=0,a=s.length;o<a;o++){var l=s[o];this[l]=i[l]}if(this.start!==void 0){if(typeof this.start!="number")throw TypeError("start must be a Number");if(this.start<0)throw new Error("start must be >= zero");this.pos=this.start}this.busy=!1,this._queue=[],this.fd===null&&(this._open=e.open,this._queue.push([this._open,this.path,this.flags,this.mode,void 0]),this.flush())}}});var th=y((oM,eh)=>{"use strict";eh.exports=NS;var TS=Object.getPrototypeOf||function(e){return e.__proto__};function NS(e){if(e===null||typeof e!="object")return e;if(e instanceof Object)var t={__proto__:TS(e)};else var t=Object.create(null);return Object.getOwnPropertyNames(e).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}),t}});var Ne=y((aM,il)=>{var se=require("fs"),OS=zd(),IS=Zd(),PS=th(),ps=require("util"),we,gs;typeof Symbol=="function"&&typeof Symbol.for=="function"?(we=Symbol.for("graceful-fs.queue"),gs=Symbol.for("graceful-fs.previous")):(we="___graceful-fs.queue",gs="___graceful-fs.previous");function DS(){}function ih(e,t){Object.defineProperty(e,we,{get:function(){return t}})}var rr=DS;ps.debuglog?rr=ps.debuglog("gfs4"):/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&(rr=function(){var e=ps.format.apply(ps,arguments);e="GFS4: "+e.split(/\n/).join("\nGFS4: "),console.error(e)});se[we]||(rh=global[we]||[],ih(se,rh),se.close=(function(e){function t(r,n){return e.call(se,r,function(i){i||nh(),typeof n=="function"&&n.apply(this,arguments)})}return Object.defineProperty(t,gs,{value:e}),t})(se.close),se.closeSync=(function(e){function t(r){e.apply(se,arguments),nh()}return Object.defineProperty(t,gs,{value:e}),t})(se.closeSync),/\bgfs4\b/i.test(process.env.NODE_DEBUG||"")&&process.on("exit",function(){rr(se[we]),require("assert").equal(se[we].length,0)}));var rh;global[we]||ih(global,se[we]);il.exports=rl(PS(se));process.env.TEST_GRACEFUL_FS_GLOBAL_PATCH&&!se.__patched&&(il.exports=rl(se),se.__patched=!0);function rl(e){OS(e),e.gracefulify=rl,e.createReadStream=R,e.createWriteStream=I;var t=e.readFile;e.readFile=r;function r(O,$,x){return typeof $=="function"&&(x=$,$=null),B(O,$,x);function B(ie,ne,Z,U){return t(ie,ne,function(Q){Q&&(Q.code==="EMFILE"||Q.code==="ENFILE")?Fr([B,[ie,ne,Z],Q,U||Date.now(),Date.now()]):typeof Z=="function"&&Z.apply(this,arguments)})}}var n=e.writeFile;e.writeFile=i;function i(O,$,x,B){return typeof x=="function"&&(B=x,x=null),ie(O,$,x,B);function ie(ne,Z,U,Q,ae){return n(ne,Z,U,function(z){z&&(z.code==="EMFILE"||z.code==="ENFILE")?Fr([ie,[ne,Z,U,Q],z,ae||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var s=e.appendFile;s&&(e.appendFile=o);function o(O,$,x,B){return typeof x=="function"&&(B=x,x=null),ie(O,$,x,B);function ie(ne,Z,U,Q,ae){return s(ne,Z,U,function(z){z&&(z.code==="EMFILE"||z.code==="ENFILE")?Fr([ie,[ne,Z,U,Q],z,ae||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var a=e.copyFile;a&&(e.copyFile=l);function l(O,$,x,B){return typeof x=="function"&&(B=x,x=0),ie(O,$,x,B);function ie(ne,Z,U,Q,ae){return a(ne,Z,U,function(z){z&&(z.code==="EMFILE"||z.code==="ENFILE")?Fr([ie,[ne,Z,U,Q],z,ae||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}var c=e.readdir;e.readdir=u;var f=/^v[0-5]\./;function u(O,$,x){typeof $=="function"&&(x=$,$=null);var B=f.test(process.version)?function(Z,U,Q,ae){return c(Z,ie(Z,U,Q,ae))}:function(Z,U,Q,ae){return c(Z,U,ie(Z,U,Q,ae))};return B(O,$,x);function ie(ne,Z,U,Q){return function(ae,z){ae&&(ae.code==="EMFILE"||ae.code==="ENFILE")?Fr([B,[ne,Z,U],ae,Q||Date.now(),Date.now()]):(z&&z.sort&&z.sort(),typeof U=="function"&&U.call(this,ae,z))}}}if(process.version.substr(0,4)==="v0.8"){var d=IS(e);S=d.ReadStream,C=d.WriteStream}var p=e.ReadStream;p&&(S.prototype=Object.create(p.prototype),S.prototype.open=b);var w=e.WriteStream;w&&(C.prototype=Object.create(w.prototype),C.prototype.open=N),Object.defineProperty(e,"ReadStream",{get:function(){return S},set:function(O){S=O},enumerable:!0,configurable:!0}),Object.defineProperty(e,"WriteStream",{get:function(){return C},set:function(O){C=O},enumerable:!0,configurable:!0});var g=S;Object.defineProperty(e,"FileReadStream",{get:function(){return g},set:function(O){g=O},enumerable:!0,configurable:!0});var E=C;Object.defineProperty(e,"FileWriteStream",{get:function(){return E},set:function(O){E=O},enumerable:!0,configurable:!0});function S(O,$){return this instanceof S?(p.apply(this,arguments),this):S.apply(Object.create(S.prototype),arguments)}function b(){var O=this;A(O.path,O.flags,O.mode,function($,x){$?(O.autoClose&&O.destroy(),O.emit("error",$)):(O.fd=x,O.emit("open",x),O.read())})}function C(O,$){return this instanceof C?(w.apply(this,arguments),this):C.apply(Object.create(C.prototype),arguments)}function N(){var O=this;A(O.path,O.flags,O.mode,function($,x){$?(O.destroy(),O.emit("error",$)):(O.fd=x,O.emit("open",x))})}function R(O,$){return new e.ReadStream(O,$)}function I(O,$){return new e.WriteStream(O,$)}var M=e.open;e.open=A;function A(O,$,x,B){return typeof x=="function"&&(B=x,x=null),ie(O,$,x,B);function ie(ne,Z,U,Q,ae){return M(ne,Z,U,function(z,bt){z&&(z.code==="EMFILE"||z.code==="ENFILE")?Fr([ie,[ne,Z,U,Q],z,ae||Date.now(),Date.now()]):typeof Q=="function"&&Q.apply(this,arguments)})}}return e}function Fr(e){rr("ENQUEUE",e[0].name,e[1]),se[we].push(e),nl()}var ms;function nh(){for(var e=Date.now(),t=0;t<se[we].length;++t)se[we][t].length>2&&(se[we][t][3]=e,se[we][t][4]=e);nl()}function nl(){if(clearTimeout(ms),ms=void 0,se[we].length!==0){var e=se[we].shift(),t=e[0],r=e[1],n=e[2],i=e[3],s=e[4];if(i===void 0)rr("RETRY",t.name,r),t.apply(null,r);else if(Date.now()-i>=6e4){rr("TIMEOUT",t.name,r);var o=r.pop();typeof o=="function"&&o.call(null,n)}else{var a=Date.now()-s,l=Math.max(s-i,1),c=Math.min(l*1.2,100);a>=c?(rr("RETRY",t.name,r),t.apply(null,r.concat([i]))):se[we].push(e)}ms===void 0&&(ms=setTimeout(nl,0))}}});var nr=y(Ct=>{"use strict";var sh=ke().fromCallback,Fe=Ne(),qS=["access","appendFile","chmod","chown","close","copyFile","fchmod","fchown","fdatasync","fstat","fsync","ftruncate","futimes","lchmod","lchown","link","lstat","mkdir","mkdtemp","open","opendir","readdir","readFile","readlink","realpath","rename","rm","rmdir","stat","symlink","truncate","unlink","utimes","writeFile"].filter(e=>typeof Fe[e]=="function");Object.assign(Ct,Fe);qS.forEach(e=>{Ct[e]=sh(Fe[e])});Ct.exists=function(e,t){return typeof t=="function"?Fe.exists(e,t):new Promise(r=>Fe.exists(e,r))};Ct.read=function(e,t,r,n,i,s){return typeof s=="function"?Fe.read(e,t,r,n,i,s):new Promise((o,a)=>{Fe.read(e,t,r,n,i,(l,c,f)=>{if(l)return a(l);o({bytesRead:c,buffer:f})})})};Ct.write=function(e,t,...r){return typeof r[r.length-1]=="function"?Fe.write(e,t,...r):new Promise((n,i)=>{Fe.write(e,t,...r,(s,o,a)=>{if(s)return i(s);n({bytesWritten:o,buffer:a})})})};typeof Fe.writev=="function"&&(Ct.writev=function(e,t,...r){return typeof r[r.length-1]=="function"?Fe.writev(e,t,...r):new Promise((n,i)=>{Fe.writev(e,t,...r,(s,o,a)=>{if(s)return i(s);n({bytesWritten:o,buffers:a})})})});typeof Fe.realpath.native=="function"?Ct.realpath.native=sh(Fe.realpath.native):process.emitWarning("fs.realpath.native is not a function. Is fs being monkey-patched?","Warning","fs-extra-WARN0003")});var ah=y((cM,oh)=>{"use strict";var LS=require("path");oh.exports.checkPath=function(t){if(process.platform==="win32"&&/[<>:"|?*]/.test(t.replace(LS.parse(t).root,""))){let n=new Error("Path contains invalid characters: ".concat(t));throw n.code="EINVAL",n}}});var fh=y((uM,sl)=>{"use strict";var lh=nr(),{checkPath:ch}=ah(),uh=e=>{let t={mode:511};return typeof e=="number"?e:{...t,...e}.mode};sl.exports.makeDir=async(e,t)=>(ch(e),lh.mkdir(e,{mode:uh(t),recursive:!0}));sl.exports.makeDirSync=(e,t)=>(ch(e),lh.mkdirSync(e,{mode:uh(t),recursive:!0}))});var tt=y((fM,dh)=>{"use strict";var xS=ke().fromPromise,{makeDir:RS,makeDirSync:ol}=fh(),al=xS(RS);dh.exports={mkdirs:al,mkdirsSync:ol,mkdirp:al,mkdirpSync:ol,ensureDir:al,ensureDirSync:ol}});var Tt=y((dM,ph)=>{"use strict";var kS=ke().fromPromise,hh=nr();function FS(e){return hh.access(e).then(()=>!0).catch(()=>!1)}ph.exports={pathExists:kS(FS),pathExistsSync:hh.existsSync}});var ll=y((hM,mh)=>{"use strict";var Ur=Ne();function US(e,t,r,n){Ur.open(e,"r+",(i,s)=>{if(i)return n(i);Ur.futimes(s,t,r,o=>{Ur.close(s,a=>{n&&n(o||a)})})})}function MS(e,t,r){let n=Ur.openSync(e,"r+");return Ur.futimesSync(n,t,r),Ur.closeSync(n)}mh.exports={utimesMillis:US,utimesMillisSync:MS}});var ir=y((pM,Ah)=>{"use strict";var Mr=nr(),pe=require("path"),$S=require("util");function BS(e,t,r){let n=r.dereference?i=>Mr.stat(i,{bigint:!0}):i=>Mr.lstat(i,{bigint:!0});return Promise.all([n(e),n(t).catch(i=>{if(i.code==="ENOENT")return null;throw i})]).then(([i,s])=>({srcStat:i,destStat:s}))}function jS(e,t,r){let n,i=r.dereference?o=>Mr.statSync(o,{bigint:!0}):o=>Mr.lstatSync(o,{bigint:!0}),s=i(e);try{n=i(t)}catch(o){if(o.code==="ENOENT")return{srcStat:s,destStat:null};throw o}return{srcStat:s,destStat:n}}function HS(e,t,r,n,i){$S.callbackify(BS)(e,t,n,(s,o)=>{if(s)return i(s);let{srcStat:a,destStat:l}=o;if(l){if(kn(a,l)){let c=pe.basename(e),f=pe.basename(t);return r==="move"&&c!==f&&c.toLowerCase()===f.toLowerCase()?i(null,{srcStat:a,destStat:l,isChangingCase:!0}):i(new Error("Source and destination must not be the same."))}if(a.isDirectory()&&!l.isDirectory())return i(new Error("Cannot overwrite non-directory '".concat(t,"' with directory '").concat(e,"'.")));if(!a.isDirectory()&&l.isDirectory())return i(new Error("Cannot overwrite directory '".concat(t,"' with non-directory '").concat(e,"'.")))}return a.isDirectory()&&cl(e,t)?i(new Error(ys(e,t,r))):i(null,{srcStat:a,destStat:l})})}function VS(e,t,r,n){let{srcStat:i,destStat:s}=jS(e,t,n);if(s){if(kn(i,s)){let o=pe.basename(e),a=pe.basename(t);if(r==="move"&&o!==a&&o.toLowerCase()===a.toLowerCase())return{srcStat:i,destStat:s,isChangingCase:!0};throw new Error("Source and destination must not be the same.")}if(i.isDirectory()&&!s.isDirectory())throw new Error("Cannot overwrite non-directory '".concat(t,"' with directory '").concat(e,"'."));if(!i.isDirectory()&&s.isDirectory())throw new Error("Cannot overwrite directory '".concat(t,"' with non-directory '").concat(e,"'."))}if(i.isDirectory()&&cl(e,t))throw new Error(ys(e,t,r));return{srcStat:i,destStat:s}}function gh(e,t,r,n,i){let s=pe.resolve(pe.dirname(e)),o=pe.resolve(pe.dirname(r));if(o===s||o===pe.parse(o).root)return i();Mr.stat(o,{bigint:!0},(a,l)=>a?a.code==="ENOENT"?i():i(a):kn(t,l)?i(new Error(ys(e,r,n))):gh(e,t,o,n,i))}function yh(e,t,r,n){let i=pe.resolve(pe.dirname(e)),s=pe.resolve(pe.dirname(r));if(s===i||s===pe.parse(s).root)return;let o;try{o=Mr.statSync(s,{bigint:!0})}catch(a){if(a.code==="ENOENT")return;throw a}if(kn(t,o))throw new Error(ys(e,r,n));return yh(e,t,s,n)}function kn(e,t){return t.ino&&t.dev&&t.ino===e.ino&&t.dev===e.dev}function cl(e,t){let r=pe.resolve(e).split(pe.sep).filter(i=>i),n=pe.resolve(t).split(pe.sep).filter(i=>i);return r.reduce((i,s,o)=>i&&n[o]===s,!0)}function ys(e,t,r){return"Cannot ".concat(r," '").concat(e,"' to a subdirectory of itself, '").concat(t,"'.")}Ah.exports={checkPaths:HS,checkPathsSync:VS,checkParentPaths:gh,checkParentPathsSync:yh,isSrcSubdir:cl,areIdentical:kn}});var Th=y((mM,Ch)=>{"use strict";var Ue=Ne(),Fn=require("path"),GS=tt().mkdirs,WS=Tt().pathExists,YS=ll().utimesMillis,Un=ir();function KS(e,t,r,n){typeof r=="function"&&!n?(n=r,r={}):typeof r=="function"&&(r={filter:r}),n=n||function(){},r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n	see https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0001"),Un.checkPaths(e,t,"copy",r,(i,s)=>{if(i)return n(i);let{srcStat:o,destStat:a}=s;Un.checkParentPaths(e,o,t,"copy",l=>l?n(l):r.filter?vh(wh,a,e,t,r,n):wh(a,e,t,r,n))})}function wh(e,t,r,n,i){let s=Fn.dirname(r);WS(s,(o,a)=>{if(o)return i(o);if(a)return As(e,t,r,n,i);GS(s,l=>l?i(l):As(e,t,r,n,i))})}function vh(e,t,r,n,i,s){Promise.resolve(i.filter(r,n)).then(o=>o?e(t,r,n,i,s):s(),o=>s(o))}function QS(e,t,r,n,i){return n.filter?vh(As,e,t,r,n,i):As(e,t,r,n,i)}function As(e,t,r,n,i){(n.dereference?Ue.stat:Ue.lstat)(t,(o,a)=>o?i(o):a.isDirectory()?r_(a,e,t,r,n,i):a.isFile()||a.isCharacterDevice()||a.isBlockDevice()?zS(a,e,t,r,n,i):a.isSymbolicLink()?s_(e,t,r,n,i):a.isSocket()?i(new Error("Cannot copy a socket file: ".concat(t))):a.isFIFO()?i(new Error("Cannot copy a FIFO pipe: ".concat(t))):i(new Error("Unknown file: ".concat(t))))}function zS(e,t,r,n,i,s){return t?XS(e,r,n,i,s):bh(e,r,n,i,s)}function XS(e,t,r,n,i){if(n.overwrite)Ue.unlink(r,s=>s?i(s):bh(e,t,r,n,i));else return n.errorOnExist?i(new Error("'".concat(r,"' already exists"))):i()}function bh(e,t,r,n,i){Ue.copyFile(t,r,s=>s?i(s):n.preserveTimestamps?JS(e.mode,t,r,i):ws(r,e.mode,i))}function JS(e,t,r,n){return ZS(e)?e_(r,e,i=>i?n(i):Eh(e,t,r,n)):Eh(e,t,r,n)}function ZS(e){return(e&128)===0}function e_(e,t,r){return ws(e,t|128,r)}function Eh(e,t,r,n){t_(t,r,i=>i?n(i):ws(r,e,n))}function ws(e,t,r){return Ue.chmod(e,t,r)}function t_(e,t,r){Ue.stat(e,(n,i)=>n?r(n):YS(t,i.atime,i.mtime,r))}function r_(e,t,r,n,i,s){return t?Sh(r,n,i,s):n_(e.mode,r,n,i,s)}function n_(e,t,r,n,i){Ue.mkdir(r,s=>{if(s)return i(s);Sh(t,r,n,o=>o?i(o):ws(r,e,i))})}function Sh(e,t,r,n){Ue.readdir(e,(i,s)=>i?n(i):_h(s,e,t,r,n))}function _h(e,t,r,n,i){let s=e.pop();return s?i_(e,s,t,r,n,i):i()}function i_(e,t,r,n,i,s){let o=Fn.join(r,t),a=Fn.join(n,t);Un.checkPaths(o,a,"copy",i,(l,c)=>{if(l)return s(l);let{destStat:f}=c;QS(f,o,a,i,u=>u?s(u):_h(e,r,n,i,s))})}function s_(e,t,r,n,i){Ue.readlink(t,(s,o)=>{if(s)return i(s);if(n.dereference&&(o=Fn.resolve(process.cwd(),o)),e)Ue.readlink(r,(a,l)=>a?a.code==="EINVAL"||a.code==="UNKNOWN"?Ue.symlink(o,r,i):i(a):(n.dereference&&(l=Fn.resolve(process.cwd(),l)),Un.isSrcSubdir(o,l)?i(new Error("Cannot copy '".concat(o,"' to a subdirectory of itself, '").concat(l,"'."))):e.isDirectory()&&Un.isSrcSubdir(l,o)?i(new Error("Cannot overwrite '".concat(l,"' with '").concat(o,"'."))):o_(o,r,i)));else return Ue.symlink(o,r,i)})}function o_(e,t,r){Ue.unlink(t,n=>n?r(n):Ue.symlink(e,t,r))}Ch.exports=KS});var Dh=y((gM,Ph)=>{"use strict";var be=Ne(),Mn=require("path"),a_=tt().mkdirsSync,l_=ll().utimesMillisSync,$n=ir();function c_(e,t,r){typeof r=="function"&&(r={filter:r}),r=r||{},r.clobber="clobber"in r?!!r.clobber:!0,r.overwrite="overwrite"in r?!!r.overwrite:r.clobber,r.preserveTimestamps&&process.arch==="ia32"&&process.emitWarning("Using the preserveTimestamps option in 32-bit node is not recommended;\n\n	see https://github.com/jprichardson/node-fs-extra/issues/269","Warning","fs-extra-WARN0002");let{srcStat:n,destStat:i}=$n.checkPathsSync(e,t,"copy",r);return $n.checkParentPathsSync(e,n,t,"copy"),u_(i,e,t,r)}function u_(e,t,r,n){if(n.filter&&!n.filter(t,r))return;let i=Mn.dirname(r);return be.existsSync(i)||a_(i),Nh(e,t,r,n)}function f_(e,t,r,n){if(!(n.filter&&!n.filter(t,r)))return Nh(e,t,r,n)}function Nh(e,t,r,n){let s=(n.dereference?be.statSync:be.lstatSync)(t);if(s.isDirectory())return A_(s,e,t,r,n);if(s.isFile()||s.isCharacterDevice()||s.isBlockDevice())return d_(s,e,t,r,n);if(s.isSymbolicLink())return v_(e,t,r,n);throw s.isSocket()?new Error("Cannot copy a socket file: ".concat(t)):s.isFIFO()?new Error("Cannot copy a FIFO pipe: ".concat(t)):new Error("Unknown file: ".concat(t))}function d_(e,t,r,n,i){return t?h_(e,r,n,i):Oh(e,r,n,i)}function h_(e,t,r,n){if(n.overwrite)return be.unlinkSync(r),Oh(e,t,r,n);if(n.errorOnExist)throw new Error("'".concat(r,"' already exists"))}function Oh(e,t,r,n){return be.copyFileSync(t,r),n.preserveTimestamps&&p_(e.mode,t,r),ul(r,e.mode)}function p_(e,t,r){return m_(e)&&g_(r,e),y_(t,r)}function m_(e){return(e&128)===0}function g_(e,t){return ul(e,t|128)}function ul(e,t){return be.chmodSync(e,t)}function y_(e,t){let r=be.statSync(e);return l_(t,r.atime,r.mtime)}function A_(e,t,r,n,i){return t?Ih(r,n,i):w_(e.mode,r,n,i)}function w_(e,t,r,n){return be.mkdirSync(r),Ih(t,r,n),ul(r,e)}function Ih(e,t,r){be.readdirSync(e).forEach(n=>E_(n,e,t,r))}function E_(e,t,r,n){let i=Mn.join(t,e),s=Mn.join(r,e),{destStat:o}=$n.checkPathsSync(i,s,"copy",n);return f_(o,i,s,n)}function v_(e,t,r,n){let i=be.readlinkSync(t);if(n.dereference&&(i=Mn.resolve(process.cwd(),i)),e){let s;try{s=be.readlinkSync(r)}catch(o){if(o.code==="EINVAL"||o.code==="UNKNOWN")return be.symlinkSync(i,r);throw o}if(n.dereference&&(s=Mn.resolve(process.cwd(),s)),$n.isSrcSubdir(i,s))throw new Error("Cannot copy '".concat(i,"' to a subdirectory of itself, '").concat(s,"'."));if(be.statSync(r).isDirectory()&&$n.isSrcSubdir(s,i))throw new Error("Cannot overwrite '".concat(s,"' with '").concat(i,"'."));return b_(i,r)}else return be.symlinkSync(i,r)}function b_(e,t){return be.unlinkSync(t),be.symlinkSync(e,t)}Ph.exports=c_});var Es=y((yM,qh)=>{"use strict";var S_=ke().fromCallback;qh.exports={copy:S_(Th()),copySync:Dh()}});var Bh=y((AM,$h)=>{"use strict";var Lh=Ne(),Fh=require("path"),J=require("assert"),Bn=process.platform==="win32";function Uh(e){["unlink","chmod","stat","lstat","rmdir","readdir"].forEach(r=>{e[r]=e[r]||Lh[r],r=r+"Sync",e[r]=e[r]||Lh[r]}),e.maxBusyTries=e.maxBusyTries||3}function fl(e,t,r){let n=0;typeof t=="function"&&(r=t,t={}),J(e,"rimraf: missing path"),J.strictEqual(typeof e,"string","rimraf: path should be a string"),J.strictEqual(typeof r,"function","rimraf: callback function required"),J(t,"rimraf: invalid options argument provided"),J.strictEqual(typeof t,"object","rimraf: options should be object"),Uh(t),xh(e,t,function i(s){if(s){if((s.code==="EBUSY"||s.code==="ENOTEMPTY"||s.code==="EPERM")&&n<t.maxBusyTries){n++;let o=n*100;return setTimeout(()=>xh(e,t,i),o)}s.code==="ENOENT"&&(s=null)}r(s)})}function xh(e,t,r){J(e),J(t),J(typeof r=="function"),t.lstat(e,(n,i)=>{if(n&&n.code==="ENOENT")return r(null);if(n&&n.code==="EPERM"&&Bn)return Rh(e,t,n,r);if(i&&i.isDirectory())return vs(e,t,n,r);t.unlink(e,s=>{if(s){if(s.code==="ENOENT")return r(null);if(s.code==="EPERM")return Bn?Rh(e,t,s,r):vs(e,t,s,r);if(s.code==="EISDIR")return vs(e,t,s,r)}return r(s)})})}function Rh(e,t,r,n){J(e),J(t),J(typeof n=="function"),t.chmod(e,438,i=>{i?n(i.code==="ENOENT"?null:r):t.stat(e,(s,o)=>{s?n(s.code==="ENOENT"?null:r):o.isDirectory()?vs(e,t,r,n):t.unlink(e,n)})})}function kh(e,t,r){let n;J(e),J(t);try{t.chmodSync(e,438)}catch(i){if(i.code==="ENOENT")return;throw r}try{n=t.statSync(e)}catch(i){if(i.code==="ENOENT")return;throw r}n.isDirectory()?bs(e,t,r):t.unlinkSync(e)}function vs(e,t,r,n){J(e),J(t),J(typeof n=="function"),t.rmdir(e,i=>{i&&(i.code==="ENOTEMPTY"||i.code==="EEXIST"||i.code==="EPERM")?__(e,t,n):i&&i.code==="ENOTDIR"?n(r):n(i)})}function __(e,t,r){J(e),J(t),J(typeof r=="function"),t.readdir(e,(n,i)=>{if(n)return r(n);let s=i.length,o;if(s===0)return t.rmdir(e,r);i.forEach(a=>{fl(Fh.join(e,a),t,l=>{if(!o){if(l)return r(o=l);--s===0&&t.rmdir(e,r)}})})})}function Mh(e,t){let r;t=t||{},Uh(t),J(e,"rimraf: missing path"),J.strictEqual(typeof e,"string","rimraf: path should be a string"),J(t,"rimraf: missing options"),J.strictEqual(typeof t,"object","rimraf: options should be object");try{r=t.lstatSync(e)}catch(n){if(n.code==="ENOENT")return;n.code==="EPERM"&&Bn&&kh(e,t,n)}try{r&&r.isDirectory()?bs(e,t,null):t.unlinkSync(e)}catch(n){if(n.code==="ENOENT")return;if(n.code==="EPERM")return Bn?kh(e,t,n):bs(e,t,n);if(n.code!=="EISDIR")throw n;bs(e,t,n)}}function bs(e,t,r){J(e),J(t);try{t.rmdirSync(e)}catch(n){if(n.code==="ENOTDIR")throw r;if(n.code==="ENOTEMPTY"||n.code==="EEXIST"||n.code==="EPERM")C_(e,t);else if(n.code!=="ENOENT")throw n}}function C_(e,t){if(J(e),J(t),t.readdirSync(e).forEach(r=>Mh(Fh.join(e,r),t)),Bn){let r=Date.now();do try{return t.rmdirSync(e,t)}catch{}while(Date.now()-r<500)}else return t.rmdirSync(e,t)}$h.exports=fl;fl.sync=Mh});var jn=y((wM,Hh)=>{"use strict";var Ss=Ne(),T_=ke().fromCallback,jh=Bh();function N_(e,t){if(Ss.rm)return Ss.rm(e,{recursive:!0,force:!0},t);jh(e,t)}function O_(e){if(Ss.rmSync)return Ss.rmSync(e,{recursive:!0,force:!0});jh.sync(e)}Hh.exports={remove:T_(N_),removeSync:O_}});var Xh=y((EM,zh)=>{"use strict";var I_=ke().fromPromise,Wh=nr(),Yh=require("path"),Kh=tt(),Qh=jn(),Vh=I_(async function(t){let r;try{r=await Wh.readdir(t)}catch{return Kh.mkdirs(t)}return Promise.all(r.map(n=>Qh.remove(Yh.join(t,n))))});function Gh(e){let t;try{t=Wh.readdirSync(e)}catch{return Kh.mkdirsSync(e)}t.forEach(r=>{r=Yh.join(e,r),Qh.removeSync(r)})}zh.exports={emptyDirSync:Gh,emptydirSync:Gh,emptyDir:Vh,emptydir:Vh}});var tp=y((vM,ep)=>{"use strict";var P_=ke().fromCallback,Jh=require("path"),Nt=Ne(),Zh=tt();function D_(e,t){function r(){Nt.writeFile(e,"",n=>{if(n)return t(n);t()})}Nt.stat(e,(n,i)=>{if(!n&&i.isFile())return t();let s=Jh.dirname(e);Nt.stat(s,(o,a)=>{if(o)return o.code==="ENOENT"?Zh.mkdirs(s,l=>{if(l)return t(l);r()}):t(o);a.isDirectory()?r():Nt.readdir(s,l=>{if(l)return t(l)})})})}function q_(e){let t;try{t=Nt.statSync(e)}catch{}if(t&&t.isFile())return;let r=Jh.dirname(e);try{Nt.statSync(r).isDirectory()||Nt.readdirSync(r)}catch(n){if(n&&n.code==="ENOENT")Zh.mkdirsSync(r);else throw n}Nt.writeFileSync(e,"")}ep.exports={createFile:P_(D_),createFileSync:q_}});var op=y((bM,sp)=>{"use strict";var L_=ke().fromCallback,rp=require("path"),Ot=Ne(),np=tt(),x_=Tt().pathExists,{areIdentical:ip}=ir();function R_(e,t,r){function n(i,s){Ot.link(i,s,o=>{if(o)return r(o);r(null)})}Ot.lstat(t,(i,s)=>{Ot.lstat(e,(o,a)=>{if(o)return o.message=o.message.replace("lstat","ensureLink"),r(o);if(s&&ip(a,s))return r(null);let l=rp.dirname(t);x_(l,(c,f)=>{if(c)return r(c);if(f)return n(e,t);np.mkdirs(l,u=>{if(u)return r(u);n(e,t)})})})})}function k_(e,t){let r;try{r=Ot.lstatSync(t)}catch{}try{let s=Ot.lstatSync(e);if(r&&ip(s,r))return}catch(s){throw s.message=s.message.replace("lstat","ensureLink"),s}let n=rp.dirname(t);return Ot.existsSync(n)||np.mkdirsSync(n),Ot.linkSync(e,t)}sp.exports={createLink:L_(R_),createLinkSync:k_}});var lp=y((SM,ap)=>{"use strict";var It=require("path"),Hn=Ne(),F_=Tt().pathExists;function U_(e,t,r){if(It.isAbsolute(e))return Hn.lstat(e,n=>n?(n.message=n.message.replace("lstat","ensureSymlink"),r(n)):r(null,{toCwd:e,toDst:e}));{let n=It.dirname(t),i=It.join(n,e);return F_(i,(s,o)=>s?r(s):o?r(null,{toCwd:i,toDst:e}):Hn.lstat(e,a=>a?(a.message=a.message.replace("lstat","ensureSymlink"),r(a)):r(null,{toCwd:e,toDst:It.relative(n,e)})))}}function M_(e,t){let r;if(It.isAbsolute(e)){if(r=Hn.existsSync(e),!r)throw new Error("absolute srcpath does not exist");return{toCwd:e,toDst:e}}else{let n=It.dirname(t),i=It.join(n,e);if(r=Hn.existsSync(i),r)return{toCwd:i,toDst:e};if(r=Hn.existsSync(e),!r)throw new Error("relative srcpath does not exist");return{toCwd:e,toDst:It.relative(n,e)}}}ap.exports={symlinkPaths:U_,symlinkPathsSync:M_}});var fp=y((_M,up)=>{"use strict";var cp=Ne();function $_(e,t,r){if(r=typeof t=="function"?t:r,t=typeof t=="function"?!1:t,t)return r(null,t);cp.lstat(e,(n,i)=>{if(n)return r(null,"file");t=i&&i.isDirectory()?"dir":"file",r(null,t)})}function B_(e,t){let r;if(t)return t;try{r=cp.lstatSync(e)}catch{return"file"}return r&&r.isDirectory()?"dir":"file"}up.exports={symlinkType:$_,symlinkTypeSync:B_}});var wp=y((CM,Ap)=>{"use strict";var j_=ke().fromCallback,hp=require("path"),rt=nr(),pp=tt(),H_=pp.mkdirs,V_=pp.mkdirsSync,mp=lp(),G_=mp.symlinkPaths,W_=mp.symlinkPathsSync,gp=fp(),Y_=gp.symlinkType,K_=gp.symlinkTypeSync,Q_=Tt().pathExists,{areIdentical:yp}=ir();function z_(e,t,r,n){n=typeof r=="function"?r:n,r=typeof r=="function"?!1:r,rt.lstat(t,(i,s)=>{!i&&s.isSymbolicLink()?Promise.all([rt.stat(e),rt.stat(t)]).then(([o,a])=>{if(yp(o,a))return n(null);dp(e,t,r,n)}):dp(e,t,r,n)})}function dp(e,t,r,n){G_(e,t,(i,s)=>{if(i)return n(i);e=s.toDst,Y_(s.toCwd,r,(o,a)=>{if(o)return n(o);let l=hp.dirname(t);Q_(l,(c,f)=>{if(c)return n(c);if(f)return rt.symlink(e,t,a,n);H_(l,u=>{if(u)return n(u);rt.symlink(e,t,a,n)})})})})}function X_(e,t,r){let n;try{n=rt.lstatSync(t)}catch{}if(n&&n.isSymbolicLink()){let a=rt.statSync(e),l=rt.statSync(t);if(yp(a,l))return}let i=W_(e,t);e=i.toDst,r=K_(i.toCwd,r);let s=hp.dirname(t);return rt.existsSync(s)||V_(s),rt.symlinkSync(e,t,r)}Ap.exports={createSymlink:j_(z_),createSymlinkSync:X_}});var Np=y((TM,Tp)=>{"use strict";var{createFile:Ep,createFileSync:vp}=tp(),{createLink:bp,createLinkSync:Sp}=op(),{createSymlink:_p,createSymlinkSync:Cp}=wp();Tp.exports={createFile:Ep,createFileSync:vp,ensureFile:Ep,ensureFileSync:vp,createLink:bp,createLinkSync:Sp,ensureLink:bp,ensureLinkSync:Sp,createSymlink:_p,createSymlinkSync:Cp,ensureSymlink:_p,ensureSymlinkSync:Cp}});var _s=y((NM,Op)=>{function J_(e,{EOL:t="\n",finalEOL:r=!0,replacer:n=null,spaces:i}={}){let s=r?t:"";return JSON.stringify(e,n,i).replace(/\n/g,t)+s}function Z_(e){return Buffer.isBuffer(e)&&(e=e.toString("utf8")),e.replace(/^\uFEFF/,"")}Op.exports={stringify:J_,stripBom:Z_}});var qp=y((OM,Dp)=>{var $r;try{$r=Ne()}catch{$r=require("fs")}var Cs=ke(),{stringify:Ip,stripBom:Pp}=_s();async function eC(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||$r,n="throws"in t?t.throws:!0,i=await Cs.fromCallback(r.readFile)(e,t);i=Pp(i);let s;try{s=JSON.parse(i,t?t.reviver:null)}catch(o){if(n)throw o.message="".concat(e,": ").concat(o.message),o;return null}return s}var tC=Cs.fromPromise(eC);function rC(e,t={}){typeof t=="string"&&(t={encoding:t});let r=t.fs||$r,n="throws"in t?t.throws:!0;try{let i=r.readFileSync(e,t);return i=Pp(i),JSON.parse(i,t.reviver)}catch(i){if(n)throw i.message="".concat(e,": ").concat(i.message),i;return null}}async function nC(e,t,r={}){let n=r.fs||$r,i=Ip(t,r);await Cs.fromCallback(n.writeFile)(e,i,r)}var iC=Cs.fromPromise(nC);function sC(e,t,r={}){let n=r.fs||$r,i=Ip(t,r);return n.writeFileSync(e,i,r)}var oC={readFile:tC,readFileSync:rC,writeFile:iC,writeFileSync:sC};Dp.exports=oC});var xp=y((IM,Lp)=>{"use strict";var Ts=qp();Lp.exports={readJson:Ts.readFile,readJsonSync:Ts.readFileSync,writeJson:Ts.writeFile,writeJsonSync:Ts.writeFileSync}});var Ns=y((PM,Fp)=>{"use strict";var aC=ke().fromCallback,Vn=Ne(),Rp=require("path"),kp=tt(),lC=Tt().pathExists;function cC(e,t,r,n){typeof r=="function"&&(n=r,r="utf8");let i=Rp.dirname(e);lC(i,(s,o)=>{if(s)return n(s);if(o)return Vn.writeFile(e,t,r,n);kp.mkdirs(i,a=>{if(a)return n(a);Vn.writeFile(e,t,r,n)})})}function uC(e,...t){let r=Rp.dirname(e);if(Vn.existsSync(r))return Vn.writeFileSync(e,...t);kp.mkdirsSync(r),Vn.writeFileSync(e,...t)}Fp.exports={outputFile:aC(cC),outputFileSync:uC}});var Mp=y((DM,Up)=>{"use strict";var{stringify:fC}=_s(),{outputFile:dC}=Ns();async function hC(e,t,r={}){let n=fC(t,r);await dC(e,n,r)}Up.exports=hC});var Bp=y((qM,$p)=>{"use strict";var{stringify:pC}=_s(),{outputFileSync:mC}=Ns();function gC(e,t,r){let n=pC(t,r);mC(e,n,r)}$p.exports=gC});var Hp=y((LM,jp)=>{"use strict";var yC=ke().fromPromise,Oe=xp();Oe.outputJson=yC(Mp());Oe.outputJsonSync=Bp();Oe.outputJSON=Oe.outputJson;Oe.outputJSONSync=Oe.outputJsonSync;Oe.writeJSON=Oe.writeJson;Oe.writeJSONSync=Oe.writeJsonSync;Oe.readJSON=Oe.readJson;Oe.readJSONSync=Oe.readJsonSync;jp.exports=Oe});var Kp=y((xM,Yp)=>{"use strict";var AC=Ne(),hl=require("path"),wC=Es().copy,Wp=jn().remove,EC=tt().mkdirp,vC=Tt().pathExists,Vp=ir();function bC(e,t,r,n){typeof r=="function"&&(n=r,r={}),r=r||{};let i=r.overwrite||r.clobber||!1;Vp.checkPaths(e,t,"move",r,(s,o)=>{if(s)return n(s);let{srcStat:a,isChangingCase:l=!1}=o;Vp.checkParentPaths(e,a,t,"move",c=>{if(c)return n(c);if(SC(t))return Gp(e,t,i,l,n);EC(hl.dirname(t),f=>f?n(f):Gp(e,t,i,l,n))})})}function SC(e){let t=hl.dirname(e);return hl.parse(t).root===t}function Gp(e,t,r,n,i){if(n)return dl(e,t,r,i);if(r)return Wp(t,s=>s?i(s):dl(e,t,r,i));vC(t,(s,o)=>s?i(s):o?i(new Error("dest already exists.")):dl(e,t,r,i))}function dl(e,t,r,n){AC.rename(e,t,i=>i?i.code!=="EXDEV"?n(i):_C(e,t,r,n):n())}function _C(e,t,r,n){wC(e,t,{overwrite:r,errorOnExist:!0},s=>s?n(s):Wp(e,n))}Yp.exports=bC});var Zp=y((RM,Jp)=>{"use strict";var zp=Ne(),ml=require("path"),CC=Es().copySync,Xp=jn().removeSync,TC=tt().mkdirpSync,Qp=ir();function NC(e,t,r){r=r||{};let n=r.overwrite||r.clobber||!1,{srcStat:i,isChangingCase:s=!1}=Qp.checkPathsSync(e,t,"move",r);return Qp.checkParentPathsSync(e,i,t,"move"),OC(t)||TC(ml.dirname(t)),IC(e,t,n,s)}function OC(e){let t=ml.dirname(e);return ml.parse(t).root===t}function IC(e,t,r,n){if(n)return pl(e,t,r);if(r)return Xp(t),pl(e,t,r);if(zp.existsSync(t))throw new Error("dest already exists.");return pl(e,t,r)}function pl(e,t,r){try{zp.renameSync(e,t)}catch(n){if(n.code!=="EXDEV")throw n;return PC(e,t,r)}}function PC(e,t,r){return CC(e,t,{overwrite:r,errorOnExist:!0}),Xp(e)}Jp.exports=NC});var tm=y((kM,em)=>{"use strict";var DC=ke().fromCallback;em.exports={move:DC(Kp()),moveSync:Zp()}});var dt=y((FM,rm)=>{"use strict";rm.exports={...nr(),...Es(),...Xh(),...Np(),...Hp(),...tt(),...tm(),...Ns(),...Tt(),...jn()}});var Os=y(Br=>{"use strict";Object.defineProperty(Br,"__esModule",{value:!0});Br.CancellationError=Br.CancellationToken=void 0;var qC=require("events"),gl=class extends qC.EventEmitter{get cancelled(){return this._cancelled||this._parent!=null&&this._parent.cancelled}set parent(t){this.removeParentCancelHandler(),this._parent=t,this.parentCancelHandler=()=>this.cancel(),this._parent.onCancel(this.parentCancelHandler)}constructor(t){super(),this.parentCancelHandler=null,this._parent=null,this._cancelled=!1,t!=null&&(this.parent=t)}cancel(){this._cancelled=!0,this.emit("cancel")}onCancel(t){this.cancelled?t():this.once("cancel",t)}createPromise(t){if(this.cancelled)return Promise.reject(new Gn);let r=()=>{if(n!=null)try{this.removeListener("cancel",n),n=null}catch{}},n=null;return new Promise((i,s)=>{let o=null;if(n=()=>{try{o!=null&&(o(),o=null)}finally{s(new Gn)}},this.cancelled){n();return}this.onCancel(n),t(i,s,a=>{o=a})}).then(i=>(r(),i)).catch(i=>{throw r(),i})}removeParentCancelHandler(){let t=this._parent;t!=null&&this.parentCancelHandler!=null&&(t.removeListener("cancel",this.parentCancelHandler),this.parentCancelHandler=null)}dispose(){try{this.removeParentCancelHandler()}finally{this.removeAllListeners(),this._parent=null}}};Br.CancellationToken=gl;var Gn=class extends Error{constructor(){super("cancelled")}};Br.CancellationError=Gn});var Wn=y(yl=>{"use strict";Object.defineProperty(yl,"__esModule",{value:!0});yl.newError=LC;function LC(e,t){let r=new Error(e);return r.code=t,r}});var im=y(($M,nm)=>{var jr=1e3,Hr=jr*60,Vr=Hr*60,sr=Vr*24,xC=sr*7,RC=sr*365.25;nm.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0)return kC(e);if(r==="number"&&isFinite(e))return t.long?UC(e):FC(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function kC(e){if(e=String(e),!(e.length>100)){var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(t){var r=parseFloat(t[1]),n=(t[2]||"ms").toLowerCase();switch(n){case"years":case"year":case"yrs":case"yr":case"y":return r*RC;case"weeks":case"week":case"w":return r*xC;case"days":case"day":case"d":return r*sr;case"hours":case"hour":case"hrs":case"hr":case"h":return r*Vr;case"minutes":case"minute":case"mins":case"min":case"m":return r*Hr;case"seconds":case"second":case"secs":case"sec":case"s":return r*jr;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return r;default:return}}}}function FC(e){var t=Math.abs(e);return t>=sr?Math.round(e/sr)+"d":t>=Vr?Math.round(e/Vr)+"h":t>=Hr?Math.round(e/Hr)+"m":t>=jr?Math.round(e/jr)+"s":e+"ms"}function UC(e){var t=Math.abs(e);return t>=sr?Is(e,t,sr,"day"):t>=Vr?Is(e,t,Vr,"hour"):t>=Hr?Is(e,t,Hr,"minute"):t>=jr?Is(e,t,jr,"second"):e+" ms"}function Is(e,t,r,n){var i=t>=r*1.5;return Math.round(e/r)+" "+n+(i?"s":"")}});var Al=y((BM,sm)=>{function MC(e){r.debug=r,r.default=r,r.coerce=l,r.disable=o,r.enable=i,r.enabled=a,r.humanize=im(),r.destroy=c,Object.keys(e).forEach(f=>{r[f]=e[f]}),r.names=[],r.skips=[],r.formatters={};function t(f){let u=0;for(let d=0;d<f.length;d++)u=(u<<5)-u+f.charCodeAt(d),u|=0;return r.colors[Math.abs(u)%r.colors.length]}r.selectColor=t;function r(f){let u,d=null,p,w;function g(...E){if(!g.enabled)return;let S=g,b=Number(new Date),C=b-(u||b);S.diff=C,S.prev=u,S.curr=b,u=b,E[0]=r.coerce(E[0]),typeof E[0]!="string"&&E.unshift("%O");let N=0;E[0]=E[0].replace(/%([a-zA-Z%])/g,(I,M)=>{if(I==="%%")return"%";N++;let A=r.formatters[M];if(typeof A=="function"){let O=E[N];I=A.call(S,O),E.splice(N,1),N--}return I}),r.formatArgs.call(S,E),(S.log||r.log).apply(S,E)}return g.namespace=f,g.useColors=r.useColors(),g.color=r.selectColor(f),g.extend=n,g.destroy=r.destroy,Object.defineProperty(g,"enabled",{enumerable:!0,configurable:!1,get:()=>d!==null?d:(p!==r.namespaces&&(p=r.namespaces,w=r.enabled(f)),w),set:E=>{d=E}}),typeof r.init=="function"&&r.init(g),g}function n(f,u){let d=r(this.namespace+(typeof u>"u"?":":u)+f);return d.log=this.log,d}function i(f){r.save(f),r.namespaces=f,r.names=[],r.skips=[];let u=(typeof f=="string"?f:"").trim().replace(/\s+/g,",").split(",").filter(Boolean);for(let d of u)d[0]==="-"?r.skips.push(d.slice(1)):r.names.push(d)}function s(f,u){let d=0,p=0,w=-1,g=0;for(;d<f.length;)if(p<u.length&&(u[p]===f[d]||u[p]==="*"))u[p]==="*"?(w=p,g=d,p++):(d++,p++);else if(w!==-1)p=w+1,g++,d=g;else return!1;for(;p<u.length&&u[p]==="*";)p++;return p===u.length}function o(){let f=[...r.names,...r.skips.map(u=>"-"+u)].join(",");return r.enable(""),f}function a(f){for(let u of r.skips)if(s(f,u))return!1;for(let u of r.names)if(s(f,u))return!0;return!1}function l(f){return f instanceof Error?f.stack||f.message:f}function c(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return r.enable(r.load()),r}sm.exports=MC});var om=y((Me,Ps)=>{Me.formatArgs=BC;Me.save=jC;Me.load=HC;Me.useColors=$C;Me.storage=VC();Me.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})();Me.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function $C(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let e;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(e=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(e[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function BC(e){if(e[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+e[0]+(this.useColors?"%c ":" ")+"+"+Ps.exports.humanize(this.diff),!this.useColors)return;let t="color: "+this.color;e.splice(1,0,t,"color: inherit");let r=0,n=0;e[0].replace(/%[a-zA-Z%]/g,i=>{i!=="%%"&&(r++,i==="%c"&&(n=r))}),e.splice(n,0,t)}Me.log=console.debug||console.log||(()=>{});function jC(e){try{e?Me.storage.setItem("debug",e):Me.storage.removeItem("debug")}catch{}}function HC(){let e;try{e=Me.storage.getItem("debug")||Me.storage.getItem("DEBUG")}catch{}return!e&&typeof process<"u"&&"env"in process&&(e=process.env.DEBUG),e}function VC(){try{return localStorage}catch{}}Ps.exports=Al()(Me);var{formatters:GC}=Ps.exports;GC.j=function(e){try{return JSON.stringify(e)}catch(t){return"[UnexpectedJSONParseError]: "+t.message}}});var lm=y((jM,am)=>{"use strict";am.exports=(e,t=process.argv)=>{let r=e.startsWith("-")?"":e.length===1?"-":"--",n=t.indexOf(r+e),i=t.indexOf("--");return n!==-1&&(i===-1||n<i)}});var fm=y((HM,um)=>{"use strict";var WC=require("os"),cm=require("tty"),Qe=lm(),{env:me}=process,Pt;Qe("no-color")||Qe("no-colors")||Qe("color=false")||Qe("color=never")?Pt=0:(Qe("color")||Qe("colors")||Qe("color=true")||Qe("color=always"))&&(Pt=1);"FORCE_COLOR"in me&&(me.FORCE_COLOR==="true"?Pt=1:me.FORCE_COLOR==="false"?Pt=0:Pt=me.FORCE_COLOR.length===0?1:Math.min(parseInt(me.FORCE_COLOR,10),3));function wl(e){return e===0?!1:{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function El(e,t){if(Pt===0)return 0;if(Qe("color=16m")||Qe("color=full")||Qe("color=truecolor"))return 3;if(Qe("color=256"))return 2;if(e&&!t&&Pt===void 0)return 0;let r=Pt||0;if(me.TERM==="dumb")return r;if(process.platform==="win32"){let n=WC.release().split(".");return Number(n[0])>=10&&Number(n[2])>=10586?Number(n[2])>=14931?3:2:1}if("CI"in me)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some(n=>n in me)||me.CI_NAME==="codeship"?1:r;if("TEAMCITY_VERSION"in me)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(me.TEAMCITY_VERSION)?1:0;if(me.COLORTERM==="truecolor")return 3;if("TERM_PROGRAM"in me){let n=parseInt((me.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(me.TERM_PROGRAM){case"iTerm.app":return n>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(me.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(me.TERM)||"COLORTERM"in me?1:r}function YC(e){let t=El(e,e&&e.isTTY);return wl(t)}um.exports={supportsColor:YC,stdout:wl(El(!0,cm.isatty(1))),stderr:wl(El(!0,cm.isatty(2)))}});var hm=y((ge,qs)=>{var KC=require("tty"),Ds=require("util");ge.init=tT;ge.log=JC;ge.formatArgs=zC;ge.save=ZC;ge.load=eT;ge.useColors=QC;ge.destroy=Ds.deprecate(()=>{},"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");ge.colors=[6,2,3,4,5,1];try{let e=fm();e&&(e.stderr||e).level>=2&&(ge.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch{}ge.inspectOpts=Object.keys(process.env).filter(e=>/^debug_/i.test(e)).reduce((e,t)=>{let r=t.substring(6).toLowerCase().replace(/_([a-z])/g,(i,s)=>s.toUpperCase()),n=process.env[t];return/^(yes|on|true|enabled)$/i.test(n)?n=!0:/^(no|off|false|disabled)$/i.test(n)?n=!1:n==="null"?n=null:n=Number(n),e[r]=n,e},{});function QC(){return"colors"in ge.inspectOpts?!!ge.inspectOpts.colors:KC.isatty(process.stderr.fd)}function zC(e){let{namespace:t,useColors:r}=this;if(r){let n=this.color,i="\x1B[3"+(n<8?n:"8;5;"+n),s="  ".concat(i,";1m").concat(t," \x1B[0m");e[0]=s+e[0].split("\n").join("\n"+s),e.push(i+"m+"+qs.exports.humanize(this.diff)+"\x1B[0m")}else e[0]=XC()+t+" "+e[0]}function XC(){return ge.inspectOpts.hideDate?"":new Date().toISOString()+" "}function JC(...e){return process.stderr.write(Ds.formatWithOptions(ge.inspectOpts,...e)+"\n")}function ZC(e){e?process.env.DEBUG=e:delete process.env.DEBUG}function eT(){return process.env.DEBUG}function tT(e){e.inspectOpts={};let t=Object.keys(ge.inspectOpts);for(let r=0;r<t.length;r++)e.inspectOpts[t[r]]=ge.inspectOpts[t[r]]}qs.exports=Al()(ge);var{formatters:dm}=qs.exports;dm.o=function(e){return this.inspectOpts.colors=this.useColors,Ds.inspect(e,this.inspectOpts).split("\n").map(t=>t.trim()).join(" ")};dm.O=function(e){return this.inspectOpts.colors=this.useColors,Ds.inspect(e,this.inspectOpts)}});var pm=y((VM,vl)=>{typeof process>"u"||process.type==="renderer"||process.browser===!0||process.__nwjs?vl.exports=om():vl.exports=hm()});var Sl=y(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});Ls.ProgressCallbackTransform=void 0;var rT=require("stream"),bl=class extends rT.Transform{constructor(t,r,n){super(),this.total=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}this.transferred+=t.length,this.delta+=t.length;let i=Date.now();i>=this.nextUpdate&&this.transferred!==this.total&&(this.nextUpdate=i+1e3,this.onProgress({total:this.total,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.total*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.total,delta:this.delta,transferred:this.total,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,t(null)}};Ls.ProgressCallbackTransform=bl});var Am=y(Ie=>{"use strict";Object.defineProperty(Ie,"__esModule",{value:!0});Ie.DigestTransform=Ie.HttpExecutor=Ie.HttpError=void 0;Ie.createHttpError=_l;Ie.parseJson=uT;Ie.configureRequestOptionsFromUrl=ym;Ie.configureRequestUrl=Tl;Ie.safeGetHeader=Gr;Ie.configureRequestOptions=xs;Ie.safeStringifyJson=Rs;var nT=require("crypto"),iT=pm(),sT=require("fs"),oT=require("stream"),gm=require("url"),aT=Os(),mm=Wn(),lT=Sl(),Yn=(0,iT.default)("electron-builder");function _l(e,t=null){return new Kn(e.statusCode||-1,"".concat(e.statusCode," ").concat(e.statusMessage)+(t==null?"":"\n"+JSON.stringify(t,null,"  "))+"\nHeaders: "+Rs(e.headers),t)}var cT=new Map([[429,"Too many requests"],[400,"Bad request"],[403,"Forbidden"],[404,"Not found"],[405,"Method not allowed"],[406,"Not acceptable"],[408,"Request timeout"],[413,"Request entity too large"],[500,"Internal server error"],[502,"Bad gateway"],[503,"Service unavailable"],[504,"Gateway timeout"],[505,"HTTP version not supported"]]),Kn=class extends Error{constructor(t,r="HTTP error: ".concat(cT.get(t)||t),n=null){super(r),this.statusCode=t,this.description=n,this.name="HttpError",this.code="HTTP_ERROR_".concat(t)}isServerError(){return this.statusCode>=500&&this.statusCode<=599}};Ie.HttpError=Kn;function uT(e){return e.then(t=>t==null||t.length===0?null:JSON.parse(t))}var Cl=class e{constructor(){this.maxRedirects=10}request(t,r=new aT.CancellationToken,n){xs(t);let i=n==null?void 0:JSON.stringify(n),s=i?Buffer.from(i):void 0;if(s!=null){Yn(i);let{headers:o,...a}=t;t={method:"post",headers:{"Content-Type":"application/json","Content-Length":s.length,...o},...a}}return this.doApiRequest(t,r,o=>o.end(s))}doApiRequest(t,r,n,i=0){return Yn.enabled&&Yn("Request: ".concat(Rs(t))),r.createPromise((s,o,a)=>{let l=this.createRequest(t,c=>{try{this.handleResponse(c,t,r,s,o,i,n)}catch(f){o(f)}});this.addErrorAndTimeoutHandlers(l,o,t.timeout),this.addRedirectHandlers(l,t,o,i,c=>{this.doApiRequest(c,r,n,i).then(s).catch(o)}),n(l,o),a(()=>l.abort())})}addRedirectHandlers(t,r,n,i,s){}addErrorAndTimeoutHandlers(t,r,n=60*1e3){this.addTimeOutHandler(t,r,n),t.on("error",r),t.on("aborted",()=>{r(new Error("Request has been aborted by the server"))})}handleResponse(t,r,n,i,s,o,a){var l;if(Yn.enabled&&Yn("Response: ".concat(t.statusCode," ").concat(t.statusMessage,", request options: ").concat(Rs(r))),t.statusCode===404){s(_l(t,"method: ".concat(r.method||"GET"," url: ").concat(r.protocol||"https:","//").concat(r.hostname).concat(r.port?":".concat(r.port):"").concat(r.path,"\n\nPlease double check that your authentication token is correct. Due to security reasons, actual status maybe not reported, but 404.\n")));return}else if(t.statusCode===204){i();return}let c=(l=t.statusCode)!==null&&l!==void 0?l:0,f=c>=300&&c<400,u=Gr(t,"location");if(f&&u!=null){if(o>this.maxRedirects){s(this.createMaxRedirectError());return}this.doApiRequest(e.prepareRedirectUrlOptions(u,r),n,a,o).then(i).catch(s);return}t.setEncoding("utf8");let d="";t.on("error",s),t.on("data",p=>d+=p),t.on("end",()=>{try{if(t.statusCode!=null&&t.statusCode>=400){let p=Gr(t,"content-type"),w=p!=null&&(Array.isArray(p)?p.find(g=>g.includes("json"))!=null:p.includes("json"));s(_l(t,"method: ".concat(r.method||"GET"," url: ").concat(r.protocol||"https:","//").concat(r.hostname).concat(r.port?":".concat(r.port):"").concat(r.path,"\n\n          Data:\n          ").concat(w?JSON.stringify(JSON.parse(d)):d,"\n          ")))}else i(d.length===0?null:d)}catch(p){s(p)}})}async downloadToBuffer(t,r){return await r.cancellationToken.createPromise((n,i,s)=>{let o=[],a={headers:r.headers||void 0,redirect:"manual"};Tl(t,a),xs(a),this.doDownload(a,{destination:null,options:r,onCancel:s,callback:l=>{l==null?n(Buffer.concat(o)):i(l)},responseHandler:(l,c)=>{let f=0;l.on("data",u=>{if(f+=u.length,f>524288e3){c(new Error("Maximum allowed size is 500 MB"));return}o.push(u)}),l.on("end",()=>{c(null)})}},0)})}doDownload(t,r,n){let i=this.createRequest(t,s=>{if(s.statusCode>=400){r.callback(new Error('Cannot download "'.concat(t.protocol||"https:","//").concat(t.hostname).concat(t.path,'", status ').concat(s.statusCode,": ").concat(s.statusMessage)));return}s.on("error",r.callback);let o=Gr(s,"location");if(o!=null){n<this.maxRedirects?this.doDownload(e.prepareRedirectUrlOptions(o,t),r,n++):r.callback(this.createMaxRedirectError());return}r.responseHandler==null?dT(r,s):r.responseHandler(s,r.callback)});this.addErrorAndTimeoutHandlers(i,r.callback,t.timeout),this.addRedirectHandlers(i,t,r.callback,n,s=>{this.doDownload(s,r,n++)}),i.end()}createMaxRedirectError(){return new Error("Too many redirects (> ".concat(this.maxRedirects,")"))}addTimeOutHandler(t,r,n){t.on("socket",i=>{i.setTimeout(n,()=>{t.abort(),r(new Error("Request timed out"))})})}static prepareRedirectUrlOptions(t,r){let n=ym(t,{...r}),i=n.headers;if(i?.authorization){let s=new gm.URL(t);(s.hostname.endsWith(".amazonaws.com")||s.searchParams.has("X-Amz-Credential"))&&delete i.authorization}return n}static retryOnServerError(t,r=3){for(let n=0;;n++)try{return t()}catch(i){if(n<r&&(i instanceof Kn&&i.isServerError()||i.code==="EPIPE"))continue;throw i}}};Ie.HttpExecutor=Cl;function ym(e,t){let r=xs(t);return Tl(new gm.URL(e),r),r}function Tl(e,t){t.protocol=e.protocol,t.hostname=e.hostname,e.port?t.port=e.port:t.port&&delete t.port,t.path=e.pathname+e.search}var Qn=class extends oT.Transform{get actual(){return this._actual}constructor(t,r="sha512",n="base64"){super(),this.expected=t,this.algorithm=r,this.encoding=n,this._actual=null,this.isValidateOnEnd=!0,this.digester=(0,nT.createHash)(r)}_transform(t,r,n){this.digester.update(t),n(null,t)}_flush(t){if(this._actual=this.digester.digest(this.encoding),this.isValidateOnEnd)try{this.validate()}catch(r){t(r);return}t(null)}validate(){if(this._actual==null)throw(0,mm.newError)("Not finished yet","ERR_STREAM_NOT_FINISHED");if(this._actual!==this.expected)throw(0,mm.newError)("".concat(this.algorithm," checksum mismatch, expected ").concat(this.expected,", got ").concat(this._actual),"ERR_CHECKSUM_MISMATCH");return null}};Ie.DigestTransform=Qn;function fT(e,t,r){return e!=null&&t!=null&&e!==t?(r(new Error("checksum mismatch: expected ".concat(t," but got ").concat(e," (X-Checksum-Sha2 header)"))),!1):!0}function Gr(e,t){let r=e.headers[t];return r==null?null:Array.isArray(r)?r.length===0?null:r[r.length-1]:r}function dT(e,t){if(!fT(Gr(t,"X-Checksum-Sha2"),e.options.sha2,e.callback))return;let r=[];if(e.options.onProgress!=null){let o=Gr(t,"content-length");o!=null&&r.push(new lT.ProgressCallbackTransform(parseInt(o,10),e.options.cancellationToken,e.options.onProgress))}let n=e.options.sha512;n!=null?r.push(new Qn(n,"sha512",n.length===128&&!n.includes("+")&&!n.includes("Z")&&!n.includes("=")?"hex":"base64")):e.options.sha2!=null&&r.push(new Qn(e.options.sha2,"sha256","hex"));let i=(0,sT.createWriteStream)(e.destination);r.push(i);let s=t;for(let o of r)o.on("error",a=>{i.close(),e.options.cancellationToken.cancelled||e.callback(a)}),s=s.pipe(o);i.on("finish",()=>{i.close(e.callback)})}function xs(e,t,r){r!=null&&(e.method=r),e.headers={...e.headers};let n=e.headers;return t!=null&&(n.authorization=t.startsWith("Basic")||t.startsWith("Bearer")?t:"token ".concat(t)),n["User-Agent"]==null&&(n["User-Agent"]="electron-builder"),(r==null||r==="GET"||n["Cache-Control"]==null)&&(n["Cache-Control"]="no-cache"),e.protocol==null&&process.versions.electron!=null&&(e.protocol="https:"),e}function Rs(e,t){return JSON.stringify(e,(r,n)=>r.endsWith("Authorization")||r.endsWith("authorization")||r.endsWith("Password")||r.endsWith("PASSWORD")||r.endsWith("Token")||r.includes("password")||r.includes("token")||t!=null&&t.has(r)?"<stripped sensitive data>":n,2)}});var Em=y(ks=>{"use strict";Object.defineProperty(ks,"__esModule",{value:!0});ks.MemoLazy=void 0;var Nl=class{constructor(t,r){this.selector=t,this.creator=r,this.selected=void 0,this._value=void 0}get hasValue(){return this._value!==void 0}get value(){let t=this.selector();if(this._value!==void 0&&wm(this.selected,t))return this._value;this.selected=t;let r=this.creator(t);return this.value=r,r}set value(t){this._value=t}};ks.MemoLazy=Nl;function wm(e,t){if(typeof e=="object"&&e!==null&&(typeof t=="object"&&t!==null)){let i=Object.keys(e),s=Object.keys(t);return i.length===s.length&&i.every(o=>wm(e[o],t[o]))}return e===t}});var bm=y(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});Fs.githubUrl=hT;Fs.getS3LikeProviderBaseUrl=pT;function hT(e,t="github.com"){return"".concat(e.protocol||"https","://").concat(e.host||t)}function pT(e){let t=e.provider;if(t==="s3")return mT(e);if(t==="spaces")return gT(e);throw new Error("Not supported provider: ".concat(t))}function mT(e){let t;if(e.accelerate==!0)t="https://".concat(e.bucket,".s3-accelerate.amazonaws.com");else if(e.endpoint!=null)t="".concat(e.endpoint,"/").concat(e.bucket);else if(e.bucket.includes(".")){if(e.region==null)throw new Error('Bucket name "'.concat(e.bucket,'" includes a dot, but S3 region is missing'));e.region==="us-east-1"?t="https://s3.amazonaws.com/".concat(e.bucket):t="https://s3-".concat(e.region,".amazonaws.com/").concat(e.bucket)}else e.region==="cn-north-1"?t="https://".concat(e.bucket,".s3.").concat(e.region,".amazonaws.com.cn"):t="https://".concat(e.bucket,".s3.amazonaws.com");return vm(t,e.path)}function vm(e,t){return t!=null&&t.length>0&&(t.startsWith("/")||(e+="/"),e+=t),e}function gT(e){if(e.name==null)throw new Error("name is missing");if(e.region==null)throw new Error("region is missing");return vm("https://".concat(e.name,".").concat(e.region,".digitaloceanspaces.com"),e.path)}});var _m=y(Ol=>{"use strict";Object.defineProperty(Ol,"__esModule",{value:!0});Ol.retry=Sm;var yT=Os();async function Sm(e,t,r,n=0,i=0,s){var o;let a=new yT.CancellationToken;try{return await e()}catch(l){if((!((o=s?.(l))!==null&&o!==void 0)||o)&&t>0&&!a.cancelled)return await new Promise(c=>setTimeout(c,r+n*i)),await Sm(e,t-1,r,n,i+1,s);throw l}}});var Cm=y(Il=>{"use strict";Object.defineProperty(Il,"__esModule",{value:!0});Il.parseDn=AT;function AT(e){let t=!1,r=null,n="",i=0;e=e.trim();let s=new Map;for(let o=0;o<=e.length;o++){if(o===e.length){r!==null&&s.set(r,n);break}let a=e[o];if(t){if(a==='"'){t=!1;continue}}else{if(a==='"'){t=!0;continue}if(a==="\\"){o++;let l=parseInt(e.slice(o,o+2),16);Number.isNaN(l)?n+=e[o]:(o++,n+=String.fromCharCode(l));continue}if(r===null&&a==="="){r=n,n="";continue}if(a===","||a===";"||a==="+"){r!==null&&s.set(r,n),r=null,n="";continue}}if(a===" "&&!t){if(n.length===0)continue;if(o>i){let l=o;for(;e[l]===" ";)l++;i=l}if(i>=e.length||e[i]===","||e[i]===";"||r===null&&e[i]==="="||r!==null&&e[i]==="+"){o=i-1;continue}}n+=a}return s}});var Pm=y(Wr=>{"use strict";Object.defineProperty(Wr,"__esModule",{value:!0});Wr.nil=Wr.UUID=void 0;var Om=require("crypto"),Im=Wn(),wT="options.name must be either a string or a Buffer",Tm=(0,Om.randomBytes)(16);Tm[0]=Tm[0]|1;var Us={},W=[];for(let e=0;e<256;e++){let t=(e+256).toString(16).substr(1);Us[t]=e,W[e]=t}var or=class e{constructor(t){this.ascii=null,this.binary=null;let r=e.check(t);if(!r)throw new Error("not a UUID");this.version=r.version,r.format==="ascii"?this.ascii=t:this.binary=t}static v5(t,r){return ET(t,"sha1",80,r)}toString(){return this.ascii==null&&(this.ascii=vT(this.binary)),this.ascii}inspect(){return"UUID v".concat(this.version," ").concat(this.toString())}static check(t,r=0){if(typeof t=="string")return t=t.toLowerCase(),/^[a-f0-9]{8}(-[a-f0-9]{4}){3}-([a-f0-9]{12})$/.test(t)?t==="00000000-0000-0000-0000-000000000000"?{version:void 0,variant:"nil",format:"ascii"}:{version:(Us[t[14]+t[15]]&240)>>4,variant:Nm((Us[t[19]+t[20]]&224)>>5),format:"ascii"}:!1;if(Buffer.isBuffer(t)){if(t.length<r+16)return!1;let n=0;for(;n<16&&t[r+n]===0;n++);return n===16?{version:void 0,variant:"nil",format:"binary"}:{version:(t[r+6]&240)>>4,variant:Nm((t[r+8]&224)>>5),format:"binary"}}throw(0,Im.newError)("Unknown type of uuid","ERR_UNKNOWN_UUID_TYPE")}static parse(t){let r=Buffer.allocUnsafe(16),n=0;for(let i=0;i<16;i++)r[i]=Us[t[n++]+t[n++]],(i===3||i===5||i===7||i===9)&&(n+=1);return r}};Wr.UUID=or;or.OID=or.parse("6ba7b812-9dad-11d1-80b4-00c04fd430c8");function Nm(e){switch(e){case 0:case 1:case 3:return"ncs";case 4:case 5:return"rfc4122";case 6:return"microsoft";default:return"future"}}var zn;(function(e){e[e.ASCII=0]="ASCII",e[e.BINARY=1]="BINARY",e[e.OBJECT=2]="OBJECT"})(zn||(zn={}));function ET(e,t,r,n,i=zn.ASCII){let s=(0,Om.createHash)(t);if(typeof e!="string"&&!Buffer.isBuffer(e))throw(0,Im.newError)(wT,"ERR_INVALID_UUID_NAME");s.update(n),s.update(e);let a=s.digest(),l;switch(i){case zn.BINARY:a[6]=a[6]&15|r,a[8]=a[8]&63|128,l=a;break;case zn.OBJECT:a[6]=a[6]&15|r,a[8]=a[8]&63|128,l=new or(a);break;default:l=W[a[0]]+W[a[1]]+W[a[2]]+W[a[3]]+"-"+W[a[4]]+W[a[5]]+"-"+W[a[6]&15|r]+W[a[7]]+"-"+W[a[8]&63|128]+W[a[9]]+"-"+W[a[10]]+W[a[11]]+W[a[12]]+W[a[13]]+W[a[14]]+W[a[15]];break}return l}function vT(e){return W[e[0]]+W[e[1]]+W[e[2]]+W[e[3]]+"-"+W[e[4]]+W[e[5]]+"-"+W[e[6]]+W[e[7]]+"-"+W[e[8]]+W[e[9]]+"-"+W[e[10]]+W[e[11]]+W[e[12]]+W[e[13]]+W[e[14]]+W[e[15]]}Wr.nil=new or("00000000-0000-0000-0000-000000000000")});var Dm=y(Ms=>{(function(e){e.parser=function(m,h){return new r(m,h)},e.SAXParser=r,e.SAXStream=c,e.createStream=l,e.MAX_BUFFER_LENGTH=64*1024;var t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function r(m,h){if(!(this instanceof r))return new r(m,h);var _=this;i(_),_.q=_.c="",_.bufferCheckPosition=e.MAX_BUFFER_LENGTH,_.opt=h||{},_.opt.lowercase=_.opt.lowercase||_.opt.lowercasetags,_.looseCase=_.opt.lowercase?"toLowerCase":"toUpperCase",_.tags=[],_.closed=_.closedRoot=_.sawRoot=!1,_.tag=_.error=null,_.strict=!!m,_.noscript=!!(m||_.opt.noscript),_.state=A.BEGIN,_.strictEntities=_.opt.strictEntities,_.ENTITIES=_.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),_.attribList=[],_.opt.xmlns&&(_.ns=Object.create(w)),_.opt.unquotedAttributeValues===void 0&&(_.opt.unquotedAttributeValues=!m),_.trackPosition=_.opt.position!==!1,_.trackPosition&&(_.position=_.line=_.column=0),$(_,"onready")}Object.create||(Object.create=function(m){function h(){}h.prototype=m;var _=new h;return _}),Object.keys||(Object.keys=function(m){var h=[];for(var _ in m)m.hasOwnProperty(_)&&h.push(_);return h});function n(m){for(var h=Math.max(e.MAX_BUFFER_LENGTH,10),_=0,v=0,K=t.length;v<K;v++){var fe=m[t[v]].length;if(fe>h)switch(t[v]){case"textNode":B(m);break;case"cdata":x(m,"oncdata",m.cdata),m.cdata="";break;case"script":x(m,"onscript",m.script),m.script="";break;default:ne(m,"Max buffer length exceeded: "+t[v])}_=Math.max(_,fe)}var de=e.MAX_BUFFER_LENGTH-_;m.bufferCheckPosition=de+m.position}function i(m){for(var h=0,_=t.length;h<_;h++)m[t[h]]=""}function s(m){B(m),m.cdata!==""&&(x(m,"oncdata",m.cdata),m.cdata=""),m.script!==""&&(x(m,"onscript",m.script),m.script="")}r.prototype={end:function(){Z(this)},write:cS,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){s(this)}};var o;try{o=require("stream").Stream}catch{o=function(){}}o||(o=function(){});var a=e.EVENTS.filter(function(m){return m!=="error"&&m!=="end"});function l(m,h){return new c(m,h)}function c(m,h){if(!(this instanceof c))return new c(m,h);o.apply(this),this._parser=new r(m,h),this.writable=!0,this.readable=!0;var _=this;this._parser.onend=function(){_.emit("end")},this._parser.onerror=function(v){_.emit("error",v),_._parser.error=null},this._decoder=null,a.forEach(function(v){Object.defineProperty(_,"on"+v,{get:function(){return _._parser["on"+v]},set:function(K){if(!K)return _.removeAllListeners(v),_._parser["on"+v]=K,K;_.on(v,K)},enumerable:!0,configurable:!1})})}c.prototype=Object.create(o.prototype,{constructor:{value:c}}),c.prototype.write=function(m){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(m)){if(!this._decoder){var h=require("string_decoder").StringDecoder;this._decoder=new h("utf8")}m=this._decoder.write(m)}return this._parser.write(m.toString()),this.emit("data",m),!0},c.prototype.end=function(m){return m&&m.length&&this.write(m),this._parser.end(),!0},c.prototype.on=function(m,h){var _=this;return!_._parser["on"+m]&&a.indexOf(m)!==-1&&(_._parser["on"+m]=function(){var v=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);v.splice(0,0,m),_.emit.apply(_,v)}),o.prototype.on.call(_,m,h)};var f="[CDATA[",u="DOCTYPE",d="http://www.w3.org/XML/1998/namespace",p="http://www.w3.org/2000/xmlns/",w={xml:d,xmlns:p},g=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,E=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,S=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function C(m){return m===" "||m==="\n"||m==="\r"||m==="	"}function N(m){return m==='"'||m==="'"}function R(m){return m===">"||C(m)}function I(m,h){return m.test(h)}function M(m,h){return!I(m,h)}var A=0;e.STATE={BEGIN:A++,BEGIN_WHITESPACE:A++,TEXT:A++,TEXT_ENTITY:A++,OPEN_WAKA:A++,SGML_DECL:A++,SGML_DECL_QUOTED:A++,DOCTYPE:A++,DOCTYPE_QUOTED:A++,DOCTYPE_DTD:A++,DOCTYPE_DTD_QUOTED:A++,COMMENT_STARTING:A++,COMMENT:A++,COMMENT_ENDING:A++,COMMENT_ENDED:A++,CDATA:A++,CDATA_ENDING:A++,CDATA_ENDING_2:A++,PROC_INST:A++,PROC_INST_BODY:A++,PROC_INST_ENDING:A++,OPEN_TAG:A++,OPEN_TAG_SLASH:A++,ATTRIB:A++,ATTRIB_NAME:A++,ATTRIB_NAME_SAW_WHITE:A++,ATTRIB_VALUE:A++,ATTRIB_VALUE_QUOTED:A++,ATTRIB_VALUE_CLOSED:A++,ATTRIB_VALUE_UNQUOTED:A++,ATTRIB_VALUE_ENTITY_Q:A++,ATTRIB_VALUE_ENTITY_U:A++,CLOSE_TAG:A++,CLOSE_TAG_SAW_WHITE:A++,SCRIPT:A++,SCRIPT_ENDING:A++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(m){var h=e.ENTITIES[m],_=typeof h=="number"?String.fromCharCode(h):h;e.ENTITIES[m]=_});for(var O in e.STATE)e.STATE[e.STATE[O]]=O;A=e.STATE;function $(m,h,_){m[h]&&m[h](_)}function x(m,h,_){m.textNode&&B(m),$(m,h,_)}function B(m){m.textNode=ie(m.opt,m.textNode),m.textNode&&$(m,"ontext",m.textNode),m.textNode=""}function ie(m,h){return m.trim&&(h=h.trim()),m.normalize&&(h=h.replace(/\s+/g," ")),h}function ne(m,h){return B(m),m.trackPosition&&(h+="\nLine: "+m.line+"\nColumn: "+m.column+"\nChar: "+m.c),h=new Error(h),m.error=h,$(m,"onerror",h),m}function Z(m){return m.sawRoot&&!m.closedRoot&&U(m,"Unclosed root tag"),m.state!==A.BEGIN&&m.state!==A.BEGIN_WHITESPACE&&m.state!==A.TEXT&&ne(m,"Unexpected end"),B(m),m.c="",m.closed=!0,$(m,"onend"),r.call(m,m.strict,m.opt),m}function U(m,h){if(typeof m!="object"||!(m instanceof r))throw new Error("bad call to strictFail");m.strict&&ne(m,h)}function Q(m){m.strict||(m.tagName=m.tagName[m.looseCase]());var h=m.tags[m.tags.length-1]||m,_=m.tag={name:m.tagName,attributes:{}};m.opt.xmlns&&(_.ns=h.ns),m.attribList.length=0,x(m,"onopentagstart",_)}function ae(m,h){var _=m.indexOf(":"),v=_<0?["",m]:m.split(":"),K=v[0],fe=v[1];return h&&m==="xmlns"&&(K="xmlns",fe=""),{prefix:K,local:fe}}function z(m){if(m.strict||(m.attribName=m.attribName[m.looseCase]()),m.attribList.indexOf(m.attribName)!==-1||m.tag.attributes.hasOwnProperty(m.attribName)){m.attribName=m.attribValue="";return}if(m.opt.xmlns){var h=ae(m.attribName,!0),_=h.prefix,v=h.local;if(_==="xmlns")if(v==="xml"&&m.attribValue!==d)U(m,"xml: prefix must be bound to "+d+"\nActual: "+m.attribValue);else if(v==="xmlns"&&m.attribValue!==p)U(m,"xmlns: prefix must be bound to "+p+"\nActual: "+m.attribValue);else{var K=m.tag,fe=m.tags[m.tags.length-1]||m;K.ns===fe.ns&&(K.ns=Object.create(fe.ns)),K.ns[v]=m.attribValue}m.attribList.push([m.attribName,m.attribValue])}else m.tag.attributes[m.attribName]=m.attribValue,x(m,"onattribute",{name:m.attribName,value:m.attribValue});m.attribName=m.attribValue=""}function bt(m,h){if(m.opt.xmlns){var _=m.tag,v=ae(m.tagName);_.prefix=v.prefix,_.local=v.local,_.uri=_.ns[v.prefix]||"",_.prefix&&!_.uri&&(U(m,"Unbound namespace prefix: "+JSON.stringify(m.tagName)),_.uri=v.prefix);var K=m.tags[m.tags.length-1]||m;_.ns&&K.ns!==_.ns&&Object.keys(_.ns).forEach(function(Ld){x(m,"onopennamespace",{prefix:Ld,uri:_.ns[Ld]})});for(var fe=0,de=m.attribList.length;fe<de;fe++){var xe=m.attribList[fe],Re=xe[0],Lr=xe[1],Ae=ae(Re,!0),ft=Ae.prefix,uS=Ae.local,qd=ft===""?"":_.ns[ft]||"",Xa={name:Re,value:Lr,prefix:ft,local:uS,uri:qd};ft&&ft!=="xmlns"&&!qd&&(U(m,"Unbound namespace prefix: "+JSON.stringify(ft)),Xa.uri=ft),m.tag.attributes[Re]=Xa,x(m,"onattribute",Xa)}m.attribList.length=0}m.tag.isSelfClosing=!!h,m.sawRoot=!0,m.tags.push(m.tag),x(m,"onopentag",m.tag),h||(!m.noscript&&m.tagName.toLowerCase()==="script"?m.state=A.SCRIPT:m.state=A.TEXT,m.tag=null,m.tagName=""),m.attribName=m.attribValue="",m.attribList.length=0}function za(m){if(!m.tagName){U(m,"Weird empty close tag."),m.textNode+="</>",m.state=A.TEXT;return}if(m.script){if(m.tagName!=="script"){m.script+="</"+m.tagName+">",m.tagName="",m.state=A.SCRIPT;return}x(m,"onscript",m.script),m.script=""}var h=m.tags.length,_=m.tagName;m.strict||(_=_[m.looseCase]());for(var v=_;h--;){var K=m.tags[h];if(K.name!==v)U(m,"Unexpected close tag");else break}if(h<0){U(m,"Unmatched closing tag: "+m.tagName),m.textNode+="</"+m.tagName+">",m.state=A.TEXT;return}m.tagName=_;for(var fe=m.tags.length;fe-- >h;){var de=m.tag=m.tags.pop();m.tagName=m.tag.name,x(m,"onclosetag",m.tagName);var xe={};for(var Re in de.ns)xe[Re]=de.ns[Re];var Lr=m.tags[m.tags.length-1]||m;m.opt.xmlns&&de.ns!==Lr.ns&&Object.keys(de.ns).forEach(function(Ae){var ft=de.ns[Ae];x(m,"onclosenamespace",{prefix:Ae,uri:ft})})}h===0&&(m.closedRoot=!0),m.tagName=m.attribValue=m.attribName="",m.attribList.length=0,m.state=A.TEXT}function lS(m){var h=m.entity,_=h.toLowerCase(),v,K="";return m.ENTITIES[h]?m.ENTITIES[h]:m.ENTITIES[_]?m.ENTITIES[_]:(h=_,h.charAt(0)==="#"&&(h.charAt(1)==="x"?(h=h.slice(2),v=parseInt(h,16),K=v.toString(16)):(h=h.slice(1),v=parseInt(h,10),K=v.toString(10))),h=h.replace(/^0+/,""),isNaN(v)||K.toLowerCase()!==h?(U(m,"Invalid character entity"),"&"+m.entity+";"):String.fromCodePoint(v))}function Pd(m,h){h==="<"?(m.state=A.OPEN_WAKA,m.startTagPosition=m.position):C(h)||(U(m,"Non-whitespace before first tag."),m.textNode=h,m.state=A.TEXT)}function Dd(m,h){var _="";return h<m.length&&(_=m.charAt(h)),_}function cS(m){var h=this;if(this.error)throw this.error;if(h.closed)return ne(h,"Cannot write after close. Assign an onready handler.");if(m===null)return Z(h);typeof m=="object"&&(m=m.toString());for(var _=0,v="";v=Dd(m,_++),h.c=v,!!v;)switch(h.trackPosition&&(h.position++,v==="\n"?(h.line++,h.column=0):h.column++),h.state){case A.BEGIN:if(h.state=A.BEGIN_WHITESPACE,v==="\uFEFF")continue;Pd(h,v);continue;case A.BEGIN_WHITESPACE:Pd(h,v);continue;case A.TEXT:if(h.sawRoot&&!h.closedRoot){for(var K=_-1;v&&v!=="<"&&v!=="&";)v=Dd(m,_++),v&&h.trackPosition&&(h.position++,v==="\n"?(h.line++,h.column=0):h.column++);h.textNode+=m.substring(K,_-1)}v==="<"&&!(h.sawRoot&&h.closedRoot&&!h.strict)?(h.state=A.OPEN_WAKA,h.startTagPosition=h.position):(!C(v)&&(!h.sawRoot||h.closedRoot)&&U(h,"Text data outside of root node."),v==="&"?h.state=A.TEXT_ENTITY:h.textNode+=v);continue;case A.SCRIPT:v==="<"?h.state=A.SCRIPT_ENDING:h.script+=v;continue;case A.SCRIPT_ENDING:v==="/"?h.state=A.CLOSE_TAG:(h.script+="<"+v,h.state=A.SCRIPT);continue;case A.OPEN_WAKA:if(v==="!")h.state=A.SGML_DECL,h.sgmlDecl="";else if(!C(v))if(I(g,v))h.state=A.OPEN_TAG,h.tagName=v;else if(v==="/")h.state=A.CLOSE_TAG,h.tagName="";else if(v==="?")h.state=A.PROC_INST,h.procInstName=h.procInstBody="";else{if(U(h,"Unencoded <"),h.startTagPosition+1<h.position){var fe=h.position-h.startTagPosition;v=new Array(fe).join(" ")+v}h.textNode+="<"+v,h.state=A.TEXT}continue;case A.SGML_DECL:if(h.sgmlDecl+v==="--"){h.state=A.COMMENT,h.comment="",h.sgmlDecl="";continue}h.doctype&&h.doctype!==!0&&h.sgmlDecl?(h.state=A.DOCTYPE_DTD,h.doctype+="<!"+h.sgmlDecl+v,h.sgmlDecl=""):(h.sgmlDecl+v).toUpperCase()===f?(x(h,"onopencdata"),h.state=A.CDATA,h.sgmlDecl="",h.cdata=""):(h.sgmlDecl+v).toUpperCase()===u?(h.state=A.DOCTYPE,(h.doctype||h.sawRoot)&&U(h,"Inappropriately located doctype declaration"),h.doctype="",h.sgmlDecl=""):v===">"?(x(h,"onsgmldeclaration",h.sgmlDecl),h.sgmlDecl="",h.state=A.TEXT):(N(v)&&(h.state=A.SGML_DECL_QUOTED),h.sgmlDecl+=v);continue;case A.SGML_DECL_QUOTED:v===h.q&&(h.state=A.SGML_DECL,h.q=""),h.sgmlDecl+=v;continue;case A.DOCTYPE:v===">"?(h.state=A.TEXT,x(h,"ondoctype",h.doctype),h.doctype=!0):(h.doctype+=v,v==="["?h.state=A.DOCTYPE_DTD:N(v)&&(h.state=A.DOCTYPE_QUOTED,h.q=v));continue;case A.DOCTYPE_QUOTED:h.doctype+=v,v===h.q&&(h.q="",h.state=A.DOCTYPE);continue;case A.DOCTYPE_DTD:v==="]"?(h.doctype+=v,h.state=A.DOCTYPE):v==="<"?(h.state=A.OPEN_WAKA,h.startTagPosition=h.position):N(v)?(h.doctype+=v,h.state=A.DOCTYPE_DTD_QUOTED,h.q=v):h.doctype+=v;continue;case A.DOCTYPE_DTD_QUOTED:h.doctype+=v,v===h.q&&(h.state=A.DOCTYPE_DTD,h.q="");continue;case A.COMMENT:v==="-"?h.state=A.COMMENT_ENDING:h.comment+=v;continue;case A.COMMENT_ENDING:v==="-"?(h.state=A.COMMENT_ENDED,h.comment=ie(h.opt,h.comment),h.comment&&x(h,"oncomment",h.comment),h.comment=""):(h.comment+="-"+v,h.state=A.COMMENT);continue;case A.COMMENT_ENDED:v!==">"?(U(h,"Malformed comment"),h.comment+="--"+v,h.state=A.COMMENT):h.doctype&&h.doctype!==!0?h.state=A.DOCTYPE_DTD:h.state=A.TEXT;continue;case A.CDATA:v==="]"?h.state=A.CDATA_ENDING:h.cdata+=v;continue;case A.CDATA_ENDING:v==="]"?h.state=A.CDATA_ENDING_2:(h.cdata+="]"+v,h.state=A.CDATA);continue;case A.CDATA_ENDING_2:v===">"?(h.cdata&&x(h,"oncdata",h.cdata),x(h,"onclosecdata"),h.cdata="",h.state=A.TEXT):v==="]"?h.cdata+="]":(h.cdata+="]]"+v,h.state=A.CDATA);continue;case A.PROC_INST:v==="?"?h.state=A.PROC_INST_ENDING:C(v)?h.state=A.PROC_INST_BODY:h.procInstName+=v;continue;case A.PROC_INST_BODY:if(!h.procInstBody&&C(v))continue;v==="?"?h.state=A.PROC_INST_ENDING:h.procInstBody+=v;continue;case A.PROC_INST_ENDING:v===">"?(x(h,"onprocessinginstruction",{name:h.procInstName,body:h.procInstBody}),h.procInstName=h.procInstBody="",h.state=A.TEXT):(h.procInstBody+="?"+v,h.state=A.PROC_INST_BODY);continue;case A.OPEN_TAG:I(E,v)?h.tagName+=v:(Q(h),v===">"?bt(h):v==="/"?h.state=A.OPEN_TAG_SLASH:(C(v)||U(h,"Invalid character in tag name"),h.state=A.ATTRIB));continue;case A.OPEN_TAG_SLASH:v===">"?(bt(h,!0),za(h)):(U(h,"Forward-slash in opening tag not followed by >"),h.state=A.ATTRIB);continue;case A.ATTRIB:if(C(v))continue;v===">"?bt(h):v==="/"?h.state=A.OPEN_TAG_SLASH:I(g,v)?(h.attribName=v,h.attribValue="",h.state=A.ATTRIB_NAME):U(h,"Invalid attribute name");continue;case A.ATTRIB_NAME:v==="="?h.state=A.ATTRIB_VALUE:v===">"?(U(h,"Attribute without value"),h.attribValue=h.attribName,z(h),bt(h)):C(v)?h.state=A.ATTRIB_NAME_SAW_WHITE:I(E,v)?h.attribName+=v:U(h,"Invalid attribute name");continue;case A.ATTRIB_NAME_SAW_WHITE:if(v==="=")h.state=A.ATTRIB_VALUE;else{if(C(v))continue;U(h,"Attribute without value"),h.tag.attributes[h.attribName]="",h.attribValue="",x(h,"onattribute",{name:h.attribName,value:""}),h.attribName="",v===">"?bt(h):I(g,v)?(h.attribName=v,h.state=A.ATTRIB_NAME):(U(h,"Invalid attribute name"),h.state=A.ATTRIB)}continue;case A.ATTRIB_VALUE:if(C(v))continue;N(v)?(h.q=v,h.state=A.ATTRIB_VALUE_QUOTED):(h.opt.unquotedAttributeValues||ne(h,"Unquoted attribute value"),h.state=A.ATTRIB_VALUE_UNQUOTED,h.attribValue=v);continue;case A.ATTRIB_VALUE_QUOTED:if(v!==h.q){v==="&"?h.state=A.ATTRIB_VALUE_ENTITY_Q:h.attribValue+=v;continue}z(h),h.q="",h.state=A.ATTRIB_VALUE_CLOSED;continue;case A.ATTRIB_VALUE_CLOSED:C(v)?h.state=A.ATTRIB:v===">"?bt(h):v==="/"?h.state=A.OPEN_TAG_SLASH:I(g,v)?(U(h,"No whitespace between attributes"),h.attribName=v,h.attribValue="",h.state=A.ATTRIB_NAME):U(h,"Invalid attribute name");continue;case A.ATTRIB_VALUE_UNQUOTED:if(!R(v)){v==="&"?h.state=A.ATTRIB_VALUE_ENTITY_U:h.attribValue+=v;continue}z(h),v===">"?bt(h):h.state=A.ATTRIB;continue;case A.CLOSE_TAG:if(h.tagName)v===">"?za(h):I(E,v)?h.tagName+=v:h.script?(h.script+="</"+h.tagName,h.tagName="",h.state=A.SCRIPT):(C(v)||U(h,"Invalid tagname in closing tag"),h.state=A.CLOSE_TAG_SAW_WHITE);else{if(C(v))continue;M(g,v)?h.script?(h.script+="</"+v,h.state=A.SCRIPT):U(h,"Invalid tagname in closing tag."):h.tagName=v}continue;case A.CLOSE_TAG_SAW_WHITE:if(C(v))continue;v===">"?za(h):U(h,"Invalid characters in closing tag");continue;case A.TEXT_ENTITY:case A.ATTRIB_VALUE_ENTITY_Q:case A.ATTRIB_VALUE_ENTITY_U:var de,xe;switch(h.state){case A.TEXT_ENTITY:de=A.TEXT,xe="textNode";break;case A.ATTRIB_VALUE_ENTITY_Q:de=A.ATTRIB_VALUE_QUOTED,xe="attribValue";break;case A.ATTRIB_VALUE_ENTITY_U:de=A.ATTRIB_VALUE_UNQUOTED,xe="attribValue";break}if(v===";"){var Re=lS(h);h.opt.unparsedEntities&&!Object.values(e.XML_ENTITIES).includes(Re)?(h.entity="",h.state=de,h.write(Re)):(h[xe]+=Re,h.entity="",h.state=de)}else I(h.entity.length?b:S,v)?h.entity+=v:(U(h,"Invalid character in entity name"),h[xe]+="&"+h.entity+v,h.entity="",h.state=de);continue;default:throw new Error(h,"Unknown state: "+h.state)}return h.position>=h.bufferCheckPosition&&n(h),h}String.fromCodePoint||(function(){var m=String.fromCharCode,h=Math.floor,_=function(){var v=16384,K=[],fe,de,xe=-1,Re=arguments.length;if(!Re)return"";for(var Lr="";++xe<Re;){var Ae=Number(arguments[xe]);if(!isFinite(Ae)||Ae<0||Ae>1114111||h(Ae)!==Ae)throw RangeError("Invalid code point: "+Ae);Ae<=65535?K.push(Ae):(Ae-=65536,fe=(Ae>>10)+55296,de=Ae%1024+56320,K.push(fe,de)),(xe+1===Re||K.length>v)&&(Lr+=m.apply(null,K),K.length=0)}return Lr};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:_,configurable:!0,writable:!0}):String.fromCodePoint=_})()})(typeof Ms>"u"?Ms.sax={}:Ms)});var Lm=y(Xn=>{"use strict";Object.defineProperty(Xn,"__esModule",{value:!0});Xn.XElement=void 0;Xn.parseXml=CT;var bT=Dm(),$s=Wn(),Bs=class{constructor(t){if(this.name=t,this.value="",this.attributes=null,this.isCData=!1,this.elements=null,!t)throw(0,$s.newError)("Element name cannot be empty","ERR_XML_ELEMENT_NAME_EMPTY");if(!_T(t))throw(0,$s.newError)("Invalid element name: ".concat(t),"ERR_XML_ELEMENT_INVALID_NAME")}attribute(t){let r=this.attributes===null?null:this.attributes[t];if(r==null)throw(0,$s.newError)('No attribute "'.concat(t,'"'),"ERR_XML_MISSED_ATTRIBUTE");return r}removeAttribute(t){this.attributes!==null&&delete this.attributes[t]}element(t,r=!1,n=null){let i=this.elementOrNull(t,r);if(i===null)throw(0,$s.newError)(n||'No element "'.concat(t,'"'),"ERR_XML_MISSED_ELEMENT");return i}elementOrNull(t,r=!1){if(this.elements===null)return null;for(let n of this.elements)if(qm(n,t,r))return n;return null}getElements(t,r=!1){return this.elements===null?[]:this.elements.filter(n=>qm(n,t,r))}elementValueOrEmpty(t,r=!1){let n=this.elementOrNull(t,r);return n===null?"":n.value}};Xn.XElement=Bs;var ST=new RegExp(/^[A-Za-z_][:A-Za-z0-9_-]*$/i);function _T(e){return ST.test(e)}function qm(e,t,r){let n=e.name;return n===t||r===!0&&n.length===t.length&&n.toLowerCase()===t.toLowerCase()}function CT(e){let t=null,r=bT.parser(!0,{}),n=[];return r.onopentag=i=>{let s=new Bs(i.name);if(s.attributes=i.attributes,t===null)t=s;else{let o=n[n.length-1];o.elements==null&&(o.elements=[]),o.elements.push(s)}n.push(s)},r.onclosetag=()=>{n.pop()},r.ontext=i=>{n.length>0&&(n[n.length-1].value=i)},r.oncdata=i=>{let s=n[n.length-1];s.value=i,s.isCData=!0},r.onerror=i=>{throw i},r.write(e),t}});var ye=y(F=>{"use strict";Object.defineProperty(F,"__esModule",{value:!0});F.CURRENT_APP_PACKAGE_FILE_NAME=F.CURRENT_APP_INSTALLER_FILE_NAME=F.XElement=F.parseXml=F.UUID=F.parseDn=F.retry=F.githubUrl=F.getS3LikeProviderBaseUrl=F.ProgressCallbackTransform=F.MemoLazy=F.safeStringifyJson=F.safeGetHeader=F.parseJson=F.HttpExecutor=F.HttpError=F.DigestTransform=F.createHttpError=F.configureRequestUrl=F.configureRequestOptionsFromUrl=F.configureRequestOptions=F.newError=F.CancellationToken=F.CancellationError=void 0;F.asArray=qT;var xm=Os();Object.defineProperty(F,"CancellationError",{enumerable:!0,get:function(){return xm.CancellationError}});Object.defineProperty(F,"CancellationToken",{enumerable:!0,get:function(){return xm.CancellationToken}});var TT=Wn();Object.defineProperty(F,"newError",{enumerable:!0,get:function(){return TT.newError}});var st=Am();Object.defineProperty(F,"configureRequestOptions",{enumerable:!0,get:function(){return st.configureRequestOptions}});Object.defineProperty(F,"configureRequestOptionsFromUrl",{enumerable:!0,get:function(){return st.configureRequestOptionsFromUrl}});Object.defineProperty(F,"configureRequestUrl",{enumerable:!0,get:function(){return st.configureRequestUrl}});Object.defineProperty(F,"createHttpError",{enumerable:!0,get:function(){return st.createHttpError}});Object.defineProperty(F,"DigestTransform",{enumerable:!0,get:function(){return st.DigestTransform}});Object.defineProperty(F,"HttpError",{enumerable:!0,get:function(){return st.HttpError}});Object.defineProperty(F,"HttpExecutor",{enumerable:!0,get:function(){return st.HttpExecutor}});Object.defineProperty(F,"parseJson",{enumerable:!0,get:function(){return st.parseJson}});Object.defineProperty(F,"safeGetHeader",{enumerable:!0,get:function(){return st.safeGetHeader}});Object.defineProperty(F,"safeStringifyJson",{enumerable:!0,get:function(){return st.safeStringifyJson}});var NT=Em();Object.defineProperty(F,"MemoLazy",{enumerable:!0,get:function(){return NT.MemoLazy}});var OT=Sl();Object.defineProperty(F,"ProgressCallbackTransform",{enumerable:!0,get:function(){return OT.ProgressCallbackTransform}});var Rm=bm();Object.defineProperty(F,"getS3LikeProviderBaseUrl",{enumerable:!0,get:function(){return Rm.getS3LikeProviderBaseUrl}});Object.defineProperty(F,"githubUrl",{enumerable:!0,get:function(){return Rm.githubUrl}});var IT=_m();Object.defineProperty(F,"retry",{enumerable:!0,get:function(){return IT.retry}});var PT=Cm();Object.defineProperty(F,"parseDn",{enumerable:!0,get:function(){return PT.parseDn}});var DT=Pm();Object.defineProperty(F,"UUID",{enumerable:!0,get:function(){return DT.UUID}});var km=Lm();Object.defineProperty(F,"parseXml",{enumerable:!0,get:function(){return km.parseXml}});Object.defineProperty(F,"XElement",{enumerable:!0,get:function(){return km.XElement}});F.CURRENT_APP_INSTALLER_FILE_NAME="installer.exe";F.CURRENT_APP_PACKAGE_FILE_NAME="package.7z";function qT(e){return e==null?[]:Array.isArray(e)?e:[e]}});var Yr=y((t$,ar)=>{"use strict";function Fm(e){return typeof e>"u"||e===null}function LT(e){return typeof e=="object"&&e!==null}function xT(e){return Array.isArray(e)?e:Fm(e)?[]:[e]}function RT(e,t){var r,n,i,s;if(t)for(s=Object.keys(t),r=0,n=s.length;r<n;r+=1)i=s[r],e[i]=t[i];return e}function kT(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function FT(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}ar.exports.isNothing=Fm;ar.exports.isObject=LT;ar.exports.toArray=xT;ar.exports.repeat=kT;ar.exports.isNegativeZero=FT;ar.exports.extend=RT});var Kr=y((r$,Mm)=>{"use strict";function Um(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+="\n\n"+e.mark.snippet),n+" "+r):n}function Jn(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Um(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Jn.prototype=Object.create(Error.prototype);Jn.prototype.constructor=Jn;Jn.prototype.toString=function(t){return this.name+": "+Um(this,t)};Mm.exports=Jn});var Bm=y((n$,$m)=>{"use strict";var Zn=Yr();function Pl(e,t,r,n,i){var s="",o="",a=Math.floor(i/2)-1;return n-t>a&&(s=" ... ",t=n-a+s.length),r-n>a&&(o=" ...",r=n+a-o.length),{str:s+e.slice(t,r).replace(/\t/g,"\u2192")+o,pos:n-t+s.length}}function Dl(e,t){return Zn.repeat(" ",t-e.length)+e}function UT(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],i=[],s,o=-1;s=r.exec(e.buffer);)i.push(s.index),n.push(s.index+s[0].length),e.position<=s.index&&o<0&&(o=n.length-2);o<0&&(o=n.length-1);var a="",l,c,f=Math.min(e.line+t.linesAfter,i.length).toString().length,u=t.maxLength-(t.indent+f+3);for(l=1;l<=t.linesBefore&&!(o-l<0);l++)c=Pl(e.buffer,n[o-l],i[o-l],e.position-(n[o]-n[o-l]),u),a=Zn.repeat(" ",t.indent)+Dl((e.line-l+1).toString(),f)+" | "+c.str+"\n"+a;for(c=Pl(e.buffer,n[o],i[o],e.position,u),a+=Zn.repeat(" ",t.indent)+Dl((e.line+1).toString(),f)+" | "+c.str+"\n",a+=Zn.repeat("-",t.indent+f+3+c.pos)+"^\n",l=1;l<=t.linesAfter&&!(o+l>=i.length);l++)c=Pl(e.buffer,n[o+l],i[o+l],e.position-(n[o]-n[o+l]),u),a+=Zn.repeat(" ",t.indent)+Dl((e.line+l+1).toString(),f)+" | "+c.str+"\n";return a.replace(/\n$/,"")}$m.exports=UT});var Se=y((i$,Hm)=>{"use strict";var jm=Kr(),MT=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],$T=["scalar","sequence","mapping"];function BT(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function jT(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(MT.indexOf(r)===-1)throw new jm('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=BT(t.styleAliases||null),$T.indexOf(this.kind)===-1)throw new jm('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}Hm.exports=jT});var xl=y((s$,Gm)=>{"use strict";var ei=Kr(),ql=Se();function Vm(e,t){var r=[];return e[t].forEach(function(n){var i=r.length;r.forEach(function(s,o){s.tag===n.tag&&s.kind===n.kind&&s.multi===n.multi&&(i=o)}),r[i]=n}),r}function HT(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(i){i.multi?(e.multi[i.kind].push(i),e.multi.fallback.push(i)):e[i.kind][i.tag]=e.fallback[i.tag]=i}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Ll(e){return this.extend(e)}Ll.prototype.extend=function(t){var r=[],n=[];if(t instanceof ql)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new ei("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(s){if(!(s instanceof ql))throw new ei("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(s.loadKind&&s.loadKind!=="scalar")throw new ei("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(s.multi)throw new ei("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(s){if(!(s instanceof ql))throw new ei("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var i=Object.create(Ll.prototype);return i.implicit=(this.implicit||[]).concat(r),i.explicit=(this.explicit||[]).concat(n),i.compiledImplicit=Vm(i,"implicit"),i.compiledExplicit=Vm(i,"explicit"),i.compiledTypeMap=HT(i.compiledImplicit,i.compiledExplicit),i};Gm.exports=Ll});var Rl=y((o$,Wm)=>{"use strict";var VT=Se();Wm.exports=new VT("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}})});var kl=y((a$,Ym)=>{"use strict";var GT=Se();Ym.exports=new GT("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}})});var Fl=y((l$,Km)=>{"use strict";var WT=Se();Km.exports=new WT("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}})});var Ul=y((c$,Qm)=>{"use strict";var YT=xl();Qm.exports=new YT({explicit:[Rl(),kl(),Fl()]})});var Ml=y((u$,zm)=>{"use strict";var KT=Se();function QT(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function zT(){return null}function XT(e){return e===null}zm.exports=new KT("tag:yaml.org,2002:null",{kind:"scalar",resolve:QT,construct:zT,predicate:XT,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})});var $l=y((f$,Xm)=>{"use strict";var JT=Se();function ZT(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function eN(e){return e==="true"||e==="True"||e==="TRUE"}function tN(e){return Object.prototype.toString.call(e)==="[object Boolean]"}Xm.exports=new JT("tag:yaml.org,2002:bool",{kind:"scalar",resolve:ZT,construct:eN,predicate:tN,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})});var Bl=y((d$,Jm)=>{"use strict";var rN=Yr(),nN=Se();function iN(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function sN(e){return 48<=e&&e<=55}function oN(e){return 48<=e&&e<=57}function aN(e){if(e===null)return!1;var t=e.length,r=0,n=!1,i;if(!t)return!1;if(i=e[r],(i==="-"||i==="+")&&(i=e[++r]),i==="0"){if(r+1===t)return!0;if(i=e[++r],i==="b"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(i!=="0"&&i!=="1")return!1;n=!0}return n&&i!=="_"}if(i==="x"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!iN(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}if(i==="o"){for(r++;r<t;r++)if(i=e[r],i!=="_"){if(!sN(e.charCodeAt(r)))return!1;n=!0}return n&&i!=="_"}}if(i==="_")return!1;for(;r<t;r++)if(i=e[r],i!=="_"){if(!oN(e.charCodeAt(r)))return!1;n=!0}return!(!n||i==="_")}function lN(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function cN(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!rN.isNegativeZero(e)}Jm.exports=new nN("tag:yaml.org,2002:int",{kind:"scalar",resolve:aN,construct:lN,predicate:cN,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})});var jl=y((h$,eg)=>{"use strict";var Zm=Yr(),uN=Se(),fN=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function dN(e){return!(e===null||!fN.test(e)||e[e.length-1]==="_")}function hN(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var pN=/^[-+]?[0-9]+e/;function mN(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Zm.isNegativeZero(e))return"-0.0";return r=e.toString(10),pN.test(r)?r.replace("e",".e"):r}function gN(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Zm.isNegativeZero(e))}eg.exports=new uN("tag:yaml.org,2002:float",{kind:"scalar",resolve:dN,construct:hN,predicate:gN,represent:mN,defaultStyle:"lowercase"})});var Hl=y((p$,tg)=>{"use strict";tg.exports=Ul().extend({implicit:[Ml(),$l(),Bl(),jl()]})});var Vl=y((m$,rg)=>{"use strict";rg.exports=Hl()});var Gl=y((g$,sg)=>{"use strict";var yN=Se(),ng=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),ig=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function AN(e){return e===null?!1:ng.exec(e)!==null||ig.exec(e)!==null}function wN(e){var t,r,n,i,s,o,a,l=0,c=null,f,u,d;if(t=ng.exec(e),t===null&&(t=ig.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,i=+t[3],!t[4])return new Date(Date.UTC(r,n,i));if(s=+t[4],o=+t[5],a=+t[6],t[7]){for(l=t[7].slice(0,3);l.length<3;)l+="0";l=+l}return t[9]&&(f=+t[10],u=+(t[11]||0),c=(f*60+u)*6e4,t[9]==="-"&&(c=-c)),d=new Date(Date.UTC(r,n,i,s,o,a,l)),c&&d.setTime(d.getTime()-c),d}function EN(e){return e.toISOString()}sg.exports=new yN("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:AN,construct:wN,instanceOf:Date,represent:EN})});var Wl=y((y$,og)=>{"use strict";var vN=Se();function bN(e){return e==="<<"||e===null}og.exports=new vN("tag:yaml.org,2002:merge",{kind:"scalar",resolve:bN})});var Kl=y((A$,ag)=>{"use strict";var SN=Se(),Yl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";function _N(e){if(e===null)return!1;var t,r,n=0,i=e.length,s=Yl;for(r=0;r<i;r++)if(t=s.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function CN(e){var t,r,n=e.replace(/[\r\n=]/g,""),i=n.length,s=Yl,o=0,a=[];for(t=0;t<i;t++)t%4===0&&t&&(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)),o=o<<6|s.indexOf(n.charAt(t));return r=i%4*6,r===0?(a.push(o>>16&255),a.push(o>>8&255),a.push(o&255)):r===18?(a.push(o>>10&255),a.push(o>>2&255)):r===12&&a.push(o>>4&255),new Uint8Array(a)}function TN(e){var t="",r=0,n,i,s=e.length,o=Yl;for(n=0;n<s;n++)n%3===0&&n&&(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]),r=(r<<8)+e[n];return i=s%3,i===0?(t+=o[r>>18&63],t+=o[r>>12&63],t+=o[r>>6&63],t+=o[r&63]):i===2?(t+=o[r>>10&63],t+=o[r>>4&63],t+=o[r<<2&63],t+=o[64]):i===1&&(t+=o[r>>2&63],t+=o[r<<4&63],t+=o[64],t+=o[64]),t}function NN(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}ag.exports=new SN("tag:yaml.org,2002:binary",{kind:"scalar",resolve:_N,construct:CN,predicate:NN,represent:TN})});var Ql=y((w$,lg)=>{"use strict";var ON=Se(),IN=Object.prototype.hasOwnProperty,PN=Object.prototype.toString;function DN(e){if(e===null)return!0;var t=[],r,n,i,s,o,a=e;for(r=0,n=a.length;r<n;r+=1){if(i=a[r],o=!1,PN.call(i)!=="[object Object]")return!1;for(s in i)if(IN.call(i,s))if(!o)o=!0;else return!1;if(!o)return!1;if(t.indexOf(s)===-1)t.push(s);else return!1}return!0}function qN(e){return e!==null?e:[]}lg.exports=new ON("tag:yaml.org,2002:omap",{kind:"sequence",resolve:DN,construct:qN})});var zl=y((E$,cg)=>{"use strict";var LN=Se(),xN=Object.prototype.toString;function RN(e){if(e===null)return!0;var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1){if(n=o[t],xN.call(n)!=="[object Object]"||(i=Object.keys(n),i.length!==1))return!1;s[t]=[i[0],n[i[0]]]}return!0}function kN(e){if(e===null)return[];var t,r,n,i,s,o=e;for(s=new Array(o.length),t=0,r=o.length;t<r;t+=1)n=o[t],i=Object.keys(n),s[t]=[i[0],n[i[0]]];return s}cg.exports=new LN("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:RN,construct:kN})});var Xl=y((v$,ug)=>{"use strict";var FN=Se(),UN=Object.prototype.hasOwnProperty;function MN(e){if(e===null)return!0;var t,r=e;for(t in r)if(UN.call(r,t)&&r[t]!==null)return!1;return!0}function $N(e){return e!==null?e:{}}ug.exports=new FN("tag:yaml.org,2002:set",{kind:"mapping",resolve:MN,construct:$N})});var js=y((b$,fg)=>{"use strict";fg.exports=Vl().extend({implicit:[Gl(),Wl()],explicit:[Kl(),Ql(),zl(),Xl()]})});var Og=y((S$,tc)=>{"use strict";var cr=Yr(),Ag=Kr(),BN=Bm(),jN=js(),qt=Object.prototype.hasOwnProperty,Hs=1,wg=2,Eg=3,Vs=4,Jl=1,HN=2,dg=3,VN=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,GN=/[\x85\u2028\u2029]/,WN=/[,\[\]\{\}]/,vg=/^(?:!|!!|![a-z\-]+!)$/i,bg=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function hg(e){return Object.prototype.toString.call(e)}function ot(e){return e===10||e===13}function ur(e){return e===9||e===32}function $e(e){return e===9||e===32||e===10||e===13}function Qr(e){return e===44||e===91||e===93||e===123||e===125}function YN(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function KN(e){return e===120?2:e===117?4:e===85?8:0}function QN(e){return 48<=e&&e<=57?e-48:-1}function pg(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?"\n":e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"\x85":e===95?"\xA0":e===76?"\u2028":e===80?"\u2029":""}function zN(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function Sg(e,t,r){t==="__proto__"?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[t]=r}var _g=new Array(256),Cg=new Array(256);for(lr=0;lr<256;lr++)_g[lr]=pg(lr)?1:0,Cg[lr]=pg(lr);var lr;function XN(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||jN,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function Tg(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=BN(r),new Ag(t,r)}function k(e,t){throw Tg(e,t)}function Gs(e,t){e.onWarning&&e.onWarning.call(null,Tg(e,t))}var mg={YAML:function(t,r,n){var i,s,o;t.version!==null&&k(t,"duplication of %YAML directive"),n.length!==1&&k(t,"YAML directive accepts exactly one argument"),i=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),i===null&&k(t,"ill-formed argument of the YAML directive"),s=parseInt(i[1],10),o=parseInt(i[2],10),s!==1&&k(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=o<2,o!==1&&o!==2&&Gs(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var i,s;n.length!==2&&k(t,"TAG directive accepts exactly two arguments"),i=n[0],s=n[1],vg.test(i)||k(t,"ill-formed tag handle (first argument) of the TAG directive"),qt.call(t.tagMap,i)&&k(t,'there is a previously declared suffix for "'+i+'" tag handle'),bg.test(s)||k(t,"ill-formed tag prefix (second argument) of the TAG directive");try{s=decodeURIComponent(s)}catch{k(t,"tag prefix is malformed: "+s)}t.tagMap[i]=s}};function Dt(e,t,r,n){var i,s,o,a;if(t<r){if(a=e.input.slice(t,r),n)for(i=0,s=a.length;i<s;i+=1)o=a.charCodeAt(i),o===9||32<=o&&o<=1114111||k(e,"expected valid JSON character");else VN.test(a)&&k(e,"the stream contains non-printable characters");e.result+=a}}function gg(e,t,r,n){var i,s,o,a;for(cr.isObject(r)||k(e,"cannot merge mappings; the provided source object is unacceptable"),i=Object.keys(r),o=0,a=i.length;o<a;o+=1)s=i[o],qt.call(t,s)||(Sg(t,s,r[s]),n[s]=!0)}function zr(e,t,r,n,i,s,o,a,l){var c,f;if(Array.isArray(i))for(i=Array.prototype.slice.call(i),c=0,f=i.length;c<f;c+=1)Array.isArray(i[c])&&k(e,"nested arrays are not supported inside keys"),typeof i=="object"&&hg(i[c])==="[object Object]"&&(i[c]="[object Object]");if(typeof i=="object"&&hg(i)==="[object Object]"&&(i="[object Object]"),i=String(i),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(s))for(c=0,f=s.length;c<f;c+=1)gg(e,t,s[c],r);else gg(e,t,s,r);else!e.json&&!qt.call(r,i)&&qt.call(t,i)&&(e.line=o||e.line,e.lineStart=a||e.lineStart,e.position=l||e.position,k(e,"duplicated mapping key")),Sg(t,i,s),delete r[i];return t}function Zl(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):k(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function le(e,t,r){for(var n=0,i=e.input.charCodeAt(e.position);i!==0;){for(;ur(i);)i===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),i=e.input.charCodeAt(++e.position);if(t&&i===35)do i=e.input.charCodeAt(++e.position);while(i!==10&&i!==13&&i!==0);if(ot(i))for(Zl(e),i=e.input.charCodeAt(e.position),n++,e.lineIndent=0;i===32;)e.lineIndent++,i=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Gs(e,"deficient indentation"),n}function Ws(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||$e(r)))}function ec(e,t){t===1?e.result+=" ":t>1&&(e.result+=cr.repeat("\n",t-1))}function JN(e,t,r){var n,i,s,o,a,l,c,f,u=e.kind,d=e.result,p;if(p=e.input.charCodeAt(e.position),$e(p)||Qr(p)||p===35||p===38||p===42||p===33||p===124||p===62||p===39||p===34||p===37||p===64||p===96||(p===63||p===45)&&(i=e.input.charCodeAt(e.position+1),$e(i)||r&&Qr(i)))return!1;for(e.kind="scalar",e.result="",s=o=e.position,a=!1;p!==0;){if(p===58){if(i=e.input.charCodeAt(e.position+1),$e(i)||r&&Qr(i))break}else if(p===35){if(n=e.input.charCodeAt(e.position-1),$e(n))break}else{if(e.position===e.lineStart&&Ws(e)||r&&Qr(p))break;if(ot(p))if(l=e.line,c=e.lineStart,f=e.lineIndent,le(e,!1,-1),e.lineIndent>=t){a=!0,p=e.input.charCodeAt(e.position);continue}else{e.position=o,e.line=l,e.lineStart=c,e.lineIndent=f;break}}a&&(Dt(e,s,o,!1),ec(e,e.line-l),s=o=e.position,a=!1),ur(p)||(o=e.position+1),p=e.input.charCodeAt(++e.position)}return Dt(e,s,o,!1),e.result?!0:(e.kind=u,e.result=d,!1)}function ZN(e,t){var r,n,i;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=i=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(Dt(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,i=e.position;else return!0;else ot(r)?(Dt(e,n,i,!0),ec(e,le(e,!1,t)),n=i=e.position):e.position===e.lineStart&&Ws(e)?k(e,"unexpected end of the document within a single quoted scalar"):(e.position++,i=e.position);k(e,"unexpected end of the stream within a single quoted scalar")}function eO(e,t){var r,n,i,s,o,a;if(a=e.input.charCodeAt(e.position),a!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(a=e.input.charCodeAt(e.position))!==0;){if(a===34)return Dt(e,r,e.position,!0),e.position++,!0;if(a===92){if(Dt(e,r,e.position,!0),a=e.input.charCodeAt(++e.position),ot(a))le(e,!1,t);else if(a<256&&_g[a])e.result+=Cg[a],e.position++;else if((o=KN(a))>0){for(i=o,s=0;i>0;i--)a=e.input.charCodeAt(++e.position),(o=YN(a))>=0?s=(s<<4)+o:k(e,"expected hexadecimal character");e.result+=zN(s),e.position++}else k(e,"unknown escape sequence");r=n=e.position}else ot(a)?(Dt(e,r,n,!0),ec(e,le(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Ws(e)?k(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}k(e,"unexpected end of the stream within a double quoted scalar")}function tO(e,t){var r=!0,n,i,s,o=e.tag,a,l=e.anchor,c,f,u,d,p,w=Object.create(null),g,E,S,b;if(b=e.input.charCodeAt(e.position),b===91)f=93,p=!1,a=[];else if(b===123)f=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),b=e.input.charCodeAt(++e.position);b!==0;){if(le(e,!0,t),b=e.input.charCodeAt(e.position),b===f)return e.position++,e.tag=o,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=a,!0;r?b===44&&k(e,"expected the node content, but found ','"):k(e,"missed comma between flow collection entries"),E=g=S=null,u=d=!1,b===63&&(c=e.input.charCodeAt(e.position+1),$e(c)&&(u=d=!0,e.position++,le(e,!0,t))),n=e.line,i=e.lineStart,s=e.position,Xr(e,t,Hs,!1,!0),E=e.tag,g=e.result,le(e,!0,t),b=e.input.charCodeAt(e.position),(d||e.line===n)&&b===58&&(u=!0,b=e.input.charCodeAt(++e.position),le(e,!0,t),Xr(e,t,Hs,!1,!0),S=e.result),p?zr(e,a,w,E,g,S,n,i,s):u?a.push(zr(e,null,w,E,g,S,n,i,s)):a.push(g),le(e,!0,t),b=e.input.charCodeAt(e.position),b===44?(r=!0,b=e.input.charCodeAt(++e.position)):r=!1}k(e,"unexpected end of the stream within a flow collection")}function rO(e,t){var r,n,i=Jl,s=!1,o=!1,a=t,l=0,c=!1,f,u;if(u=e.input.charCodeAt(e.position),u===124)n=!1;else if(u===62)n=!0;else return!1;for(e.kind="scalar",e.result="";u!==0;)if(u=e.input.charCodeAt(++e.position),u===43||u===45)Jl===i?i=u===43?dg:HN:k(e,"repeat of a chomping mode identifier");else if((f=QN(u))>=0)f===0?k(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):o?k(e,"repeat of an indentation width identifier"):(a=t+f-1,o=!0);else break;if(ur(u)){do u=e.input.charCodeAt(++e.position);while(ur(u));if(u===35)do u=e.input.charCodeAt(++e.position);while(!ot(u)&&u!==0)}for(;u!==0;){for(Zl(e),e.lineIndent=0,u=e.input.charCodeAt(e.position);(!o||e.lineIndent<a)&&u===32;)e.lineIndent++,u=e.input.charCodeAt(++e.position);if(!o&&e.lineIndent>a&&(a=e.lineIndent),ot(u)){l++;continue}if(e.lineIndent<a){i===dg?e.result+=cr.repeat("\n",s?1+l:l):i===Jl&&s&&(e.result+="\n");break}for(n?ur(u)?(c=!0,e.result+=cr.repeat("\n",s?1+l:l)):c?(c=!1,e.result+=cr.repeat("\n",l+1)):l===0?s&&(e.result+=" "):e.result+=cr.repeat("\n",l):e.result+=cr.repeat("\n",s?1+l:l),s=!0,o=!0,l=0,r=e.position;!ot(u)&&u!==0;)u=e.input.charCodeAt(++e.position);Dt(e,r,e.position,!1)}return!0}function yg(e,t){var r,n=e.tag,i=e.anchor,s=[],o,a=!1,l;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=s),l=e.input.charCodeAt(e.position);l!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,k(e,"tab characters must not be used in indentation")),!(l!==45||(o=e.input.charCodeAt(e.position+1),!$e(o))));){if(a=!0,e.position++,le(e,!0,-1)&&e.lineIndent<=t){s.push(null),l=e.input.charCodeAt(e.position);continue}if(r=e.line,Xr(e,t,Eg,!1,!0),s.push(e.result),le(e,!0,-1),l=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&l!==0)k(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return a?(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0):!1}function nO(e,t,r){var n,i,s,o,a,l,c=e.tag,f=e.anchor,u={},d=Object.create(null),p=null,w=null,g=null,E=!1,S=!1,b;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),b=e.input.charCodeAt(e.position);b!==0;){if(!E&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,k(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),s=e.line,(b===63||b===58)&&$e(n))b===63?(E&&(zr(e,u,d,p,w,null,o,a,l),p=w=g=null),S=!0,E=!0,i=!0):E?(E=!1,i=!0):k(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,b=n;else{if(o=e.line,a=e.lineStart,l=e.position,!Xr(e,r,wg,!1,!0))break;if(e.line===s){for(b=e.input.charCodeAt(e.position);ur(b);)b=e.input.charCodeAt(++e.position);if(b===58)b=e.input.charCodeAt(++e.position),$e(b)||k(e,"a whitespace character is expected after the key-value separator within a block mapping"),E&&(zr(e,u,d,p,w,null,o,a,l),p=w=g=null),S=!0,E=!1,i=!1,p=e.tag,w=e.result;else if(S)k(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=f,!0}else if(S)k(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=f,!0}if((e.line===s||e.lineIndent>t)&&(E&&(o=e.line,a=e.lineStart,l=e.position),Xr(e,t,Vs,!0,i)&&(E?w=e.result:g=e.result),E||(zr(e,u,d,p,w,g,o,a,l),p=w=g=null),le(e,!0,-1),b=e.input.charCodeAt(e.position)),(e.line===s||e.lineIndent>t)&&b!==0)k(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return E&&zr(e,u,d,p,w,null,o,a,l),S&&(e.tag=c,e.anchor=f,e.kind="mapping",e.result=u),S}function iO(e){var t,r=!1,n=!1,i,s,o;if(o=e.input.charCodeAt(e.position),o!==33)return!1;if(e.tag!==null&&k(e,"duplication of a tag property"),o=e.input.charCodeAt(++e.position),o===60?(r=!0,o=e.input.charCodeAt(++e.position)):o===33?(n=!0,i="!!",o=e.input.charCodeAt(++e.position)):i="!",t=e.position,r){do o=e.input.charCodeAt(++e.position);while(o!==0&&o!==62);e.position<e.length?(s=e.input.slice(t,e.position),o=e.input.charCodeAt(++e.position)):k(e,"unexpected end of the stream within a verbatim tag")}else{for(;o!==0&&!$e(o);)o===33&&(n?k(e,"tag suffix cannot contain exclamation marks"):(i=e.input.slice(t-1,e.position+1),vg.test(i)||k(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),o=e.input.charCodeAt(++e.position);s=e.input.slice(t,e.position),WN.test(s)&&k(e,"tag suffix cannot contain flow indicator characters")}s&&!bg.test(s)&&k(e,"tag name cannot contain such characters: "+s);try{s=decodeURIComponent(s)}catch{k(e,"tag name is malformed: "+s)}return r?e.tag=s:qt.call(e.tagMap,i)?e.tag=e.tagMap[i]+s:i==="!"?e.tag="!"+s:i==="!!"?e.tag="tag:yaml.org,2002:"+s:k(e,'undeclared tag handle "'+i+'"'),!0}function sO(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&k(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!$e(r)&&!Qr(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&k(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function oO(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!$e(n)&&!Qr(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&k(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),qt.call(e.anchorMap,r)||k(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],le(e,!0,-1),!0}function Xr(e,t,r,n,i){var s,o,a,l=1,c=!1,f=!1,u,d,p,w,g,E;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=o=a=Vs===r||Eg===r,n&&le(e,!0,-1)&&(c=!0,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)),l===1)for(;iO(e)||sO(e);)le(e,!0,-1)?(c=!0,a=s,e.lineIndent>t?l=1:e.lineIndent===t?l=0:e.lineIndent<t&&(l=-1)):a=!1;if(a&&(a=c||i),(l===1||Vs===r)&&(Hs===r||wg===r?g=t:g=t+1,E=e.position-e.lineStart,l===1?a&&(yg(e,E)||nO(e,E,g))||tO(e,g)?f=!0:(o&&rO(e,g)||ZN(e,g)||eO(e,g)?f=!0:oO(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&k(e,"alias node should not have any properties")):JN(e,g,Hs===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):l===0&&(f=a&&yg(e,E))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&k(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),u=0,d=e.implicitTypes.length;u<d;u+=1)if(w=e.implicitTypes[u],w.resolve(e.result)){e.result=w.construct(e.result),e.tag=w.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(qt.call(e.typeMap[e.kind||"fallback"],e.tag))w=e.typeMap[e.kind||"fallback"][e.tag];else for(w=null,p=e.typeMap.multi[e.kind||"fallback"],u=0,d=p.length;u<d;u+=1)if(e.tag.slice(0,p[u].tag.length)===p[u].tag){w=p[u];break}w||k(e,"unknown tag !<"+e.tag+">"),e.result!==null&&w.kind!==e.kind&&k(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+w.kind+'", not "'+e.kind+'"'),w.resolve(e.result,e.tag)?(e.result=w.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):k(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function aO(e){var t=e.position,r,n,i,s=!1,o;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(o=e.input.charCodeAt(e.position))!==0&&(le(e,!0,-1),o=e.input.charCodeAt(e.position),!(e.lineIndent>0||o!==37));){for(s=!0,o=e.input.charCodeAt(++e.position),r=e.position;o!==0&&!$e(o);)o=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),i=[],n.length<1&&k(e,"directive name must not be less than one character in length");o!==0;){for(;ur(o);)o=e.input.charCodeAt(++e.position);if(o===35){do o=e.input.charCodeAt(++e.position);while(o!==0&&!ot(o));break}if(ot(o))break;for(r=e.position;o!==0&&!$e(o);)o=e.input.charCodeAt(++e.position);i.push(e.input.slice(r,e.position))}o!==0&&Zl(e),qt.call(mg,n)?mg[n](e,n,i):Gs(e,'unknown document directive "'+n+'"')}if(le(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,le(e,!0,-1)):s&&k(e,"directives end mark is expected"),Xr(e,e.lineIndent-1,Vs,!1,!0),le(e,!0,-1),e.checkLineBreaks&&GN.test(e.input.slice(t,e.position))&&Gs(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Ws(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,le(e,!0,-1));return}if(e.position<e.length-1)k(e,"end of the stream or a document separator is expected");else return}function Ng(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+="\n"),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new XN(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,k(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)aO(r);return r.documents}function lO(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=Ng(e,r);if(typeof t!="function")return n;for(var i=0,s=n.length;i<s;i+=1)t(n[i])}function cO(e,t){var r=Ng(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new Ag("expected a single document in the stream, but found more")}}tc.exports.loadAll=lO;tc.exports.load=cO});var Qg=y((_$,Kg)=>{"use strict";var Qs=Yr(),si=Kr(),uO=js(),Fg=Object.prototype.toString,Ug=Object.prototype.hasOwnProperty,oc=65279,fO=9,ri=10,dO=13,hO=32,pO=33,mO=34,rc=35,gO=37,yO=38,AO=39,wO=42,Mg=44,EO=45,Ys=58,vO=61,bO=62,SO=63,_O=64,$g=91,Bg=93,CO=96,jg=123,TO=124,Hg=125,_e={};_e[0]="\\0";_e[7]="\\a";_e[8]="\\b";_e[9]="\\t";_e[10]="\\n";_e[11]="\\v";_e[12]="\\f";_e[13]="\\r";_e[27]="\\e";_e[34]='\\"';_e[92]="\\\\";_e[133]="\\N";_e[160]="\\_";_e[8232]="\\L";_e[8233]="\\P";var NO=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],OO=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function IO(e,t){var r,n,i,s,o,a,l;if(t===null)return{};for(r={},n=Object.keys(t),i=0,s=n.length;i<s;i+=1)o=n[i],a=String(t[o]),o.slice(0,2)==="!!"&&(o="tag:yaml.org,2002:"+o.slice(2)),l=e.compiledTypeMap.fallback[o],l&&Ug.call(l.styleAliases,a)&&(a=l.styleAliases[a]),r[o]=a;return r}function PO(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new si("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Qs.repeat("0",n-t.length)+t}var DO=1,ni=2;function qO(e){this.schema=e.schema||uO,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Qs.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=IO(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?ni:DO,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Ig(e,t){for(var r=Qs.repeat(" ",t),n=0,i=-1,s="",o,a=e.length;n<a;)i=e.indexOf("\n",n),i===-1?(o=e.slice(n),n=a):(o=e.slice(n,i+1),n=i+1),o.length&&o!=="\n"&&(s+=r),s+=o;return s}function nc(e,t){return"\n"+Qs.repeat(" ",e.indent*t)}function LO(e,t){var r,n,i;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(i=e.implicitTypes[r],i.resolve(t))return!0;return!1}function Ks(e){return e===hO||e===fO}function ii(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==oc||65536<=e&&e<=1114111}function Pg(e){return ii(e)&&e!==oc&&e!==dO&&e!==ri}function Dg(e,t,r){var n=Pg(e),i=n&&!Ks(e);return(r?n:n&&e!==Mg&&e!==$g&&e!==Bg&&e!==jg&&e!==Hg)&&e!==rc&&!(t===Ys&&!i)||Pg(t)&&!Ks(t)&&e===rc||t===Ys&&i}function xO(e){return ii(e)&&e!==oc&&!Ks(e)&&e!==EO&&e!==SO&&e!==Ys&&e!==Mg&&e!==$g&&e!==Bg&&e!==jg&&e!==Hg&&e!==rc&&e!==yO&&e!==wO&&e!==pO&&e!==TO&&e!==vO&&e!==bO&&e!==AO&&e!==mO&&e!==gO&&e!==_O&&e!==CO}function RO(e){return!Ks(e)&&e!==Ys}function ti(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function Vg(e){var t=/^\n* /;return t.test(e)}var Gg=1,ic=2,Wg=3,Yg=4,Jr=5;function kO(e,t,r,n,i,s,o,a){var l,c=0,f=null,u=!1,d=!1,p=n!==-1,w=-1,g=xO(ti(e,0))&&RO(ti(e,e.length-1));if(t||o)for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ti(e,l),!ii(c))return Jr;g=g&&Dg(c,f,a),f=c}else{for(l=0;l<e.length;c>=65536?l+=2:l++){if(c=ti(e,l),c===ri)u=!0,p&&(d=d||l-w-1>n&&e[w+1]!==" ",w=l);else if(!ii(c))return Jr;g=g&&Dg(c,f,a),f=c}d=d||p&&l-w-1>n&&e[w+1]!==" "}return!u&&!d?g&&!o&&!i(e)?Gg:s===ni?Jr:ic:r>9&&Vg(e)?Jr:o?s===ni?Jr:ic:d?Yg:Wg}function FO(e,t,r,n,i){e.dump=(function(){if(t.length===0)return e.quotingType===ni?'""':"''";if(!e.noCompatMode&&(NO.indexOf(t)!==-1||OO.test(t)))return e.quotingType===ni?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,r),o=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),a=n||e.flowLevel>-1&&r>=e.flowLevel;function l(c){return LO(e,c)}switch(kO(t,a,e.indent,o,l,e.quotingType,e.forceQuotes&&!n,i)){case Gg:return t;case ic:return"'"+t.replace(/'/g,"''")+"'";case Wg:return"|"+qg(t,e.indent)+Lg(Ig(t,s));case Yg:return">"+qg(t,e.indent)+Lg(Ig(UO(t,o),s));case Jr:return'"'+MO(t,o)+'"';default:throw new si("impossible error: invalid scalar style")}})()}function qg(e,t){var r=Vg(e)?String(t):"",n=e[e.length-1]==="\n",i=n&&(e[e.length-2]==="\n"||e==="\n"),s=i?"+":n?"":"-";return r+s+"\n"}function Lg(e){return e[e.length-1]==="\n"?e.slice(0,-1):e}function UO(e,t){for(var r=/(\n+)([^\n]*)/g,n=(function(){var c=e.indexOf("\n");return c=c!==-1?c:e.length,r.lastIndex=c,xg(e.slice(0,c),t)})(),i=e[0]==="\n"||e[0]===" ",s,o;o=r.exec(e);){var a=o[1],l=o[2];s=l[0]===" ",n+=a+(!i&&!s&&l!==""?"\n":"")+xg(l,t),i=s}return n}function xg(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,i=0,s,o=0,a=0,l="";n=r.exec(e);)a=n.index,a-i>t&&(s=o>i?o:a,l+="\n"+e.slice(i,s),i=s+1),o=a;return l+="\n",e.length-i>t&&o>i?l+=e.slice(i,o)+"\n"+e.slice(o+1):l+=e.slice(i),l.slice(1)}function MO(e){for(var t="",r=0,n,i=0;i<e.length;r>=65536?i+=2:i++)r=ti(e,i),n=_e[r],!n&&ii(r)?(t+=e[i],r>=65536&&(t+=e[i+1])):t+=n||PO(r);return t}function $O(e,t,r){var n="",i=e.tag,s,o,a;for(s=0,o=r.length;s<o;s+=1)a=r[s],e.replacer&&(a=e.replacer.call(r,String(s),a)),(ht(e,t,a,!1,!1)||typeof a>"u"&&ht(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=i,e.dump="["+n+"]"}function Rg(e,t,r,n){var i="",s=e.tag,o,a,l;for(o=0,a=r.length;o<a;o+=1)l=r[o],e.replacer&&(l=e.replacer.call(r,String(o),l)),(ht(e,t+1,l,!0,!0,!1,!0)||typeof l>"u"&&ht(e,t+1,null,!0,!0,!1,!0))&&((!n||i!=="")&&(i+=nc(e,t)),e.dump&&ri===e.dump.charCodeAt(0)?i+="-":i+="- ",i+=e.dump);e.tag=s,e.dump=i||"[]"}function BO(e,t,r){var n="",i=e.tag,s=Object.keys(r),o,a,l,c,f;for(o=0,a=s.length;o<a;o+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),l=s[o],c=r[l],e.replacer&&(c=e.replacer.call(r,l,c)),ht(e,t,l,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ht(e,t,c,!1,!1)&&(f+=e.dump,n+=f));e.tag=i,e.dump="{"+n+"}"}function jO(e,t,r,n){var i="",s=e.tag,o=Object.keys(r),a,l,c,f,u,d;if(e.sortKeys===!0)o.sort();else if(typeof e.sortKeys=="function")o.sort(e.sortKeys);else if(e.sortKeys)throw new si("sortKeys must be a boolean or a function");for(a=0,l=o.length;a<l;a+=1)d="",(!n||i!=="")&&(d+=nc(e,t)),c=o[a],f=r[c],e.replacer&&(f=e.replacer.call(r,c,f)),ht(e,t+1,c,!0,!0,!0)&&(u=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,u&&(e.dump&&ri===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,u&&(d+=nc(e,t)),ht(e,t+1,f,!0,u)&&(e.dump&&ri===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,i+=d));e.tag=s,e.dump=i||"{}"}function kg(e,t,r){var n,i,s,o,a,l;for(i=r?e.explicitTypes:e.implicitTypes,s=0,o=i.length;s<o;s+=1)if(a=i[s],(a.instanceOf||a.predicate)&&(!a.instanceOf||typeof t=="object"&&t instanceof a.instanceOf)&&(!a.predicate||a.predicate(t))){if(r?a.multi&&a.representName?e.tag=a.representName(t):e.tag=a.tag:e.tag="?",a.represent){if(l=e.styleMap[a.tag]||a.defaultStyle,Fg.call(a.represent)==="[object Function]")n=a.represent(t,l);else if(Ug.call(a.represent,l))n=a.represent[l](t,l);else throw new si("!<"+a.tag+'> tag resolver accepts not "'+l+'" style');e.dump=n}return!0}return!1}function ht(e,t,r,n,i,s,o){e.tag=null,e.dump=r,kg(e,r,!1)||kg(e,r,!0);var a=Fg.call(e.dump),l=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=a==="[object Object]"||a==="[object Array]",u,d;if(f&&(u=e.duplicates.indexOf(r),d=u!==-1),(e.tag!==null&&e.tag!=="?"||d||e.indent!==2&&t>0)&&(i=!1),d&&e.usedDuplicates[u])e.dump="*ref_"+u;else{if(f&&d&&!e.usedDuplicates[u]&&(e.usedDuplicates[u]=!0),a==="[object Object]")n&&Object.keys(e.dump).length!==0?(jO(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):(BO(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!o&&t>0?Rg(e,t-1,e.dump,i):Rg(e,t,e.dump,i),d&&(e.dump="&ref_"+u+e.dump)):($O(e,t,e.dump),d&&(e.dump="&ref_"+u+" "+e.dump));else if(a==="[object String]")e.tag!=="?"&&FO(e,e.dump,t,s,l);else{if(a==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new si("unacceptable kind of an object to dump "+a)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function HO(e,t){var r=[],n=[],i,s;for(sc(e,r,n),i=0,s=n.length;i<s;i+=1)t.duplicates.push(r[n[i]]);t.usedDuplicates=new Array(s)}function sc(e,t,r){var n,i,s;if(e!==null&&typeof e=="object")if(i=t.indexOf(e),i!==-1)r.indexOf(i)===-1&&r.push(i);else if(t.push(e),Array.isArray(e))for(i=0,s=e.length;i<s;i+=1)sc(e[i],t,r);else for(n=Object.keys(e),i=0,s=n.length;i<s;i+=1)sc(e[n[i]],t,r)}function VO(e,t){t=t||{};var r=new qO(t);r.noRefs||HO(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),ht(r,0,n,!0,!0)?r.dump+"\n":""}Kg.exports.dump=VO});var zs=y((C$,Pe)=>{"use strict";var zg=Og(),GO=Qg();function ac(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}Pe.exports.Type=Se();Pe.exports.Schema=xl();Pe.exports.FAILSAFE_SCHEMA=Ul();Pe.exports.JSON_SCHEMA=Hl();Pe.exports.CORE_SCHEMA=Vl();Pe.exports.DEFAULT_SCHEMA=js();Pe.exports.load=zg.load;Pe.exports.loadAll=zg.loadAll;Pe.exports.dump=GO.dump;Pe.exports.YAMLException=Kr();Pe.exports.types={binary:Kl(),float:jl(),map:Fl(),null:Ml(),pairs:zl(),set:Xl(),timestamp:Gl(),bool:$l(),int:Bl(),merge:Wl(),omap:Ql(),seq:kl(),str:Rl()};Pe.exports.safeLoad=ac("safeLoad","load");Pe.exports.safeLoadAll=ac("safeLoadAll","loadAll");Pe.exports.safeDump=ac("safeDump","dump")});var Xg=y(Xs=>{"use strict";Object.defineProperty(Xs,"__esModule",{value:!0});Xs.Lazy=void 0;var lc=class{constructor(t){this._value=null,this.creator=t}get hasValue(){return this.creator==null}get value(){if(this.creator==null)return this._value;let t=this.creator();return this.value=t,t}set value(t){this._value=t,this.creator=null}};Xs.Lazy=lc});var oi=y((N$,Jg)=>{"use strict";var WO="2.0.0",YO=Number.MAX_SAFE_INTEGER||9007199254740991,KO=16,QO=250,zO=["major","premajor","minor","preminor","patch","prepatch","prerelease"];Jg.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:KO,MAX_SAFE_BUILD_LENGTH:QO,MAX_SAFE_INTEGER:YO,RELEASE_TYPES:zO,SEMVER_SPEC_VERSION:WO,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}});var ai=y((O$,Zg)=>{"use strict";var XO=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};Zg.exports=XO});var Zr=y((at,ey)=>{"use strict";var{MAX_SAFE_COMPONENT_LENGTH:cc,MAX_SAFE_BUILD_LENGTH:JO,MAX_LENGTH:ZO}=oi(),e1=ai();at=ey.exports={};var t1=at.re=[],r1=at.safeRe=[],P=at.src=[],n1=at.safeSrc=[],D=at.t={},i1=0,uc="[a-zA-Z0-9-]",s1=[["\\s",1],["\\d",ZO],[uc,JO]],o1=e=>{for(let[t,r]of s1)e=e.split("".concat(t,"*")).join("".concat(t,"{0,").concat(r,"}")).split("".concat(t,"+")).join("".concat(t,"{1,").concat(r,"}"));return e},j=(e,t,r)=>{let n=o1(t),i=i1++;e1(e,i,t),D[e]=i,P[i]=t,n1[i]=n,t1[i]=new RegExp(t,r?"g":void 0),r1[i]=new RegExp(n,r?"g":void 0)};j("NUMERICIDENTIFIER","0|[1-9]\\d*");j("NUMERICIDENTIFIERLOOSE","\\d+");j("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-]".concat(uc,"*"));j("MAINVERSION","(".concat(P[D.NUMERICIDENTIFIER],")\\.")+"(".concat(P[D.NUMERICIDENTIFIER],")\\.")+"(".concat(P[D.NUMERICIDENTIFIER],")"));j("MAINVERSIONLOOSE","(".concat(P[D.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(P[D.NUMERICIDENTIFIERLOOSE],")\\.")+"(".concat(P[D.NUMERICIDENTIFIERLOOSE],")"));j("PRERELEASEIDENTIFIER","(?:".concat(P[D.NONNUMERICIDENTIFIER],"|").concat(P[D.NUMERICIDENTIFIER],")"));j("PRERELEASEIDENTIFIERLOOSE","(?:".concat(P[D.NONNUMERICIDENTIFIER],"|").concat(P[D.NUMERICIDENTIFIERLOOSE],")"));j("PRERELEASE","(?:-(".concat(P[D.PRERELEASEIDENTIFIER],"(?:\\.").concat(P[D.PRERELEASEIDENTIFIER],")*))"));j("PRERELEASELOOSE","(?:-?(".concat(P[D.PRERELEASEIDENTIFIERLOOSE],"(?:\\.").concat(P[D.PRERELEASEIDENTIFIERLOOSE],")*))"));j("BUILDIDENTIFIER","".concat(uc,"+"));j("BUILD","(?:\\+(".concat(P[D.BUILDIDENTIFIER],"(?:\\.").concat(P[D.BUILDIDENTIFIER],")*))"));j("FULLPLAIN","v?".concat(P[D.MAINVERSION]).concat(P[D.PRERELEASE],"?").concat(P[D.BUILD],"?"));j("FULL","^".concat(P[D.FULLPLAIN],"$"));j("LOOSEPLAIN","[v=\\s]*".concat(P[D.MAINVERSIONLOOSE]).concat(P[D.PRERELEASELOOSE],"?").concat(P[D.BUILD],"?"));j("LOOSE","^".concat(P[D.LOOSEPLAIN],"$"));j("GTLT","((?:<|>)?=?)");j("XRANGEIDENTIFIERLOOSE","".concat(P[D.NUMERICIDENTIFIERLOOSE],"|x|X|\\*"));j("XRANGEIDENTIFIER","".concat(P[D.NUMERICIDENTIFIER],"|x|X|\\*"));j("XRANGEPLAIN","[v=\\s]*(".concat(P[D.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(P[D.XRANGEIDENTIFIER],")")+"(?:\\.(".concat(P[D.XRANGEIDENTIFIER],")")+"(?:".concat(P[D.PRERELEASE],")?").concat(P[D.BUILD],"?")+")?)?");j("XRANGEPLAINLOOSE","[v=\\s]*(".concat(P[D.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(P[D.XRANGEIDENTIFIERLOOSE],")")+"(?:\\.(".concat(P[D.XRANGEIDENTIFIERLOOSE],")")+"(?:".concat(P[D.PRERELEASELOOSE],")?").concat(P[D.BUILD],"?")+")?)?");j("XRANGE","^".concat(P[D.GTLT],"\\s*").concat(P[D.XRANGEPLAIN],"$"));j("XRANGELOOSE","^".concat(P[D.GTLT],"\\s*").concat(P[D.XRANGEPLAINLOOSE],"$"));j("COERCEPLAIN","(^|[^\\d])(\\d{1,".concat(cc,"})")+"(?:\\.(\\d{1,".concat(cc,"}))?")+"(?:\\.(\\d{1,".concat(cc,"}))?"));j("COERCE","".concat(P[D.COERCEPLAIN],"(?:$|[^\\d])"));j("COERCEFULL",P[D.COERCEPLAIN]+"(?:".concat(P[D.PRERELEASE],")?")+"(?:".concat(P[D.BUILD],")?")+"(?:$|[^\\d])");j("COERCERTL",P[D.COERCE],!0);j("COERCERTLFULL",P[D.COERCEFULL],!0);j("LONETILDE","(?:~>?)");j("TILDETRIM","(\\s*)".concat(P[D.LONETILDE],"\\s+"),!0);at.tildeTrimReplace="$1~";j("TILDE","^".concat(P[D.LONETILDE]).concat(P[D.XRANGEPLAIN],"$"));j("TILDELOOSE","^".concat(P[D.LONETILDE]).concat(P[D.XRANGEPLAINLOOSE],"$"));j("LONECARET","(?:\\^)");j("CARETTRIM","(\\s*)".concat(P[D.LONECARET],"\\s+"),!0);at.caretTrimReplace="$1^";j("CARET","^".concat(P[D.LONECARET]).concat(P[D.XRANGEPLAIN],"$"));j("CARETLOOSE","^".concat(P[D.LONECARET]).concat(P[D.XRANGEPLAINLOOSE],"$"));j("COMPARATORLOOSE","^".concat(P[D.GTLT],"\\s*(").concat(P[D.LOOSEPLAIN],")$|^$"));j("COMPARATOR","^".concat(P[D.GTLT],"\\s*(").concat(P[D.FULLPLAIN],")$|^$"));j("COMPARATORTRIM","(\\s*)".concat(P[D.GTLT],"\\s*(").concat(P[D.LOOSEPLAIN],"|").concat(P[D.XRANGEPLAIN],")"),!0);at.comparatorTrimReplace="$1$2$3";j("HYPHENRANGE","^\\s*(".concat(P[D.XRANGEPLAIN],")")+"\\s+-\\s+"+"(".concat(P[D.XRANGEPLAIN],")")+"\\s*$");j("HYPHENRANGELOOSE","^\\s*(".concat(P[D.XRANGEPLAINLOOSE],")")+"\\s+-\\s+"+"(".concat(P[D.XRANGEPLAINLOOSE],")")+"\\s*$");j("STAR","(<|>)?=?\\s*\\*");j("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$");j("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")});var Js=y((I$,ty)=>{"use strict";var a1=Object.freeze({loose:!0}),l1=Object.freeze({}),c1=e=>e?typeof e!="object"?a1:e:l1;ty.exports=c1});var fc=y((P$,iy)=>{"use strict";var ry=/^[0-9]+$/,ny=(e,t)=>{let r=ry.test(e),n=ry.test(t);return r&&n&&(e=+e,t=+t),e===t?0:r&&!n?-1:n&&!r?1:e<t?-1:1},u1=(e,t)=>ny(t,e);iy.exports={compareIdentifiers:ny,rcompareIdentifiers:u1}});var Ce=y((D$,oy)=>{"use strict";var Zs=ai(),{MAX_LENGTH:sy,MAX_SAFE_INTEGER:eo}=oi(),{safeRe:to,t:ro}=Zr(),f1=Js(),{compareIdentifiers:en}=fc(),dc=class e{constructor(t,r){if(r=f1(r),t instanceof e){if(t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease)return t;t=t.version}else if(typeof t!="string")throw new TypeError('Invalid version. Must be a string. Got type "'.concat(typeof t,'".'));if(t.length>sy)throw new TypeError("version is longer than ".concat(sy," characters"));Zs("SemVer",t,r),this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease;let n=t.trim().match(r.loose?to[ro.LOOSE]:to[ro.FULL]);if(!n)throw new TypeError("Invalid Version: ".concat(t));if(this.raw=t,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>eo||this.major<0)throw new TypeError("Invalid major version");if(this.minor>eo||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>eo||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(i=>{if(/^[0-9]+$/.test(i)){let s=+i;if(s>=0&&s<eo)return s}return i}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version="".concat(this.major,".").concat(this.minor,".").concat(this.patch),this.prerelease.length&&(this.version+="-".concat(this.prerelease.join("."))),this.version}toString(){return this.version}compare(t){if(Zs("SemVer.compare",this.version,this.options,t),!(t instanceof e)){if(typeof t=="string"&&t===this.version)return 0;t=new e(t,this.options)}return t.version===this.version?0:this.compareMain(t)||this.comparePre(t)}compareMain(t){return t instanceof e||(t=new e(t,this.options)),en(this.major,t.major)||en(this.minor,t.minor)||en(this.patch,t.patch)}comparePre(t){if(t instanceof e||(t=new e(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;let r=0;do{let n=this.prerelease[r],i=t.prerelease[r];if(Zs("prerelease compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return en(n,i)}while(++r)}compareBuild(t){t instanceof e||(t=new e(t,this.options));let r=0;do{let n=this.build[r],i=t.build[r];if(Zs("build compare",r,n,i),n===void 0&&i===void 0)return 0;if(i===void 0)return 1;if(n===void 0)return-1;if(n===i)continue;return en(n,i)}while(++r)}inc(t,r,n){if(t.startsWith("pre")){if(!r&&n===!1)throw new Error("invalid increment argument: identifier is empty");if(r){let i="-".concat(r).match(this.options.loose?to[ro.PRERELEASELOOSE]:to[ro.PRERELEASE]);if(!i||i[1]!==r)throw new Error("invalid identifier: ".concat(r))}}switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",r,n);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",r,n);break;case"prepatch":this.prerelease.length=0,this.inc("patch",r,n),this.inc("pre",r,n);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",r,n),this.inc("pre",r,n);break;case"release":if(this.prerelease.length===0)throw new Error("version ".concat(this.raw," is not a prerelease"));this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{let i=Number(n)?1:0;if(this.prerelease.length===0)this.prerelease=[i];else{let s=this.prerelease.length;for(;--s>=0;)typeof this.prerelease[s]=="number"&&(this.prerelease[s]++,s=-2);if(s===-1){if(r===this.prerelease.join(".")&&n===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(i)}}if(r){let s=[r,i];n===!1&&(s=[r]),en(this.prerelease[0],r)===0?isNaN(this.prerelease[1])&&(this.prerelease=s):this.prerelease=s}break}default:throw new Error("invalid increment argument: ".concat(t))}return this.raw=this.format(),this.build.length&&(this.raw+="+".concat(this.build.join("."))),this}};oy.exports=dc});var fr=y((q$,ly)=>{"use strict";var ay=Ce(),d1=(e,t,r=!1)=>{if(e instanceof ay)return e;try{return new ay(e,t)}catch(n){if(!r)return null;throw n}};ly.exports=d1});var uy=y((L$,cy)=>{"use strict";var h1=fr(),p1=(e,t)=>{let r=h1(e,t);return r?r.version:null};cy.exports=p1});var dy=y((x$,fy)=>{"use strict";var m1=fr(),g1=(e,t)=>{let r=m1(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};fy.exports=g1});var my=y((R$,py)=>{"use strict";var hy=Ce(),y1=(e,t,r,n,i)=>{typeof r=="string"&&(i=n,n=r,r=void 0);try{return new hy(e instanceof hy?e.version:e,r).inc(t,n,i).version}catch{return null}};py.exports=y1});var Ay=y((k$,yy)=>{"use strict";var gy=fr(),A1=(e,t)=>{let r=gy(e,null,!0),n=gy(t,null,!0),i=r.compare(n);if(i===0)return null;let s=i>0,o=s?r:n,a=s?n:r,l=!!o.prerelease.length;if(!!a.prerelease.length&&!l){if(!a.patch&&!a.minor)return"major";if(a.compareMain(o)===0)return a.minor&&!a.patch?"minor":"patch"}let f=l?"pre":"";return r.major!==n.major?f+"major":r.minor!==n.minor?f+"minor":r.patch!==n.patch?f+"patch":"prerelease"};yy.exports=A1});var Ey=y((F$,wy)=>{"use strict";var w1=Ce(),E1=(e,t)=>new w1(e,t).major;wy.exports=E1});var by=y((U$,vy)=>{"use strict";var v1=Ce(),b1=(e,t)=>new v1(e,t).minor;vy.exports=b1});var _y=y((M$,Sy)=>{"use strict";var S1=Ce(),_1=(e,t)=>new S1(e,t).patch;Sy.exports=_1});var Ty=y(($$,Cy)=>{"use strict";var C1=fr(),T1=(e,t)=>{let r=C1(e,t);return r&&r.prerelease.length?r.prerelease:null};Cy.exports=T1});var ze=y((B$,Oy)=>{"use strict";var Ny=Ce(),N1=(e,t,r)=>new Ny(e,r).compare(new Ny(t,r));Oy.exports=N1});var Py=y((j$,Iy)=>{"use strict";var O1=ze(),I1=(e,t,r)=>O1(t,e,r);Iy.exports=I1});var qy=y((H$,Dy)=>{"use strict";var P1=ze(),D1=(e,t)=>P1(e,t,!0);Dy.exports=D1});var no=y((V$,xy)=>{"use strict";var Ly=Ce(),q1=(e,t,r)=>{let n=new Ly(e,r),i=new Ly(t,r);return n.compare(i)||n.compareBuild(i)};xy.exports=q1});var ky=y((G$,Ry)=>{"use strict";var L1=no(),x1=(e,t)=>e.sort((r,n)=>L1(r,n,t));Ry.exports=x1});var Uy=y((W$,Fy)=>{"use strict";var R1=no(),k1=(e,t)=>e.sort((r,n)=>R1(n,r,t));Fy.exports=k1});var li=y((Y$,My)=>{"use strict";var F1=ze(),U1=(e,t,r)=>F1(e,t,r)>0;My.exports=U1});var io=y((K$,$y)=>{"use strict";var M1=ze(),$1=(e,t,r)=>M1(e,t,r)<0;$y.exports=$1});var hc=y((Q$,By)=>{"use strict";var B1=ze(),j1=(e,t,r)=>B1(e,t,r)===0;By.exports=j1});var pc=y((z$,jy)=>{"use strict";var H1=ze(),V1=(e,t,r)=>H1(e,t,r)!==0;jy.exports=V1});var so=y((X$,Hy)=>{"use strict";var G1=ze(),W1=(e,t,r)=>G1(e,t,r)>=0;Hy.exports=W1});var oo=y((J$,Vy)=>{"use strict";var Y1=ze(),K1=(e,t,r)=>Y1(e,t,r)<=0;Vy.exports=K1});var mc=y((Z$,Gy)=>{"use strict";var Q1=hc(),z1=pc(),X1=li(),J1=so(),Z1=io(),eI=oo(),tI=(e,t,r,n)=>{switch(t){case"===":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e===r;case"!==":return typeof e=="object"&&(e=e.version),typeof r=="object"&&(r=r.version),e!==r;case"":case"=":case"==":return Q1(e,r,n);case"!=":return z1(e,r,n);case">":return X1(e,r,n);case">=":return J1(e,r,n);case"<":return Z1(e,r,n);case"<=":return eI(e,r,n);default:throw new TypeError("Invalid operator: ".concat(t))}};Gy.exports=tI});var Yy=y((eB,Wy)=>{"use strict";var rI=Ce(),nI=fr(),{safeRe:ao,t:lo}=Zr(),iI=(e,t)=>{if(e instanceof rI)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;t=t||{};let r=null;if(!t.rtl)r=e.match(t.includePrerelease?ao[lo.COERCEFULL]:ao[lo.COERCE]);else{let l=t.includePrerelease?ao[lo.COERCERTLFULL]:ao[lo.COERCERTL],c;for(;(c=l.exec(e))&&(!r||r.index+r[0].length!==e.length);)(!r||c.index+c[0].length!==r.index+r[0].length)&&(r=c),l.lastIndex=c.index+c[1].length+c[2].length;l.lastIndex=-1}if(r===null)return null;let n=r[2],i=r[3]||"0",s=r[4]||"0",o=t.includePrerelease&&r[5]?"-".concat(r[5]):"",a=t.includePrerelease&&r[6]?"+".concat(r[6]):"";return nI("".concat(n,".").concat(i,".").concat(s).concat(o).concat(a),t)};Wy.exports=iI});var Qy=y((tB,Ky)=>{"use strict";var gc=class{constructor(){this.max=1e3,this.map=new Map}get(t){let r=this.map.get(t);if(r!==void 0)return this.map.delete(t),this.map.set(t,r),r}delete(t){return this.map.delete(t)}set(t,r){if(!this.delete(t)&&r!==void 0){if(this.map.size>=this.max){let i=this.map.keys().next().value;this.delete(i)}this.map.set(t,r)}return this}};Ky.exports=gc});var Xe=y((rB,Zy)=>{"use strict";var sI=/\s+/g,yc=class e{constructor(t,r){if(r=aI(r),t instanceof e)return t.loose===!!r.loose&&t.includePrerelease===!!r.includePrerelease?t:new e(t.raw,r);if(t instanceof Ac)return this.raw=t.value,this.set=[[t]],this.formatted=void 0,this;if(this.options=r,this.loose=!!r.loose,this.includePrerelease=!!r.includePrerelease,this.raw=t.trim().replace(sI," "),this.set=this.raw.split("||").map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError("Invalid SemVer Range: ".concat(this.raw));if(this.set.length>1){let n=this.set[0];if(this.set=this.set.filter(i=>!Xy(i[0])),this.set.length===0)this.set=[n];else if(this.set.length>1){for(let i of this.set)if(i.length===1&&pI(i[0])){this.set=[i];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let t=0;t<this.set.length;t++){t>0&&(this.formatted+="||");let r=this.set[t];for(let n=0;n<r.length;n++)n>0&&(this.formatted+=" "),this.formatted+=r[n].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(t){let n=((this.options.includePrerelease&&dI)|(this.options.loose&&hI))+":"+t,i=zy.get(n);if(i)return i;let s=this.options.loose,o=s?Be[De.HYPHENRANGELOOSE]:Be[De.HYPHENRANGE];t=t.replace(o,_I(this.options.includePrerelease)),ee("hyphen replace",t),t=t.replace(Be[De.COMPARATORTRIM],cI),ee("comparator trim",t),t=t.replace(Be[De.TILDETRIM],uI),ee("tilde trim",t),t=t.replace(Be[De.CARETTRIM],fI),ee("caret trim",t);let a=t.split(" ").map(u=>mI(u,this.options)).join(" ").split(/\s+/).map(u=>SI(u,this.options));s&&(a=a.filter(u=>(ee("loose invalid filter",u,this.options),!!u.match(Be[De.COMPARATORLOOSE])))),ee("range list",a);let l=new Map,c=a.map(u=>new Ac(u,this.options));for(let u of c){if(Xy(u))return[u];l.set(u.value,u)}l.size>1&&l.has("")&&l.delete("");let f=[...l.values()];return zy.set(n,f),f}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Range is required");return this.set.some(n=>Jy(n,r)&&t.set.some(i=>Jy(i,r)&&n.every(s=>i.every(o=>s.intersects(o,r)))))}test(t){if(!t)return!1;if(typeof t=="string")try{t=new lI(t,this.options)}catch{return!1}for(let r=0;r<this.set.length;r++)if(CI(this.set[r],t,this.options))return!0;return!1}};Zy.exports=yc;var oI=Qy(),zy=new oI,aI=Js(),Ac=ci(),ee=ai(),lI=Ce(),{safeRe:Be,t:De,comparatorTrimReplace:cI,tildeTrimReplace:uI,caretTrimReplace:fI}=Zr(),{FLAG_INCLUDE_PRERELEASE:dI,FLAG_LOOSE:hI}=oi(),Xy=e=>e.value==="<0.0.0-0",pI=e=>e.value==="",Jy=(e,t)=>{let r=!0,n=e.slice(),i=n.pop();for(;r&&n.length;)r=n.every(s=>i.intersects(s,t)),i=n.pop();return r},mI=(e,t)=>(ee("comp",e,t),e=AI(e,t),ee("caret",e),e=gI(e,t),ee("tildes",e),e=EI(e,t),ee("xrange",e),e=bI(e,t),ee("stars",e),e),qe=e=>!e||e.toLowerCase()==="x"||e==="*",gI=(e,t)=>e.trim().split(/\s+/).map(r=>yI(r,t)).join(" "),yI=(e,t)=>{let r=t.loose?Be[De.TILDELOOSE]:Be[De.TILDE];return e.replace(r,(n,i,s,o,a)=>{ee("tilde",e,n,i,s,o,a);let l;return qe(i)?l="":qe(s)?l=">=".concat(i,".0.0 <").concat(+i+1,".0.0-0"):qe(o)?l=">=".concat(i,".").concat(s,".0 <").concat(i,".").concat(+s+1,".0-0"):a?(ee("replaceTilde pr",a),l=">=".concat(i,".").concat(s,".").concat(o,"-").concat(a," <").concat(i,".").concat(+s+1,".0-0")):l=">=".concat(i,".").concat(s,".").concat(o," <").concat(i,".").concat(+s+1,".0-0"),ee("tilde return",l),l})},AI=(e,t)=>e.trim().split(/\s+/).map(r=>wI(r,t)).join(" "),wI=(e,t)=>{ee("caret",e,t);let r=t.loose?Be[De.CARETLOOSE]:Be[De.CARET],n=t.includePrerelease?"-0":"";return e.replace(r,(i,s,o,a,l)=>{ee("caret",e,i,s,o,a,l);let c;return qe(s)?c="":qe(o)?c=">=".concat(s,".0.0").concat(n," <").concat(+s+1,".0.0-0"):qe(a)?s==="0"?c=">=".concat(s,".").concat(o,".0").concat(n," <").concat(s,".").concat(+o+1,".0-0"):c=">=".concat(s,".").concat(o,".0").concat(n," <").concat(+s+1,".0.0-0"):l?(ee("replaceCaret pr",l),s==="0"?o==="0"?c=">=".concat(s,".").concat(o,".").concat(a,"-").concat(l," <").concat(s,".").concat(o,".").concat(+a+1,"-0"):c=">=".concat(s,".").concat(o,".").concat(a,"-").concat(l," <").concat(s,".").concat(+o+1,".0-0"):c=">=".concat(s,".").concat(o,".").concat(a,"-").concat(l," <").concat(+s+1,".0.0-0")):(ee("no pr"),s==="0"?o==="0"?c=">=".concat(s,".").concat(o,".").concat(a).concat(n," <").concat(s,".").concat(o,".").concat(+a+1,"-0"):c=">=".concat(s,".").concat(o,".").concat(a).concat(n," <").concat(s,".").concat(+o+1,".0-0"):c=">=".concat(s,".").concat(o,".").concat(a," <").concat(+s+1,".0.0-0")),ee("caret return",c),c})},EI=(e,t)=>(ee("replaceXRanges",e,t),e.split(/\s+/).map(r=>vI(r,t)).join(" ")),vI=(e,t)=>{e=e.trim();let r=t.loose?Be[De.XRANGELOOSE]:Be[De.XRANGE];return e.replace(r,(n,i,s,o,a,l)=>{ee("xRange",e,n,i,s,o,a,l);let c=qe(s),f=c||qe(o),u=f||qe(a),d=u;return i==="="&&d&&(i=""),l=t.includePrerelease?"-0":"",c?i===">"||i==="<"?n="<0.0.0-0":n="*":i&&d?(f&&(o=0),a=0,i===">"?(i=">=",f?(s=+s+1,o=0,a=0):(o=+o+1,a=0)):i==="<="&&(i="<",f?s=+s+1:o=+o+1),i==="<"&&(l="-0"),n="".concat(i+s,".").concat(o,".").concat(a).concat(l)):f?n=">=".concat(s,".0.0").concat(l," <").concat(+s+1,".0.0-0"):u&&(n=">=".concat(s,".").concat(o,".0").concat(l," <").concat(s,".").concat(+o+1,".0-0")),ee("xRange return",n),n})},bI=(e,t)=>(ee("replaceStars",e,t),e.trim().replace(Be[De.STAR],"")),SI=(e,t)=>(ee("replaceGTE0",e,t),e.trim().replace(Be[t.includePrerelease?De.GTE0PRE:De.GTE0],"")),_I=e=>(t,r,n,i,s,o,a,l,c,f,u,d)=>(qe(n)?r="":qe(i)?r=">=".concat(n,".0.0").concat(e?"-0":""):qe(s)?r=">=".concat(n,".").concat(i,".0").concat(e?"-0":""):o?r=">=".concat(r):r=">=".concat(r).concat(e?"-0":""),qe(c)?l="":qe(f)?l="<".concat(+c+1,".0.0-0"):qe(u)?l="<".concat(c,".").concat(+f+1,".0-0"):d?l="<=".concat(c,".").concat(f,".").concat(u,"-").concat(d):e?l="<".concat(c,".").concat(f,".").concat(+u+1,"-0"):l="<=".concat(l),"".concat(r," ").concat(l).trim()),CI=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let n=0;n<e.length;n++)if(ee(e[n].semver),e[n].semver!==Ac.ANY&&e[n].semver.prerelease.length>0){let i=e[n].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}});var ci=y((nB,s0)=>{"use strict";var ui=Symbol("SemVer ANY"),vc=class e{static get ANY(){return ui}constructor(t,r){if(r=e0(r),t instanceof e){if(t.loose===!!r.loose)return t;t=t.value}t=t.trim().split(/\s+/).join(" "),Ec("comparator",t,r),this.options=r,this.loose=!!r.loose,this.parse(t),this.semver===ui?this.value="":this.value=this.operator+this.semver.version,Ec("comp",this)}parse(t){let r=this.options.loose?t0[r0.COMPARATORLOOSE]:t0[r0.COMPARATOR],n=t.match(r);if(!n)throw new TypeError("Invalid comparator: ".concat(t));this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new n0(n[2],this.options.loose):this.semver=ui}toString(){return this.value}test(t){if(Ec("Comparator.test",t,this.options.loose),this.semver===ui||t===ui)return!0;if(typeof t=="string")try{t=new n0(t,this.options)}catch{return!1}return wc(t,this.operator,this.semver,this.options)}intersects(t,r){if(!(t instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new i0(t.value,r).test(this.value):t.operator===""?t.value===""?!0:new i0(this.value,r).test(t.semver):(r=e0(r),r.includePrerelease&&(this.value==="<0.0.0-0"||t.value==="<0.0.0-0")||!r.includePrerelease&&(this.value.startsWith("<0.0.0")||t.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&t.operator.startsWith(">")||this.operator.startsWith("<")&&t.operator.startsWith("<")||this.semver.version===t.semver.version&&this.operator.includes("=")&&t.operator.includes("=")||wc(this.semver,"<",t.semver,r)&&this.operator.startsWith(">")&&t.operator.startsWith("<")||wc(this.semver,">",t.semver,r)&&this.operator.startsWith("<")&&t.operator.startsWith(">")))}};s0.exports=vc;var e0=Js(),{safeRe:t0,t:r0}=Zr(),wc=mc(),Ec=ai(),n0=Ce(),i0=Xe()});var fi=y((iB,o0)=>{"use strict";var TI=Xe(),NI=(e,t,r)=>{try{t=new TI(t,r)}catch{return!1}return t.test(e)};o0.exports=NI});var l0=y((sB,a0)=>{"use strict";var OI=Xe(),II=(e,t)=>new OI(e,t).set.map(r=>r.map(n=>n.value).join(" ").trim().split(" "));a0.exports=II});var u0=y((oB,c0)=>{"use strict";var PI=Ce(),DI=Xe(),qI=(e,t,r)=>{let n=null,i=null,s=null;try{s=new DI(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===-1)&&(n=o,i=new PI(n,r))}),n};c0.exports=qI});var d0=y((aB,f0)=>{"use strict";var LI=Ce(),xI=Xe(),RI=(e,t,r)=>{let n=null,i=null,s=null;try{s=new xI(t,r)}catch{return null}return e.forEach(o=>{s.test(o)&&(!n||i.compare(o)===1)&&(n=o,i=new LI(n,r))}),n};f0.exports=RI});var m0=y((lB,p0)=>{"use strict";var bc=Ce(),kI=Xe(),h0=li(),FI=(e,t)=>{e=new kI(e,t);let r=new bc("0.0.0");if(e.test(r)||(r=new bc("0.0.0-0"),e.test(r)))return r;r=null;for(let n=0;n<e.set.length;++n){let i=e.set[n],s=null;i.forEach(o=>{let a=new bc(o.semver.version);switch(o.operator){case">":a.prerelease.length===0?a.patch++:a.prerelease.push(0),a.raw=a.format();case"":case">=":(!s||h0(a,s))&&(s=a);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: ".concat(o.operator))}}),s&&(!r||h0(r,s))&&(r=s)}return r&&e.test(r)?r:null};p0.exports=FI});var y0=y((cB,g0)=>{"use strict";var UI=Xe(),MI=(e,t)=>{try{return new UI(e,t).range||"*"}catch{return null}};g0.exports=MI});var co=y((uB,v0)=>{"use strict";var $I=Ce(),E0=ci(),{ANY:BI}=E0,jI=Xe(),HI=fi(),A0=li(),w0=io(),VI=oo(),GI=so(),WI=(e,t,r,n)=>{e=new $I(e,n),t=new jI(t,n);let i,s,o,a,l;switch(r){case">":i=A0,s=VI,o=w0,a=">",l=">=";break;case"<":i=w0,s=GI,o=A0,a="<",l="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(HI(e,t,n))return!1;for(let c=0;c<t.set.length;++c){let f=t.set[c],u=null,d=null;if(f.forEach(p=>{p.semver===BI&&(p=new E0(">=0.0.0")),u=u||p,d=d||p,i(p.semver,u.semver,n)?u=p:o(p.semver,d.semver,n)&&(d=p)}),u.operator===a||u.operator===l||(!d.operator||d.operator===a)&&s(e,d.semver))return!1;if(d.operator===l&&o(e,d.semver))return!1}return!0};v0.exports=WI});var S0=y((fB,b0)=>{"use strict";var YI=co(),KI=(e,t,r)=>YI(e,t,">",r);b0.exports=KI});var C0=y((dB,_0)=>{"use strict";var QI=co(),zI=(e,t,r)=>QI(e,t,"<",r);_0.exports=zI});var O0=y((hB,N0)=>{"use strict";var T0=Xe(),XI=(e,t,r)=>(e=new T0(e,r),t=new T0(t,r),e.intersects(t,r));N0.exports=XI});var P0=y((pB,I0)=>{"use strict";var JI=fi(),ZI=ze();I0.exports=(e,t,r)=>{let n=[],i=null,s=null,o=e.sort((f,u)=>ZI(f,u,r));for(let f of o)JI(f,t,r)?(s=f,i||(i=f)):(s&&n.push([i,s]),s=null,i=null);i&&n.push([i,null]);let a=[];for(let[f,u]of n)f===u?a.push(f):!u&&f===o[0]?a.push("*"):u?f===o[0]?a.push("<=".concat(u)):a.push("".concat(f," - ").concat(u)):a.push(">=".concat(f));let l=a.join(" || "),c=typeof t.raw=="string"?t.raw:String(t);return l.length<c.length?l:t}});var k0=y((mB,R0)=>{"use strict";var D0=Xe(),_c=ci(),{ANY:Sc}=_c,di=fi(),Cc=ze(),eP=(e,t,r={})=>{if(e===t)return!0;e=new D0(e,r),t=new D0(t,r);let n=!1;e:for(let i of e.set){for(let s of t.set){let o=rP(i,s,r);if(n=n||o!==null,o)continue e}if(n)return!1}return!0},tP=[new _c(">=0.0.0-0")],q0=[new _c(">=0.0.0")],rP=(e,t,r)=>{if(e===t)return!0;if(e.length===1&&e[0].semver===Sc){if(t.length===1&&t[0].semver===Sc)return!0;r.includePrerelease?e=tP:e=q0}if(t.length===1&&t[0].semver===Sc){if(r.includePrerelease)return!0;t=q0}let n=new Set,i,s;for(let p of e)p.operator===">"||p.operator===">="?i=L0(i,p,r):p.operator==="<"||p.operator==="<="?s=x0(s,p,r):n.add(p.semver);if(n.size>1)return null;let o;if(i&&s){if(o=Cc(i.semver,s.semver,r),o>0)return null;if(o===0&&(i.operator!==">="||s.operator!=="<="))return null}for(let p of n){if(i&&!di(p,String(i),r)||s&&!di(p,String(s),r))return null;for(let w of t)if(!di(p,String(w),r))return!1;return!0}let a,l,c,f,u=s&&!r.includePrerelease&&s.semver.prerelease.length?s.semver:!1,d=i&&!r.includePrerelease&&i.semver.prerelease.length?i.semver:!1;u&&u.prerelease.length===1&&s.operator==="<"&&u.prerelease[0]===0&&(u=!1);for(let p of t){if(f=f||p.operator===">"||p.operator===">=",c=c||p.operator==="<"||p.operator==="<=",i){if(d&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===d.major&&p.semver.minor===d.minor&&p.semver.patch===d.patch&&(d=!1),p.operator===">"||p.operator===">="){if(a=L0(i,p,r),a===p&&a!==i)return!1}else if(i.operator===">="&&!di(i.semver,String(p),r))return!1}if(s){if(u&&p.semver.prerelease&&p.semver.prerelease.length&&p.semver.major===u.major&&p.semver.minor===u.minor&&p.semver.patch===u.patch&&(u=!1),p.operator==="<"||p.operator==="<="){if(l=x0(s,p,r),l===p&&l!==s)return!1}else if(s.operator==="<="&&!di(s.semver,String(p),r))return!1}if(!p.operator&&(s||i)&&o!==0)return!1}return!(i&&c&&!s&&o!==0||s&&f&&!i&&o!==0||d||u)},L0=(e,t,r)=>{if(!e)return t;let n=Cc(e.semver,t.semver,r);return n>0?e:n<0||t.operator===">"&&e.operator===">="?t:e},x0=(e,t,r)=>{if(!e)return t;let n=Cc(e.semver,t.semver,r);return n<0?e:n>0||t.operator==="<"&&e.operator==="<="?t:e};R0.exports=eP});var Nc=y((gB,M0)=>{"use strict";var Tc=Zr(),F0=oi(),nP=Ce(),U0=fc(),iP=fr(),sP=uy(),oP=dy(),aP=my(),lP=Ay(),cP=Ey(),uP=by(),fP=_y(),dP=Ty(),hP=ze(),pP=Py(),mP=qy(),gP=no(),yP=ky(),AP=Uy(),wP=li(),EP=io(),vP=hc(),bP=pc(),SP=so(),_P=oo(),CP=mc(),TP=Yy(),NP=ci(),OP=Xe(),IP=fi(),PP=l0(),DP=u0(),qP=d0(),LP=m0(),xP=y0(),RP=co(),kP=S0(),FP=C0(),UP=O0(),MP=P0(),$P=k0();M0.exports={parse:iP,valid:sP,clean:oP,inc:aP,diff:lP,major:cP,minor:uP,patch:fP,prerelease:dP,compare:hP,rcompare:pP,compareLoose:mP,compareBuild:gP,sort:yP,rsort:AP,gt:wP,lt:EP,eq:vP,neq:bP,gte:SP,lte:_P,cmp:CP,coerce:TP,Comparator:NP,Range:OP,satisfies:IP,toComparators:PP,maxSatisfying:DP,minSatisfying:qP,minVersion:LP,validRange:xP,outside:RP,gtr:kP,ltr:FP,intersects:UP,simplifyRange:MP,subset:$P,SemVer:nP,re:Tc.re,src:Tc.src,tokens:Tc.t,SEMVER_SPEC_VERSION:F0.SEMVER_SPEC_VERSION,RELEASE_TYPES:F0.RELEASE_TYPES,compareIdentifiers:U0.compareIdentifiers,rcompareIdentifiers:U0.rcompareIdentifiers}});var EA=y((hi,rn)=>{var BP=200,Uc="__lodash_hash_undefined__",Ao=1,X0=2,J0=9007199254740991,uo="[object Arguments]",Dc="[object Array]",jP="[object AsyncFunction]",Z0="[object Boolean]",eA="[object Date]",tA="[object Error]",rA="[object Function]",HP="[object GeneratorFunction]",fo="[object Map]",nA="[object Number]",VP="[object Null]",tn="[object Object]",$0="[object Promise]",GP="[object Proxy]",iA="[object RegExp]",ho="[object Set]",sA="[object String]",WP="[object Symbol]",YP="[object Undefined]",qc="[object WeakMap]",oA="[object ArrayBuffer]",po="[object DataView]",KP="[object Float32Array]",QP="[object Float64Array]",zP="[object Int8Array]",XP="[object Int16Array]",JP="[object Int32Array]",ZP="[object Uint8Array]",eD="[object Uint8ClampedArray]",tD="[object Uint16Array]",rD="[object Uint32Array]",nD=/[\\^$.*+?()[\]{}|]/g,iD=/^\[object .+?Constructor\]$/,sD=/^(?:0|[1-9]\d*)$/,te={};te[KP]=te[QP]=te[zP]=te[XP]=te[JP]=te[ZP]=te[eD]=te[tD]=te[rD]=!0;te[uo]=te[Dc]=te[oA]=te[Z0]=te[po]=te[eA]=te[tA]=te[rA]=te[fo]=te[nA]=te[tn]=te[iA]=te[ho]=te[sA]=te[qc]=!1;var aA=typeof global=="object"&&global&&global.Object===Object&&global,oD=typeof self=="object"&&self&&self.Object===Object&&self,pt=aA||oD||Function("return this")(),lA=typeof hi=="object"&&hi&&!hi.nodeType&&hi,B0=lA&&typeof rn=="object"&&rn&&!rn.nodeType&&rn,cA=B0&&B0.exports===lA,Oc=cA&&aA.process,j0=(function(){try{return Oc&&Oc.binding&&Oc.binding("util")}catch{}})(),H0=j0&&j0.isTypedArray;function aD(e,t){for(var r=-1,n=e==null?0:e.length,i=0,s=[];++r<n;){var o=e[r];t(o,r,e)&&(s[i++]=o)}return s}function lD(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function cD(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function uD(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function fD(e){return function(t){return e(t)}}function dD(e,t){return e.has(t)}function hD(e,t){return e?.[t]}function pD(e){var t=-1,r=Array(e.size);return e.forEach(function(n,i){r[++t]=[i,n]}),r}function mD(e,t){return function(r){return e(t(r))}}function gD(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var yD=Array.prototype,AD=Function.prototype,wo=Object.prototype,Ic=pt["__core-js_shared__"],uA=AD.toString,lt=wo.hasOwnProperty,V0=(function(){var e=/[^.]+$/.exec(Ic&&Ic.keys&&Ic.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})(),fA=wo.toString,wD=RegExp("^"+uA.call(lt).replace(nD,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G0=cA?pt.Buffer:void 0,mo=pt.Symbol,W0=pt.Uint8Array,dA=wo.propertyIsEnumerable,ED=yD.splice,dr=mo?mo.toStringTag:void 0,Y0=Object.getOwnPropertySymbols,vD=G0?G0.isBuffer:void 0,bD=mD(Object.keys,Object),Lc=nn(pt,"DataView"),pi=nn(pt,"Map"),xc=nn(pt,"Promise"),Rc=nn(pt,"Set"),kc=nn(pt,"WeakMap"),mi=nn(Object,"create"),SD=mr(Lc),_D=mr(pi),CD=mr(xc),TD=mr(Rc),ND=mr(kc),K0=mo?mo.prototype:void 0,Pc=K0?K0.valueOf:void 0;function hr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function OD(){this.__data__=mi?mi(null):{},this.size=0}function ID(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function PD(e){var t=this.__data__;if(mi){var r=t[e];return r===Uc?void 0:r}return lt.call(t,e)?t[e]:void 0}function DD(e){var t=this.__data__;return mi?t[e]!==void 0:lt.call(t,e)}function qD(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=mi&&t===void 0?Uc:t,this}hr.prototype.clear=OD;hr.prototype.delete=ID;hr.prototype.get=PD;hr.prototype.has=DD;hr.prototype.set=qD;function mt(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function LD(){this.__data__=[],this.size=0}function xD(e){var t=this.__data__,r=Eo(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():ED.call(t,r,1),--this.size,!0}function RD(e){var t=this.__data__,r=Eo(t,e);return r<0?void 0:t[r][1]}function kD(e){return Eo(this.__data__,e)>-1}function FD(e,t){var r=this.__data__,n=Eo(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}mt.prototype.clear=LD;mt.prototype.delete=xD;mt.prototype.get=RD;mt.prototype.has=kD;mt.prototype.set=FD;function pr(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function UD(){this.size=0,this.__data__={hash:new hr,map:new(pi||mt),string:new hr}}function MD(e){var t=vo(this,e).delete(e);return this.size-=t?1:0,t}function $D(e){return vo(this,e).get(e)}function BD(e){return vo(this,e).has(e)}function jD(e,t){var r=vo(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}pr.prototype.clear=UD;pr.prototype.delete=MD;pr.prototype.get=$D;pr.prototype.has=BD;pr.prototype.set=jD;function go(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new pr;++t<r;)this.add(e[t])}function HD(e){return this.__data__.set(e,Uc),this}function VD(e){return this.__data__.has(e)}go.prototype.add=go.prototype.push=HD;go.prototype.has=VD;function xt(e){var t=this.__data__=new mt(e);this.size=t.size}function GD(){this.__data__=new mt,this.size=0}function WD(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function YD(e){return this.__data__.get(e)}function KD(e){return this.__data__.has(e)}function QD(e,t){var r=this.__data__;if(r instanceof mt){var n=r.__data__;if(!pi||n.length<BP-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new pr(n)}return r.set(e,t),this.size=r.size,this}xt.prototype.clear=GD;xt.prototype.delete=WD;xt.prototype.get=YD;xt.prototype.has=KD;xt.prototype.set=QD;function zD(e,t){var r=yo(e),n=!r&&fq(e),i=!r&&!n&&Fc(e),s=!r&&!n&&!i&&wA(e),o=r||n||i||s,a=o?uD(e.length,String):[],l=a.length;for(var c in e)(t||lt.call(e,c))&&!(o&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||oq(c,l)))&&a.push(c);return a}function Eo(e,t){for(var r=e.length;r--;)if(mA(e[r][0],t))return r;return-1}function XD(e,t,r){var n=t(e);return yo(e)?n:lD(n,r(e))}function yi(e){return e==null?e===void 0?YP:VP:dr&&dr in Object(e)?iq(e):uq(e)}function Q0(e){return gi(e)&&yi(e)==uo}function hA(e,t,r,n,i){return e===t?!0:e==null||t==null||!gi(e)&&!gi(t)?e!==e&&t!==t:JD(e,t,r,n,hA,i)}function JD(e,t,r,n,i,s){var o=yo(e),a=yo(t),l=o?Dc:Lt(e),c=a?Dc:Lt(t);l=l==uo?tn:l,c=c==uo?tn:c;var f=l==tn,u=c==tn,d=l==c;if(d&&Fc(e)){if(!Fc(t))return!1;o=!0,f=!1}if(d&&!f)return s||(s=new xt),o||wA(e)?pA(e,t,r,n,i,s):rq(e,t,l,r,n,i,s);if(!(r&Ao)){var p=f&&lt.call(e,"__wrapped__"),w=u&&lt.call(t,"__wrapped__");if(p||w){var g=p?e.value():e,E=w?t.value():t;return s||(s=new xt),i(g,E,r,n,s)}}return d?(s||(s=new xt),nq(e,t,r,n,i,s)):!1}function ZD(e){if(!AA(e)||lq(e))return!1;var t=gA(e)?wD:iD;return t.test(mr(e))}function eq(e){return gi(e)&&yA(e.length)&&!!te[yi(e)]}function tq(e){if(!cq(e))return bD(e);var t=[];for(var r in Object(e))lt.call(e,r)&&r!="constructor"&&t.push(r);return t}function pA(e,t,r,n,i,s){var o=r&Ao,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var c=s.get(e);if(c&&s.get(t))return c==t;var f=-1,u=!0,d=r&X0?new go:void 0;for(s.set(e,t),s.set(t,e);++f<a;){var p=e[f],w=t[f];if(n)var g=o?n(w,p,f,t,e,s):n(p,w,f,e,t,s);if(g!==void 0){if(g)continue;u=!1;break}if(d){if(!cD(t,function(E,S){if(!dD(d,S)&&(p===E||i(p,E,r,n,s)))return d.push(S)})){u=!1;break}}else if(!(p===w||i(p,w,r,n,s))){u=!1;break}}return s.delete(e),s.delete(t),u}function rq(e,t,r,n,i,s,o){switch(r){case po:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case oA:return!(e.byteLength!=t.byteLength||!s(new W0(e),new W0(t)));case Z0:case eA:case nA:return mA(+e,+t);case tA:return e.name==t.name&&e.message==t.message;case iA:case sA:return e==t+"";case fo:var a=pD;case ho:var l=n&Ao;if(a||(a=gD),e.size!=t.size&&!l)return!1;var c=o.get(e);if(c)return c==t;n|=X0,o.set(e,t);var f=pA(a(e),a(t),n,i,s,o);return o.delete(e),f;case WP:if(Pc)return Pc.call(e)==Pc.call(t)}return!1}function nq(e,t,r,n,i,s){var o=r&Ao,a=z0(e),l=a.length,c=z0(t),f=c.length;if(l!=f&&!o)return!1;for(var u=l;u--;){var d=a[u];if(!(o?d in t:lt.call(t,d)))return!1}var p=s.get(e);if(p&&s.get(t))return p==t;var w=!0;s.set(e,t),s.set(t,e);for(var g=o;++u<l;){d=a[u];var E=e[d],S=t[d];if(n)var b=o?n(S,E,d,t,e,s):n(E,S,d,e,t,s);if(!(b===void 0?E===S||i(E,S,r,n,s):b)){w=!1;break}g||(g=d=="constructor")}if(w&&!g){var C=e.constructor,N=t.constructor;C!=N&&"constructor"in e&&"constructor"in t&&!(typeof C=="function"&&C instanceof C&&typeof N=="function"&&N instanceof N)&&(w=!1)}return s.delete(e),s.delete(t),w}function z0(e){return XD(e,pq,sq)}function vo(e,t){var r=e.__data__;return aq(t)?r[typeof t=="string"?"string":"hash"]:r.map}function nn(e,t){var r=hD(e,t);return ZD(r)?r:void 0}function iq(e){var t=lt.call(e,dr),r=e[dr];try{e[dr]=void 0;var n=!0}catch{}var i=fA.call(e);return n&&(t?e[dr]=r:delete e[dr]),i}var sq=Y0?function(e){return e==null?[]:(e=Object(e),aD(Y0(e),function(t){return dA.call(e,t)}))}:mq,Lt=yi;(Lc&&Lt(new Lc(new ArrayBuffer(1)))!=po||pi&&Lt(new pi)!=fo||xc&&Lt(xc.resolve())!=$0||Rc&&Lt(new Rc)!=ho||kc&&Lt(new kc)!=qc)&&(Lt=function(e){var t=yi(e),r=t==tn?e.constructor:void 0,n=r?mr(r):"";if(n)switch(n){case SD:return po;case _D:return fo;case CD:return $0;case TD:return ho;case ND:return qc}return t});function oq(e,t){return t=t??J0,!!t&&(typeof e=="number"||sD.test(e))&&e>-1&&e%1==0&&e<t}function aq(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function lq(e){return!!V0&&V0 in e}function cq(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||wo;return e===r}function uq(e){return fA.call(e)}function mr(e){if(e!=null){try{return uA.call(e)}catch{}try{return e+""}catch{}}return""}function mA(e,t){return e===t||e!==e&&t!==t}var fq=Q0((function(){return arguments})())?Q0:function(e){return gi(e)&&lt.call(e,"callee")&&!dA.call(e,"callee")},yo=Array.isArray;function dq(e){return e!=null&&yA(e.length)&&!gA(e)}var Fc=vD||gq;function hq(e,t){return hA(e,t)}function gA(e){if(!AA(e))return!1;var t=yi(e);return t==rA||t==HP||t==jP||t==GP}function yA(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=J0}function AA(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function gi(e){return e!=null&&typeof e=="object"}var wA=H0?fD(H0):eq;function pq(e){return dq(e)?zD(e):tq(e)}function mq(){return[]}function gq(){return!1}rn.exports=hq});var bA=y(wi=>{"use strict";Object.defineProperty(wi,"__esModule",{value:!0});wi.DownloadedUpdateHelper=void 0;wi.createTempUpdateFile=Eq;var yq=require("crypto"),Aq=require("fs"),vA=EA(),gr=dt(),Ai=require("path"),Mc=class{constructor(t){this.cacheDir=t,this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,this._downloadedFileInfo=null}get downloadedFileInfo(){return this._downloadedFileInfo}get file(){return this._file}get packageFile(){return this._packageFile}get cacheDirForPendingUpdate(){return Ai.join(this.cacheDir,"pending")}async validateDownloadedPath(t,r,n,i){if(this.versionInfo!=null&&this.file===t&&this.fileInfo!=null)return vA(this.versionInfo,r)&&vA(this.fileInfo.info,n.info)&&await(0,gr.pathExists)(t)?t:null;let s=await this.getValidCachedUpdateFile(n,i);return s===null?null:(i.info("Update has already been downloaded to ".concat(t,").")),this._file=s,s)}async setDownloadedFile(t,r,n,i,s,o){this._file=t,this._packageFile=r,this.versionInfo=n,this.fileInfo=i,this._downloadedFileInfo={fileName:s,sha512:i.info.sha512,isAdminRightsRequired:i.info.isAdminRightsRequired===!0},o&&await(0,gr.outputJson)(this.getUpdateInfoFile(),this._downloadedFileInfo)}async clear(){this._file=null,this._packageFile=null,this.versionInfo=null,this.fileInfo=null,await this.cleanCacheDirForPendingUpdate()}async cleanCacheDirForPendingUpdate(){try{await(0,gr.emptyDir)(this.cacheDirForPendingUpdate)}catch{}}async getValidCachedUpdateFile(t,r){let n=this.getUpdateInfoFile();if(!await(0,gr.pathExists)(n))return null;let s;try{s=await(0,gr.readJson)(n)}catch(c){let f="No cached update info available";return c.code!=="ENOENT"&&(await this.cleanCacheDirForPendingUpdate(),f+=" (error on read: ".concat(c.message,")")),r.info(f),null}if(!(s?.fileName!==null))return r.warn("Cached update info is corrupted: no fileName, directory for cached update will be cleaned"),await this.cleanCacheDirForPendingUpdate(),null;if(t.info.sha512!==s.sha512)return r.info("Cached update sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ".concat(s.sha512,", expected: ").concat(t.info.sha512,". Directory for cached update will be cleaned")),await this.cleanCacheDirForPendingUpdate(),null;let a=Ai.join(this.cacheDirForPendingUpdate,s.fileName);if(!await(0,gr.pathExists)(a))return r.info("Cached update file doesn't exist"),null;let l=await wq(a);return t.info.sha512!==l?(r.warn("Sha512 checksum doesn't match the latest available update. New update must be downloaded. Cached: ".concat(l,", expected: ").concat(t.info.sha512)),await this.cleanCacheDirForPendingUpdate(),null):(this._downloadedFileInfo=s,a)}getUpdateInfoFile(){return Ai.join(this.cacheDirForPendingUpdate,"update-info.json")}};wi.DownloadedUpdateHelper=Mc;function wq(e,t="sha512",r="base64",n){return new Promise((i,s)=>{let o=(0,yq.createHash)(t);o.on("error",s).setEncoding(r),(0,Aq.createReadStream)(e,{...n,highWaterMark:1024*1024}).on("error",s).on("end",()=>{o.end(),i(o.read())}).pipe(o,{end:!1})})}async function Eq(e,t,r){let n=0,i=Ai.join(t,e);for(let s=0;s<3;s++)try{return await(0,gr.unlink)(i),i}catch(o){if(o.code==="ENOENT")return i;r.warn("Error on remove temp update file: ".concat(o)),i=Ai.join(t,"".concat(n++,"-").concat(e))}return i}});var SA=y(Bc=>{"use strict";Object.defineProperty(Bc,"__esModule",{value:!0});Bc.getAppCacheDir=bq;var $c=require("path"),vq=require("os");function bq(){let e=(0,vq.homedir)(),t;return process.platform==="win32"?t=process.env.LOCALAPPDATA||$c.join(e,"AppData","Local"):process.platform==="darwin"?t=$c.join(e,"Library","Caches"):t=process.env.XDG_CACHE_HOME||$c.join(e,".cache"),t}});var CA=y(bo=>{"use strict";Object.defineProperty(bo,"__esModule",{value:!0});bo.ElectronAppAdapter=void 0;var _A=require("path"),Sq=SA(),jc=class{constructor(t=require("electron").app){this.app=t}whenReady(){return this.app.whenReady()}get version(){return this.app.getVersion()}get name(){return this.app.getName()}get isPackaged(){return this.app.isPackaged===!0}get appUpdateConfigPath(){return this.isPackaged?_A.join(process.resourcesPath,"app-update.yml"):_A.join(this.app.getAppPath(),"dev-app-update.yml")}get userDataPath(){return this.app.getPath("userData")}get baseCachePath(){return(0,Sq.getAppCacheDir)()}quit(){this.app.quit()}relaunch(){this.app.relaunch()}onQuit(t){this.app.once("quit",(r,n)=>t(n))}};bo.ElectronAppAdapter=jc});var NA=y(Rt=>{"use strict";Object.defineProperty(Rt,"__esModule",{value:!0});Rt.ElectronHttpExecutor=Rt.NET_SESSION_NAME=void 0;Rt.getNetSession=TA;var So=ye();Rt.NET_SESSION_NAME="electron-updater";function TA(){return require("electron").session.fromPartition(Rt.NET_SESSION_NAME,{cache:!1})}var Hc=class extends So.HttpExecutor{constructor(t){super(),this.proxyLoginCallback=t,this.cachedSession=null}async download(t,r,n){return await n.cancellationToken.createPromise((i,s,o)=>{let a={headers:n.headers||void 0,redirect:"manual"};(0,So.configureRequestUrl)(t,a),(0,So.configureRequestOptions)(a),this.doDownload(a,{destination:r,options:n,onCancel:o,callback:l=>{l==null?i(r):s(l)},responseHandler:null},0)})}createRequest(t,r){t.headers&&t.headers.Host&&(t.host=t.headers.Host,delete t.headers.Host),this.cachedSession==null&&(this.cachedSession=TA());let n=require("electron").net.request({...t,session:this.cachedSession});return n.on("response",r),this.proxyLoginCallback!=null&&n.on("login",this.proxyLoginCallback),n}addRedirectHandlers(t,r,n,i,s){t.on("redirect",(o,a,l)=>{t.abort(),i>this.maxRedirects?n(this.createMaxRedirectError()):s(So.HttpExecutor.prepareRedirectUrlOptions(l,r))})}};Rt.ElectronHttpExecutor=Hc});var LA=y((vB,qA)=>{var _q=1/0,Cq="[object Symbol]",DA=/[\\^$.*+?()[\]{}|]/g,Tq=RegExp(DA.source),Nq=typeof global=="object"&&global&&global.Object===Object&&global,Oq=typeof self=="object"&&self&&self.Object===Object&&self,Iq=Nq||Oq||Function("return this")(),Pq=Object.prototype,Dq=Pq.toString,OA=Iq.Symbol,IA=OA?OA.prototype:void 0,PA=IA?IA.toString:void 0;function qq(e){if(typeof e=="string")return e;if(xq(e))return PA?PA.call(e):"";var t=e+"";return t=="0"&&1/e==-_q?"-0":t}function Lq(e){return!!e&&typeof e=="object"}function xq(e){return typeof e=="symbol"||Lq(e)&&Dq.call(e)==Cq}function Rq(e){return e==null?"":qq(e)}function kq(e){return e=Rq(e),e&&Tq.test(e)?e.replace(DA,"\\$&"):e}qA.exports=kq});var kt=y(sn=>{"use strict";Object.defineProperty(sn,"__esModule",{value:!0});sn.newBaseUrl=Uq;sn.newUrlFromBase=Vc;sn.getChannelFilename=Mq;sn.blockmapFiles=$q;var xA=require("url"),Fq=LA();function Uq(e){let t=new xA.URL(e);return t.pathname.endsWith("/")||(t.pathname+="/"),t}function Vc(e,t,r=!1){let n=new xA.URL(e,t),i=t.search;return i!=null&&i.length!==0?n.search=i:r&&(n.search="noCache=".concat(Date.now().toString(32))),n}function Mq(e){return"".concat(e,".yml")}function $q(e,t,r){let n=Vc("".concat(e.pathname,".blockmap"),e);return[Vc("".concat(e.pathname.replace(new RegExp(Fq(r),"g"),t),".blockmap"),e),n]}});var Ge=y(Ut=>{"use strict";Object.defineProperty(Ut,"__esModule",{value:!0});Ut.Provider=void 0;Ut.findFile=jq;Ut.parseUpdateInfo=Hq;Ut.getFileList=kA;Ut.resolveFiles=Vq;var Ft=ye(),Bq=zs(),RA=kt(),Gc=class{constructor(t){this.runtimeOptions=t,this.requestHeaders=null,this.executor=t.executor}get isUseMultipleRangeRequest(){return this.runtimeOptions.isUseMultipleRangeRequest!==!1}getChannelFilePrefix(){if(this.runtimeOptions.platform==="linux"){let t=process.env.TEST_UPDATER_ARCH||process.arch;return"-linux"+(t==="x64"?"":"-".concat(t))}else return this.runtimeOptions.platform==="darwin"?"-mac":""}getDefaultChannelName(){return this.getCustomChannelName("latest")}getCustomChannelName(t){return"".concat(t).concat(this.getChannelFilePrefix())}get fileExtraDownloadHeaders(){return null}setRequestHeaders(t){this.requestHeaders=t}httpRequest(t,r,n){return this.executor.request(this.createRequestOptions(t,r),n)}createRequestOptions(t,r){let n={};return this.requestHeaders==null?r!=null&&(n.headers=r):n.headers=r==null?this.requestHeaders:{...this.requestHeaders,...r},(0,Ft.configureRequestUrl)(t,n),n}};Ut.Provider=Gc;function jq(e,t,r){if(e.length===0)throw(0,Ft.newError)("No files provided","ERR_UPDATER_NO_FILES_PROVIDED");let n=e.find(i=>i.url.pathname.toLowerCase().endsWith(".".concat(t)));return n??(r==null?e[0]:e.find(i=>!r.some(s=>i.url.pathname.toLowerCase().endsWith(".".concat(s)))))}function Hq(e,t,r){if(e==null)throw(0,Ft.newError)("Cannot parse update info from ".concat(t," in the latest release artifacts (").concat(r,"): rawData: null"),"ERR_UPDATER_INVALID_UPDATE_INFO");let n;try{n=(0,Bq.load)(e)}catch(i){throw(0,Ft.newError)("Cannot parse update info from ".concat(t," in the latest release artifacts (").concat(r,"): ").concat(i.stack||i.message,", rawData: ").concat(e),"ERR_UPDATER_INVALID_UPDATE_INFO")}return n}function kA(e){let t=e.files;if(t!=null&&t.length>0)return t;if(e.path!=null)return[{url:e.path,sha2:e.sha2,sha512:e.sha512}];throw(0,Ft.newError)("No files provided: ".concat((0,Ft.safeStringifyJson)(e)),"ERR_UPDATER_NO_FILES_PROVIDED")}function Vq(e,t,r=n=>n){let i=kA(e).map(a=>{if(a.sha2==null&&a.sha512==null)throw(0,Ft.newError)("Update info doesn't contain nor sha256 neither sha512 checksum: ".concat((0,Ft.safeStringifyJson)(a)),"ERR_UPDATER_NO_CHECKSUM");return{url:(0,RA.newUrlFromBase)(r(a.url),t),info:a}}),s=e.packages,o=s==null?null:s[process.arch]||s.ia32;return o!=null&&(i[0].packageInfo={...o,path:(0,RA.newUrlFromBase)(r(o.path),t).href}),i}});var Qc=y(_o=>{"use strict";Object.defineProperty(_o,"__esModule",{value:!0});_o.GenericProvider=void 0;var FA=ye(),Wc=kt(),Yc=Ge(),Kc=class extends Yc.Provider{constructor(t,r,n){super(n),this.configuration=t,this.updater=r,this.baseUrl=(0,Wc.newBaseUrl)(this.configuration.url)}get channel(){let t=this.updater.channel||this.configuration.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){let t=(0,Wc.getChannelFilename)(this.channel),r=(0,Wc.newUrlFromBase)(t,this.baseUrl,this.updater.isAddNoCacheQuery);for(let n=0;;n++)try{return(0,Yc.parseUpdateInfo)(await this.httpRequest(r),t,r)}catch(i){if(i instanceof FA.HttpError&&i.statusCode===404)throw(0,FA.newError)('Cannot find channel "'.concat(t,'" update info: ').concat(i.stack||i.message),"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");if(i.code==="ECONNREFUSED"&&n<3){await new Promise((s,o)=>{try{setTimeout(s,1e3*n)}catch(a){o(a)}});continue}throw i}}resolveFiles(t){return(0,Yc.resolveFiles)(t,this.baseUrl)}};_o.GenericProvider=Kc});var MA=y(Co=>{"use strict";Object.defineProperty(Co,"__esModule",{value:!0});Co.BitbucketProvider=void 0;var UA=ye(),zc=kt(),Xc=Ge(),Jc=class extends Xc.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r;let{owner:i,slug:s}=t;this.baseUrl=(0,zc.newBaseUrl)("https://api.bitbucket.org/2.0/repositories/".concat(i,"/").concat(s,"/downloads"))}get channel(){return this.updater.channel||this.configuration.channel||"latest"}async getLatestVersion(){let t=new UA.CancellationToken,r=(0,zc.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,zc.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{let i=await this.httpRequest(n,void 0,t);return(0,Xc.parseUpdateInfo)(i,r,n)}catch(i){throw(0,UA.newError)("Unable to find latest version on ".concat(this.toString(),", please ensure release exists: ").concat(i.stack||i.message),"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,Xc.resolveFiles)(t,this.baseUrl)}toString(){let{owner:t,slug:r}=this.configuration;return"Bitbucket (owner: ".concat(t,", slug: ").concat(r,", channel: ").concat(this.channel,")")}};Co.BitbucketProvider=Jc});var ru=y(yr=>{"use strict";Object.defineProperty(yr,"__esModule",{value:!0});yr.GitHubProvider=yr.BaseGitHubProvider=void 0;yr.computeReleaseNotes=BA;var gt=ye(),on=Nc(),Gq=require("url"),an=kt(),eu=Ge(),Zc=/\/tag\/([^/]+)$/,To=class extends eu.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.options=t,this.baseUrl=(0,an.newBaseUrl)((0,gt.githubUrl)(t,r));let i=r==="github.com"?"api.github.com":r;this.baseApiUrl=(0,an.newBaseUrl)((0,gt.githubUrl)(t,i))}computeGithubBasePath(t){let r=this.options.host;return r&&!["github.com","api.github.com"].includes(r)?"/api/v3".concat(t):t}};yr.BaseGitHubProvider=To;var tu=class extends To{constructor(t,r,n){super(t,"github.com",n),this.options=t,this.updater=r}get channel(){let t=this.updater.channel||this.options.channel;return t==null?this.getDefaultChannelName():this.getCustomChannelName(t)}async getLatestVersion(){var t,r,n,i,s;let o=new gt.CancellationToken,a=await this.httpRequest((0,an.newUrlFromBase)("".concat(this.basePath,".atom"),this.baseUrl),{accept:"application/xml, application/atom+xml, text/xml, */*"},o),l=(0,gt.parseXml)(a),c=l.element("entry",!1,"No published versions on GitHub"),f=null;try{if(this.updater.allowPrerelease){let E=((t=this.updater)===null||t===void 0?void 0:t.channel)||((r=on.prerelease(this.updater.currentVersion))===null||r===void 0?void 0:r[0])||null;if(E===null)f=Zc.exec(c.element("link").attribute("href"))[1];else for(let S of l.getElements("entry")){let b=Zc.exec(S.element("link").attribute("href"));if(b===null)continue;let C=b[1],N=((n=on.prerelease(C))===null||n===void 0?void 0:n[0])||null,R=!E||["alpha","beta"].includes(E),I=N!==null&&!["alpha","beta"].includes(String(N));if(R&&!I&&!(E==="beta"&&N==="alpha")){f=C;break}if(N&&N===E){f=C;break}}}else{f=await this.getLatestTagName(o);for(let E of l.getElements("entry"))if(Zc.exec(E.element("link").attribute("href"))[1]===f){c=E;break}}}catch(E){throw(0,gt.newError)("Cannot parse releases feed: ".concat(E.stack||E.message,",\nXML:\n").concat(a),"ERR_UPDATER_INVALID_RELEASE_FEED")}if(f==null)throw(0,gt.newError)("No published versions on GitHub","ERR_UPDATER_NO_PUBLISHED_VERSIONS");let u,d="",p="",w=async E=>{d=(0,an.getChannelFilename)(E),p=(0,an.newUrlFromBase)(this.getBaseDownloadPath(String(f),d),this.baseUrl);let S=this.createRequestOptions(p);try{return await this.executor.request(S,o)}catch(b){throw b instanceof gt.HttpError&&b.statusCode===404?(0,gt.newError)("Cannot find ".concat(d," in the latest release artifacts (").concat(p,"): ").concat(b.stack||b.message),"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):b}};try{let E=this.channel;this.updater.allowPrerelease&&(!((i=on.prerelease(f))===null||i===void 0)&&i[0])&&(E=this.getCustomChannelName(String((s=on.prerelease(f))===null||s===void 0?void 0:s[0]))),u=await w(E)}catch(E){if(this.updater.allowPrerelease)u=await w(this.getDefaultChannelName());else throw E}let g=(0,eu.parseUpdateInfo)(u,d,p);return g.releaseName==null&&(g.releaseName=c.elementValueOrEmpty("title")),g.releaseNotes==null&&(g.releaseNotes=BA(this.updater.currentVersion,this.updater.fullChangelog,l,c)),{tag:f,...g}}async getLatestTagName(t){let r=this.options,n=r.host==null||r.host==="github.com"?(0,an.newUrlFromBase)("".concat(this.basePath,"/latest"),this.baseUrl):new Gq.URL("".concat(this.computeGithubBasePath("/repos/".concat(r.owner,"/").concat(r.repo,"/releases")),"/latest"),this.baseApiUrl);try{let i=await this.httpRequest(n,{Accept:"application/json"},t);return i==null?null:JSON.parse(i).tag_name}catch(i){throw(0,gt.newError)("Unable to find latest version on GitHub (".concat(n,"), please ensure a production release exists: ").concat(i.stack||i.message),"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return"/".concat(this.options.owner,"/").concat(this.options.repo,"/releases")}resolveFiles(t){return(0,eu.resolveFiles)(t,this.baseUrl,r=>this.getBaseDownloadPath(t.tag,r.replace(/ /g,"-")))}getBaseDownloadPath(t,r){return"".concat(this.basePath,"/download/").concat(t,"/").concat(r)}};yr.GitHubProvider=tu;function $A(e){let t=e.elementValueOrEmpty("content");return t==="No content."?"":t}function BA(e,t,r,n){if(!t)return $A(n);let i=[];for(let s of r.getElements("entry")){let o=/\/tag\/v?([^/]+)$/.exec(s.element("link").attribute("href"))[1];on.lt(e,o)&&i.push({version:o,note:$A(s)})}return i.sort((s,o)=>on.rcompare(s.version,o.version))}});var HA=y(No=>{"use strict";Object.defineProperty(No,"__esModule",{value:!0});No.KeygenProvider=void 0;var jA=ye(),nu=kt(),iu=Ge(),su=class extends iu.Provider{constructor(t,r,n){super({...n,isUseMultipleRangeRequest:!1}),this.configuration=t,this.updater=r,this.defaultHostname="api.keygen.sh";let i=this.configuration.host||this.defaultHostname;this.baseUrl=(0,nu.newBaseUrl)("https://".concat(i,"/v1/accounts/").concat(this.configuration.account,"/artifacts?product=").concat(this.configuration.product))}get channel(){return this.updater.channel||this.configuration.channel||"stable"}async getLatestVersion(){let t=new jA.CancellationToken,r=(0,nu.getChannelFilename)(this.getCustomChannelName(this.channel)),n=(0,nu.newUrlFromBase)(r,this.baseUrl,this.updater.isAddNoCacheQuery);try{let i=await this.httpRequest(n,{Accept:"application/vnd.api+json","Keygen-Version":"1.1"},t);return(0,iu.parseUpdateInfo)(i,r,n)}catch(i){throw(0,jA.newError)("Unable to find latest version on ".concat(this.toString(),", please ensure release exists: ").concat(i.stack||i.message),"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}resolveFiles(t){return(0,iu.resolveFiles)(t,this.baseUrl)}toString(){let{account:t,product:r,platform:n}=this.configuration;return"Keygen (account: ".concat(t,", product: ").concat(r,", platform: ").concat(n,", channel: ").concat(this.channel,")")}};No.KeygenProvider=su});var WA=y(Oo=>{"use strict";Object.defineProperty(Oo,"__esModule",{value:!0});Oo.PrivateGitHubProvider=void 0;var ln=ye(),Wq=zs(),Yq=require("path"),VA=require("url"),GA=kt(),Kq=ru(),Qq=Ge(),ou=class extends Kq.BaseGitHubProvider{constructor(t,r,n,i){super(t,"api.github.com",i),this.updater=r,this.token=n}createRequestOptions(t,r){let n=super.createRequestOptions(t,r);return n.redirect="manual",n}async getLatestVersion(){let t=new ln.CancellationToken,r=(0,GA.getChannelFilename)(this.getDefaultChannelName()),n=await this.getLatestVersionInfo(t),i=n.assets.find(a=>a.name===r);if(i==null)throw(0,ln.newError)("Cannot find ".concat(r," in the release ").concat(n.html_url||n.name),"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND");let s=new VA.URL(i.url),o;try{o=(0,Wq.load)(await this.httpRequest(s,this.configureHeaders("application/octet-stream"),t))}catch(a){throw a instanceof ln.HttpError&&a.statusCode===404?(0,ln.newError)("Cannot find ".concat(r," in the latest release artifacts (").concat(s,"): ").concat(a.stack||a.message),"ERR_UPDATER_CHANNEL_FILE_NOT_FOUND"):a}return o.assets=n.assets,o}get fileExtraDownloadHeaders(){return this.configureHeaders("application/octet-stream")}configureHeaders(t){return{accept:t,authorization:"token ".concat(this.token)}}async getLatestVersionInfo(t){let r=this.updater.allowPrerelease,n=this.basePath;r||(n="".concat(n,"/latest"));let i=(0,GA.newUrlFromBase)(n,this.baseUrl);try{let s=JSON.parse(await this.httpRequest(i,this.configureHeaders("application/vnd.github.v3+json"),t));return r?s.find(o=>o.prerelease)||s[0]:s}catch(s){throw(0,ln.newError)("Unable to find latest version on GitHub (".concat(i,"), please ensure a production release exists: ").concat(s.stack||s.message),"ERR_UPDATER_LATEST_VERSION_NOT_FOUND")}}get basePath(){return this.computeGithubBasePath("/repos/".concat(this.options.owner,"/").concat(this.options.repo,"/releases"))}resolveFiles(t){return(0,Qq.getFileList)(t).map(r=>{let n=Yq.posix.basename(r.url).replace(/ /g,"-"),i=t.assets.find(s=>s!=null&&s.name===n);if(i==null)throw(0,ln.newError)('Cannot find asset "'.concat(n,'" in: ').concat(JSON.stringify(t.assets,null,2)),"ERR_UPDATER_ASSET_NOT_FOUND");return{url:new VA.URL(i.url),info:r}})}};Oo.PrivateGitHubProvider=ou});var QA=y(Po=>{"use strict";Object.defineProperty(Po,"__esModule",{value:!0});Po.isUrlProbablySupportMultiRangeRequests=KA;Po.createClient=eL;var Io=ye(),zq=MA(),YA=Qc(),Xq=ru(),Jq=HA(),Zq=WA();function KA(e){return!e.includes("s3.amazonaws.com")}function eL(e,t,r){if(typeof e=="string")throw(0,Io.newError)("Please pass PublishConfiguration object","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");let n=e.provider;switch(n){case"github":{let i=e,s=(i.private?process.env.GH_TOKEN||process.env.GITHUB_TOKEN:null)||i.token;return s==null?new Xq.GitHubProvider(i,t,r):new Zq.PrivateGitHubProvider(i,t,s,r)}case"bitbucket":return new zq.BitbucketProvider(e,t,r);case"keygen":return new Jq.KeygenProvider(e,t,r);case"s3":case"spaces":return new YA.GenericProvider({provider:"generic",url:(0,Io.getS3LikeProviderBaseUrl)(e),channel:e.channel||null},t,{...r,isUseMultipleRangeRequest:!1});case"generic":{let i=e;return new YA.GenericProvider(i,t,{...r,isUseMultipleRangeRequest:i.useMultipleRangeRequest!==!1&&KA(i.url)})}case"custom":{let i=e,s=i.updateProvider;if(!s)throw(0,Io.newError)("Custom provider not specified","ERR_UPDATER_INVALID_PROVIDER_CONFIGURATION");return new s(i,t,r)}default:throw(0,Io.newError)("Unsupported provider: ".concat(n),"ERR_UPDATER_UNSUPPORTED_PROVIDER")}}});var Do=y(Ei=>{"use strict";Object.defineProperty(Ei,"__esModule",{value:!0});Ei.OperationKind=void 0;Ei.computeOperations=tL;var Ar;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(Ar||(Ei.OperationKind=Ar={}));function tL(e,t,r){let n=XA(e.files),i=XA(t.files),s=null,o=t.files[0],a=[],l=o.name,c=n.get(l);if(c==null)throw new Error("no file ".concat(l," in old blockmap"));let f=i.get(l),u=0,{checksumToOffset:d,checksumToOldSize:p}=nL(n.get(l),c.offset,r),w=o.offset;for(let g=0;g<f.checksums.length;w+=f.sizes[g],g++){let E=f.sizes[g],S=f.checksums[g],b=d.get(S);b!=null&&p.get(S)!==E&&(r.warn('Checksum ("'.concat(S,'") matches, but size differs (old: ').concat(p.get(S),", new: ").concat(E,")")),b=void 0),b===void 0?(u++,s!=null&&s.kind===Ar.DOWNLOAD&&s.end===w?s.end+=E:(s={kind:Ar.DOWNLOAD,start:w,end:w+E},zA(s,a,S,g))):s!=null&&s.kind===Ar.COPY&&s.end===b?s.end+=E:(s={kind:Ar.COPY,start:b,end:b+E},zA(s,a,S,g))}return u>0&&r.info("File".concat(o.name==="file"?"":" "+o.name," has ").concat(u," changed blocks")),a}var rL=process.env.DIFFERENTIAL_DOWNLOAD_PLAN_BUILDER_VALIDATE_RANGES==="true";function zA(e,t,r,n){if(rL&&t.length!==0){let i=t[t.length-1];if(i.kind===e.kind&&e.start<i.end&&e.start>i.start){let s=[i.start,i.end,e.start,e.end].reduce((o,a)=>o<a?o:a);throw new Error("operation (block index: ".concat(n,", checksum: ").concat(r,", kind: ").concat(Ar[e.kind],") overlaps previous operation (checksum: ").concat(r,"):\n")+"abs: ".concat(i.start," until ").concat(i.end," and ").concat(e.start," until ").concat(e.end,"\n")+"rel: ".concat(i.start-s," until ").concat(i.end-s," and ").concat(e.start-s," until ").concat(e.end-s))}}t.push(e)}function nL(e,t,r){let n=new Map,i=new Map,s=t;for(let o=0;o<e.checksums.length;o++){let a=e.checksums[o],l=e.sizes[o],c=i.get(a);if(c===void 0)n.set(a,s),i.set(a,l);else if(r.debug!=null){let f=c===l?"(same size)":"(size: ".concat(c,", this size: ").concat(l,")");r.debug("".concat(a," duplicated in blockmap ").concat(f,", it doesn't lead to broken differential downloader, just corresponding block will be skipped)"))}s+=l}return{checksumToOffset:n,checksumToOldSize:i}}function XA(e){let t=new Map;for(let r of e)t.set(r.name,r);return t}});var lu=y(vi=>{"use strict";Object.defineProperty(vi,"__esModule",{value:!0});vi.DataSplitter=void 0;vi.copyData=ZA;var qo=ye(),iL=require("fs"),sL=require("stream"),oL=Do(),JA=Buffer.from("\r\n\r\n"),Mt;(function(e){e[e.INIT=0]="INIT",e[e.HEADER=1]="HEADER",e[e.BODY=2]="BODY"})(Mt||(Mt={}));function ZA(e,t,r,n,i){let s=(0,iL.createReadStream)("",{fd:r,autoClose:!1,start:e.start,end:e.end-1});s.on("error",n),s.once("end",i),s.pipe(t,{end:!1})}var au=class extends sL.Writable{constructor(t,r,n,i,s,o){super(),this.out=t,this.options=r,this.partIndexToTaskIndex=n,this.partIndexToLength=s,this.finishHandler=o,this.partIndex=-1,this.headerListBuffer=null,this.readState=Mt.INIT,this.ignoreByteCount=0,this.remainingPartDataCount=0,this.actualPartLength=0,this.boundaryLength=i.length+4,this.ignoreByteCount=this.boundaryLength-2}get isFinished(){return this.partIndex===this.partIndexToLength.length}_write(t,r,n){if(this.isFinished){console.error("Trailing ignored data: ".concat(t.length," bytes"));return}this.handleData(t).then(n).catch(n)}async handleData(t){let r=0;if(this.ignoreByteCount!==0&&this.remainingPartDataCount!==0)throw(0,qo.newError)("Internal error","ERR_DATA_SPLITTER_BYTE_COUNT_MISMATCH");if(this.ignoreByteCount>0){let n=Math.min(this.ignoreByteCount,t.length);this.ignoreByteCount-=n,r=n}else if(this.remainingPartDataCount>0){let n=Math.min(this.remainingPartDataCount,t.length);this.remainingPartDataCount-=n,await this.processPartData(t,0,n),r=n}if(r!==t.length){if(this.readState===Mt.HEADER){let n=this.searchHeaderListEnd(t,r);if(n===-1)return;r=n,this.readState=Mt.BODY,this.headerListBuffer=null}for(;;){if(this.readState===Mt.BODY)this.readState=Mt.INIT;else{this.partIndex++;let o=this.partIndexToTaskIndex.get(this.partIndex);if(o==null)if(this.isFinished)o=this.options.end;else throw(0,qo.newError)("taskIndex is null","ERR_DATA_SPLITTER_TASK_INDEX_IS_NULL");let a=this.partIndex===0?this.options.start:this.partIndexToTaskIndex.get(this.partIndex-1)+1;if(a<o)await this.copyExistingData(a,o);else if(a>o)throw(0,qo.newError)("prevTaskIndex must be < taskIndex","ERR_DATA_SPLITTER_TASK_INDEX_ASSERT_FAILED");if(this.isFinished){this.onPartEnd(),this.finishHandler();return}if(r=this.searchHeaderListEnd(t,r),r===-1){this.readState=Mt.HEADER;return}}let n=this.partIndexToLength[this.partIndex],i=r+n,s=Math.min(i,t.length);if(await this.processPartStarted(t,r,s),this.remainingPartDataCount=n-(s-r),this.remainingPartDataCount>0)return;if(r=i+this.boundaryLength,r>=t.length){this.ignoreByteCount=this.boundaryLength-(t.length-i);return}}}}copyExistingData(t,r){return new Promise((n,i)=>{let s=()=>{if(t===r){n();return}let o=this.options.tasks[t];if(o.kind!==oL.OperationKind.COPY){i(new Error("Task kind must be COPY"));return}ZA(o,this.out,this.options.oldFileFd,i,()=>{t++,s()})};s()})}searchHeaderListEnd(t,r){let n=t.indexOf(JA,r);if(n!==-1)return n+JA.length;let i=r===0?t:t.slice(r);return this.headerListBuffer==null?this.headerListBuffer=i:this.headerListBuffer=Buffer.concat([this.headerListBuffer,i]),-1}onPartEnd(){let t=this.partIndexToLength[this.partIndex-1];if(this.actualPartLength!==t)throw(0,qo.newError)("Expected length: ".concat(t," differs from actual: ").concat(this.actualPartLength),"ERR_DATA_SPLITTER_LENGTH_MISMATCH");this.actualPartLength=0}processPartStarted(t,r,n){return this.partIndex!==0&&this.onPartEnd(),this.processPartData(t,r,n)}processPartData(t,r,n){this.actualPartLength+=n-r;let i=this.out;return i.write(r===0&&t.length===n?t:t.slice(r,n))?Promise.resolve():new Promise((s,o)=>{i.on("error",o),i.once("drain",()=>{i.removeListener("error",o),s()})})}};vi.DataSplitter=au});var rw=y(Lo=>{"use strict";Object.defineProperty(Lo,"__esModule",{value:!0});Lo.executeTasksUsingMultipleRangeRequests=aL;Lo.checkIsRangesSupported=uu;var cu=ye(),ew=lu(),tw=Do();function aL(e,t,r,n,i){let s=o=>{if(o>=t.length){e.fileMetadataBuffer!=null&&r.write(e.fileMetadataBuffer),r.end();return}let a=o+1e3;lL(e,{tasks:t,start:o,end:Math.min(t.length,a),oldFileFd:n},r,()=>s(a),i)};return s}function lL(e,t,r,n,i){let s="bytes=",o=0,a=new Map,l=[];for(let u=t.start;u<t.end;u++){let d=t.tasks[u];d.kind===tw.OperationKind.DOWNLOAD&&(s+="".concat(d.start,"-").concat(d.end-1,", "),a.set(o,u),o++,l.push(d.end-d.start))}if(o<=1){let u=d=>{if(d>=t.end){n();return}let p=t.tasks[d++];if(p.kind===tw.OperationKind.COPY)(0,ew.copyData)(p,r,t.oldFileFd,i,()=>u(d));else{let w=e.createRequestOptions();w.headers.Range="bytes=".concat(p.start,"-").concat(p.end-1);let g=e.httpExecutor.createRequest(w,E=>{uu(E,i)&&(E.pipe(r,{end:!1}),E.once("end",()=>u(d)))});e.httpExecutor.addErrorAndTimeoutHandlers(g,i),g.end()}};u(t.start);return}let c=e.createRequestOptions();c.headers.Range=s.substring(0,s.length-2);let f=e.httpExecutor.createRequest(c,u=>{if(!uu(u,i))return;let d=(0,cu.safeGetHeader)(u,"content-type"),p=/^multipart\/.+?(?:; boundary=(?:(?:"(.+)")|(?:([^\s]+))))$/i.exec(d);if(p==null){i(new Error('Content-Type "multipart/byteranges" is expected, but got "'.concat(d,'"')));return}let w=new ew.DataSplitter(r,t,a,p[1]||p[2],l,n);w.on("error",i),u.pipe(w),u.on("end",()=>{setTimeout(()=>{f.abort(),i(new Error("Response ends without calling any handlers"))},1e4)})});e.httpExecutor.addErrorAndTimeoutHandlers(f,i),f.end()}function uu(e,t){if(e.statusCode>=400)return t((0,cu.createHttpError)(e)),!1;if(e.statusCode!==206){let r=(0,cu.safeGetHeader)(e,"accept-ranges");if(r==null||r==="none")return t(new Error("Server doesn't support Accept-Ranges (response code ".concat(e.statusCode,")"))),!1}return!0}});var nw=y(xo=>{"use strict";Object.defineProperty(xo,"__esModule",{value:!0});xo.ProgressDifferentialDownloadCallbackTransform=void 0;var cL=require("stream"),cn;(function(e){e[e.COPY=0]="COPY",e[e.DOWNLOAD=1]="DOWNLOAD"})(cn||(cn={}));var fu=class extends cL.Transform{constructor(t,r,n){super(),this.progressDifferentialDownloadInfo=t,this.cancellationToken=r,this.onProgress=n,this.start=Date.now(),this.transferred=0,this.delta=0,this.expectedBytes=0,this.index=0,this.operationType=cn.COPY,this.nextUpdate=this.start+1e3}_transform(t,r,n){if(this.cancellationToken.cancelled){n(new Error("cancelled"),null);return}if(this.operationType==cn.COPY){n(null,t);return}this.transferred+=t.length,this.delta+=t.length;let i=Date.now();i>=this.nextUpdate&&this.transferred!==this.expectedBytes&&this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&(this.nextUpdate=i+1e3,this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((i-this.start)/1e3))}),this.delta=0),n(null,t)}beginFileCopy(){this.operationType=cn.COPY}beginRangeDownload(){this.operationType=cn.DOWNLOAD,this.expectedBytes+=this.progressDifferentialDownloadInfo.expectedByteCounts[this.index++]}endRangeDownload(){this.transferred!==this.progressDifferentialDownloadInfo.grandTotal&&this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:this.transferred/this.progressDifferentialDownloadInfo.grandTotal*100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))})}_flush(t){if(this.cancellationToken.cancelled){t(new Error("cancelled"));return}this.onProgress({total:this.progressDifferentialDownloadInfo.grandTotal,delta:this.delta,transferred:this.transferred,percent:100,bytesPerSecond:Math.round(this.transferred/((Date.now()-this.start)/1e3))}),this.delta=0,this.transferred=0,t(null)}};xo.ProgressDifferentialDownloadCallbackTransform=fu});var pu=y(ko=>{"use strict";Object.defineProperty(ko,"__esModule",{value:!0});ko.DifferentialDownloader=void 0;var bi=ye(),du=dt(),uL=require("fs"),fL=lu(),dL=require("url"),Ro=Do(),iw=rw(),hL=nw(),hu=class{constructor(t,r,n){this.blockAwareFileInfo=t,this.httpExecutor=r,this.options=n,this.fileMetadataBuffer=null,this.logger=n.logger}createRequestOptions(){let t={headers:{...this.options.requestHeaders,accept:"*/*"}};return(0,bi.configureRequestUrl)(this.options.newUrl,t),(0,bi.configureRequestOptions)(t),t}doDownload(t,r){if(t.version!==r.version)throw new Error("version is different (".concat(t.version," - ").concat(r.version,"), full download is required"));let n=this.logger,i=(0,Ro.computeOperations)(t,r,n);n.debug!=null&&n.debug(JSON.stringify(i,null,2));let s=0,o=0;for(let l of i){let c=l.end-l.start;l.kind===Ro.OperationKind.DOWNLOAD?s+=c:o+=c}let a=this.blockAwareFileInfo.size;if(s+o+(this.fileMetadataBuffer==null?0:this.fileMetadataBuffer.length)!==a)throw new Error("Internal error, size mismatch: downloadSize: ".concat(s,", copySize: ").concat(o,", newSize: ").concat(a));return n.info("Full: ".concat(sw(a),", To download: ").concat(sw(s)," (").concat(Math.round(s/(a/100)),"%)")),this.downloadFile(i)}downloadFile(t){let r=[],n=()=>Promise.all(r.map(i=>(0,du.close)(i.descriptor).catch(s=>{this.logger.error('cannot close file "'.concat(i.path,'": ').concat(s))})));return this.doDownloadFile(t,r).then(n).catch(i=>n().catch(s=>{try{this.logger.error("cannot close files: ".concat(s))}catch(o){try{console.error(o)}catch{}}throw i}).then(()=>{throw i}))}async doDownloadFile(t,r){let n=await(0,du.open)(this.options.oldFile,"r");r.push({descriptor:n,path:this.options.oldFile});let i=await(0,du.open)(this.options.newFile,"w");r.push({descriptor:i,path:this.options.newFile});let s=(0,uL.createWriteStream)(this.options.newFile,{fd:i});await new Promise((o,a)=>{let l=[],c;if(!this.options.isUseMultipleRangeRequest&&this.options.onProgress){let S=[],b=0;for(let N of t)N.kind===Ro.OperationKind.DOWNLOAD&&(S.push(N.end-N.start),b+=N.end-N.start);let C={expectedByteCounts:S,grandTotal:b};c=new hL.ProgressDifferentialDownloadCallbackTransform(C,this.options.cancellationToken,this.options.onProgress),l.push(c)}let f=new bi.DigestTransform(this.blockAwareFileInfo.sha512);f.isValidateOnEnd=!1,l.push(f),s.on("finish",()=>{s.close(()=>{r.splice(1,1);try{f.validate()}catch(S){a(S);return}o(void 0)})}),l.push(s);let u=null;for(let S of l)S.on("error",a),u==null?u=S:u=u.pipe(S);let d=l[0],p;if(this.options.isUseMultipleRangeRequest){p=(0,iw.executeTasksUsingMultipleRangeRequests)(this,t,d,n,a),p(0);return}let w=0,g=null;this.logger.info("Differential download: ".concat(this.options.newUrl));let E=this.createRequestOptions();E.redirect="manual",p=S=>{var b,C;if(S>=t.length){this.fileMetadataBuffer!=null&&d.write(this.fileMetadataBuffer),d.end();return}let N=t[S++];if(N.kind===Ro.OperationKind.COPY){c&&c.beginFileCopy(),(0,fL.copyData)(N,d,n,a,()=>p(S));return}let R="bytes=".concat(N.start,"-").concat(N.end-1);E.headers.range=R,(C=(b=this.logger)===null||b===void 0?void 0:b.debug)===null||C===void 0||C.call(b,"download range: ".concat(R)),c&&c.beginRangeDownload();let I=this.httpExecutor.createRequest(E,M=>{M.on("error",a),M.on("aborted",()=>{a(new Error("response has been aborted by the server"))}),M.statusCode>=400&&a((0,bi.createHttpError)(M)),M.pipe(d,{end:!1}),M.once("end",()=>{c&&c.endRangeDownload(),++w===100?(w=0,setTimeout(()=>p(S),1e3)):p(S)})});I.on("redirect",(M,A,O)=>{this.logger.info("Redirect to ".concat(pL(O))),g=O,(0,bi.configureRequestUrl)(new dL.URL(g),E),I.followRedirect()}),this.httpExecutor.addErrorAndTimeoutHandlers(I,a),I.end()},p(0)})}async readRemoteBytes(t,r){let n=Buffer.allocUnsafe(r+1-t),i=this.createRequestOptions();i.headers.range="bytes=".concat(t,"-").concat(r);let s=0;if(await this.request(i,o=>{o.copy(n,s),s+=o.length}),s!==n.length)throw new Error("Received data length ".concat(s," is not equal to expected ").concat(n.length));return n}request(t,r){return new Promise((n,i)=>{let s=this.httpExecutor.createRequest(t,o=>{(0,iw.checkIsRangesSupported)(o,i)&&(o.on("error",i),o.on("aborted",()=>{i(new Error("response has been aborted by the server"))}),o.on("data",r),o.on("end",()=>n()))});this.httpExecutor.addErrorAndTimeoutHandlers(s,i),s.end()})}};ko.DifferentialDownloader=hu;function sw(e,t=" KB"){return new Intl.NumberFormat("en").format((e/1024).toFixed(2))+t}function pL(e){let t=e.indexOf("?");return t<0?e:e.substring(0,t)}});var ow=y(Fo=>{"use strict";Object.defineProperty(Fo,"__esModule",{value:!0});Fo.GenericDifferentialDownloader=void 0;var mL=pu(),mu=class extends mL.DifferentialDownloader{download(t,r){return this.doDownload(t,r)}};Fo.GenericDifferentialDownloader=mu});var $t=y(We=>{"use strict";Object.defineProperty(We,"__esModule",{value:!0});We.UpdaterSignal=We.UPDATE_DOWNLOADED=We.DOWNLOAD_PROGRESS=We.CancellationToken=void 0;We.addHandler=Si;var gL=ye();Object.defineProperty(We,"CancellationToken",{enumerable:!0,get:function(){return gL.CancellationToken}});We.DOWNLOAD_PROGRESS="download-progress";We.UPDATE_DOWNLOADED="update-downloaded";var gu=class{constructor(t){this.emitter=t}login(t){Si(this.emitter,"login",t)}progress(t){Si(this.emitter,We.DOWNLOAD_PROGRESS,t)}updateDownloaded(t){Si(this.emitter,We.UPDATE_DOWNLOADED,t)}updateCancelled(t){Si(this.emitter,"update-cancelled",t)}};We.UpdaterSignal=gu;var yL=!1;function Si(e,t,r){yL?e.on(t,(...n)=>{console.log("%s %s",t,n),r(...n)}):e.on(t,r)}});var Mo=y(dn=>{"use strict";Object.defineProperty(dn,"__esModule",{value:!0});dn.NoOpLogger=dn.AppUpdater=void 0;var Le=ye(),AL=require("crypto"),wL=require("os"),EL=require("events"),un=dt(),vL=zs(),yu=Xg(),wr=require("path"),Er=Nc(),aw=bA(),bL=CA(),lw=NA(),SL=Qc(),Au=QA(),_L=require("zlib"),CL=kt(),TL=ow(),fn=$t(),wu=class e extends EL.EventEmitter{get channel(){return this._channel}set channel(t){if(this._channel!=null){if(typeof t!="string")throw(0,Le.newError)("Channel must be a string, but got: ".concat(t),"ERR_UPDATER_INVALID_CHANNEL");if(t.length===0)throw(0,Le.newError)("Channel must be not an empty string","ERR_UPDATER_INVALID_CHANNEL")}this._channel=t,this.allowDowngrade=!0}addAuthHeader(t){this.requestHeaders=Object.assign({},this.requestHeaders,{authorization:t})}get netSession(){return(0,lw.getNetSession)()}get logger(){return this._logger}set logger(t){this._logger=t??new Uo}set updateConfigPath(t){this.clientPromise=null,this._appUpdateConfigPath=t,this.configOnDisk=new yu.Lazy(()=>this.loadUpdateConfig())}get isUpdateSupported(){return this._isUpdateSupported}set isUpdateSupported(t){t&&(this._isUpdateSupported=t)}constructor(t,r){super(),this.autoDownload=!0,this.autoInstallOnAppQuit=!0,this.autoRunAppAfterInstall=!0,this.allowPrerelease=!1,this.fullChangelog=!1,this.allowDowngrade=!1,this.disableWebInstaller=!1,this.disableDifferentialDownload=!1,this.forceDevUpdateConfig=!1,this._channel=null,this.downloadedUpdateHelper=null,this.requestHeaders=null,this._logger=console,this.signals=new fn.UpdaterSignal(this),this._appUpdateConfigPath=null,this._isUpdateSupported=s=>this.checkIfUpdateSupported(s),this.clientPromise=null,this.stagingUserIdPromise=new yu.Lazy(()=>this.getOrCreateStagingUserId()),this.configOnDisk=new yu.Lazy(()=>this.loadUpdateConfig()),this.checkForUpdatesPromise=null,this.downloadPromise=null,this.updateInfoAndProvider=null,this._testOnlyOptions=null,this.on("error",s=>{this._logger.error("Error: ".concat(s.stack||s.message))}),r==null?(this.app=new bL.ElectronAppAdapter,this.httpExecutor=new lw.ElectronHttpExecutor((s,o)=>this.emit("login",s,o))):(this.app=r,this.httpExecutor=null);let n=this.app.version,i=(0,Er.parse)(n);if(i==null)throw(0,Le.newError)('App version is not a valid semver version: "'.concat(n,'"'),"ERR_UPDATER_INVALID_VERSION");this.currentVersion=i,this.allowPrerelease=NL(i),t!=null&&(this.setFeedURL(t),typeof t!="string"&&t.requestHeaders&&(this.requestHeaders=t.requestHeaders))}getFeedURL(){return"Deprecated. Do not use it."}setFeedURL(t){let r=this.createProviderRuntimeOptions(),n;typeof t=="string"?n=new SL.GenericProvider({provider:"generic",url:t},this,{...r,isUseMultipleRangeRequest:(0,Au.isUrlProbablySupportMultiRangeRequests)(t)}):n=(0,Au.createClient)(t,this,r),this.clientPromise=Promise.resolve(n)}checkForUpdates(){if(!this.isUpdaterActive())return Promise.resolve(null);let t=this.checkForUpdatesPromise;if(t!=null)return this._logger.info("Checking for update (already in progress)"),t;let r=()=>this.checkForUpdatesPromise=null;return this._logger.info("Checking for update"),t=this.doCheckForUpdates().then(n=>(r(),n)).catch(n=>{throw r(),this.emit("error",n,"Cannot check for updates: ".concat((n.stack||n).toString())),n}),this.checkForUpdatesPromise=t,t}isUpdaterActive(){return this.app.isPackaged||this.forceDevUpdateConfig?!0:(this._logger.info("Skip checkForUpdates because application is not packed and dev update config is not forced"),!1)}checkForUpdatesAndNotify(t){return this.checkForUpdates().then(r=>r?.downloadPromise?(r.downloadPromise.then(()=>{let n=e.formatDownloadNotification(r.updateInfo.version,this.app.name,t);new(require("electron")).Notification(n).show()}),r):(this._logger.debug!=null&&this._logger.debug("checkForUpdatesAndNotify called, downloadPromise is null"),r))}static formatDownloadNotification(t,r,n){return n==null&&(n={title:"A new update is ready to install",body:"{appName} version {version} has been downloaded and will be automatically installed on exit"}),n={title:n.title.replace("{appName}",r).replace("{version}",t),body:n.body.replace("{appName}",r).replace("{version}",t)},n}async isStagingMatch(t){let r=t.stagingPercentage,n=r;if(n==null)return!0;if(n=parseInt(n,10),isNaN(n))return this._logger.warn("Staging percentage is NaN: ".concat(r)),!0;n=n/100;let i=await this.stagingUserIdPromise.value,o=Le.UUID.parse(i).readUInt32BE(12)/4294967295;return this._logger.info("Staging percentage: ".concat(n,", percentage: ").concat(o,", user id: ").concat(i)),o<n}computeFinalHeaders(t){return this.requestHeaders!=null&&Object.assign(t,this.requestHeaders),t}async isUpdateAvailable(t){let r=(0,Er.parse)(t.version);if(r==null)throw(0,Le.newError)('This file could not be downloaded, or the latest version (from update server) does not have a valid semver version: "'.concat(t.version,'"'),"ERR_UPDATER_INVALID_VERSION");let n=this.currentVersion;if((0,Er.eq)(r,n)||!await Promise.resolve(this.isUpdateSupported(t))||!await this.isStagingMatch(t))return!1;let s=(0,Er.gt)(r,n),o=(0,Er.lt)(r,n);return s?!0:this.allowDowngrade&&o}checkIfUpdateSupported(t){let r=t?.minimumSystemVersion,n=(0,wL.release)();if(r)try{if((0,Er.lt)(n,r))return this._logger.info("Current OS version ".concat(n," is less than the minimum OS version required ").concat(r," for version ").concat(n)),!1}catch(i){this._logger.warn("Failed to compare current OS version(".concat(n,") with minimum OS version(").concat(r,"): ").concat((i.message||i).toString()))}return!0}async getUpdateInfoAndProvider(){await this.app.whenReady(),this.clientPromise==null&&(this.clientPromise=this.configOnDisk.value.then(n=>(0,Au.createClient)(n,this,this.createProviderRuntimeOptions())));let t=await this.clientPromise,r=await this.stagingUserIdPromise.value;return t.setRequestHeaders(this.computeFinalHeaders({"x-user-staging-id":r})),{info:await t.getLatestVersion(),provider:t}}createProviderRuntimeOptions(){return{isUseMultipleRangeRequest:!0,platform:this._testOnlyOptions==null?process.platform:this._testOnlyOptions.platform,executor:this.httpExecutor}}async doCheckForUpdates(){this.emit("checking-for-update");let t=await this.getUpdateInfoAndProvider(),r=t.info;if(!await this.isUpdateAvailable(r))return this._logger.info("Update for version ".concat(this.currentVersion.format()," is not available (latest version: ").concat(r.version,", downgrade is ").concat(this.allowDowngrade?"allowed":"disallowed",").")),this.emit("update-not-available",r),{isUpdateAvailable:!1,versionInfo:r,updateInfo:r};this.updateInfoAndProvider=t,this.onUpdateAvailable(r);let n=new Le.CancellationToken;return{isUpdateAvailable:!0,versionInfo:r,updateInfo:r,cancellationToken:n,downloadPromise:this.autoDownload?this.downloadUpdate(n):null}}onUpdateAvailable(t){this._logger.info("Found version ".concat(t.version," (url: ").concat((0,Le.asArray)(t.files).map(r=>r.url).join(", "),")")),this.emit("update-available",t)}downloadUpdate(t=new Le.CancellationToken){let r=this.updateInfoAndProvider;if(r==null){let i=new Error("Please check update first");return this.dispatchError(i),Promise.reject(i)}if(this.downloadPromise!=null)return this._logger.info("Downloading update (already in progress)"),this.downloadPromise;this._logger.info("Downloading update from ".concat((0,Le.asArray)(r.info.files).map(i=>i.url).join(", ")));let n=i=>{if(!(i instanceof Le.CancellationError))try{this.dispatchError(i)}catch(s){this._logger.warn("Cannot dispatch error event: ".concat(s.stack||s))}return i};return this.downloadPromise=this.doDownloadUpdate({updateInfoAndProvider:r,requestHeaders:this.computeRequestHeaders(r.provider),cancellationToken:t,disableWebInstaller:this.disableWebInstaller,disableDifferentialDownload:this.disableDifferentialDownload}).catch(i=>{throw n(i)}).finally(()=>{this.downloadPromise=null}),this.downloadPromise}dispatchError(t){this.emit("error",t,(t.stack||t).toString())}dispatchUpdateDownloaded(t){this.emit(fn.UPDATE_DOWNLOADED,t)}async loadUpdateConfig(){return this._appUpdateConfigPath==null&&(this._appUpdateConfigPath=this.app.appUpdateConfigPath),(0,vL.load)(await(0,un.readFile)(this._appUpdateConfigPath,"utf-8"))}computeRequestHeaders(t){let r=t.fileExtraDownloadHeaders;if(r!=null){let n=this.requestHeaders;return n==null?r:{...r,...n}}return this.computeFinalHeaders({accept:"*/*"})}async getOrCreateStagingUserId(){let t=wr.join(this.app.userDataPath,".updaterId");try{let n=await(0,un.readFile)(t,"utf-8");if(Le.UUID.check(n))return n;this._logger.warn("Staging user id file exists, but content was invalid: ".concat(n))}catch(n){n.code!=="ENOENT"&&this._logger.warn("Couldn't read staging user ID, creating a blank one: ".concat(n))}let r=Le.UUID.v5((0,AL.randomBytes)(4096),Le.UUID.OID);this._logger.info("Generated new staging user ID: ".concat(r));try{await(0,un.outputFile)(t,r)}catch(n){this._logger.warn("Couldn't write out staging user ID: ".concat(n))}return r}get isAddNoCacheQuery(){let t=this.requestHeaders;if(t==null)return!0;for(let r of Object.keys(t)){let n=r.toLowerCase();if(n==="authorization"||n==="private-token")return!1}return!0}async getOrCreateDownloadHelper(){let t=this.downloadedUpdateHelper;if(t==null){let r=(await this.configOnDisk.value).updaterCacheDirName,n=this._logger;r==null&&n.error("updaterCacheDirName is not specified in app-update.yml Was app build using at least electron-builder 20.34.0?");let i=wr.join(this.app.baseCachePath,r||this.app.name);n.debug!=null&&n.debug("updater cache dir: ".concat(i)),t=new aw.DownloadedUpdateHelper(i),this.downloadedUpdateHelper=t}return t}async executeDownload(t){let r=t.fileInfo,n={headers:t.downloadUpdateOptions.requestHeaders,cancellationToken:t.downloadUpdateOptions.cancellationToken,sha2:r.info.sha2,sha512:r.info.sha512};this.listenerCount(fn.DOWNLOAD_PROGRESS)>0&&(n.onProgress=b=>this.emit(fn.DOWNLOAD_PROGRESS,b));let i=t.downloadUpdateOptions.updateInfoAndProvider.info,s=i.version,o=r.packageInfo;function a(){let b=decodeURIComponent(t.fileInfo.url.pathname);return b.endsWith(".".concat(t.fileExtension))?wr.basename(b):t.fileInfo.info.url}let l=await this.getOrCreateDownloadHelper(),c=l.cacheDirForPendingUpdate;await(0,un.mkdir)(c,{recursive:!0});let f=a(),u=wr.join(c,f),d=o==null?null:wr.join(c,"package-".concat(s).concat(wr.extname(o.path)||".7z")),p=async b=>(await l.setDownloadedFile(u,d,i,r,f,b),await t.done({...i,downloadedFile:u}),d==null?[u]:[u,d]),w=this._logger,g=await l.validateDownloadedPath(u,i,r,w);if(g!=null)return u=g,await p(!1);let E=async()=>(await l.clear().catch(()=>{}),await(0,un.unlink)(u).catch(()=>{})),S=await(0,aw.createTempUpdateFile)("temp-".concat(f),c,w);try{await t.task(S,n,d,E),await(0,Le.retry)(()=>(0,un.rename)(S,u),60,500,0,0,b=>b instanceof Error&&/^EBUSY:/.test(b.message))}catch(b){throw await E(),b instanceof Le.CancellationError&&(w.info("cancelled"),this.emit("update-cancelled",i)),b}return w.info("New version ".concat(s," has been downloaded to ").concat(u)),await p(!0)}async differentialDownloadInstaller(t,r,n,i,s){try{if(this._testOnlyOptions!=null&&!this._testOnlyOptions.isUseDifferentialDownload)return!0;let o=(0,CL.blockmapFiles)(t.url,this.app.version,r.updateInfoAndProvider.info.version);this._logger.info('Download block maps (old: "'.concat(o[0],'", new: ').concat(o[1],")"));let a=async f=>{let u=await this.httpExecutor.downloadToBuffer(f,{headers:r.requestHeaders,cancellationToken:r.cancellationToken});if(u==null||u.length===0)throw new Error('Blockmap "'.concat(f.href,'" is empty'));try{return JSON.parse((0,_L.gunzipSync)(u).toString())}catch(d){throw new Error('Cannot parse blockmap "'.concat(f.href,'", error: ').concat(d))}},l={newUrl:t.url,oldFile:wr.join(this.downloadedUpdateHelper.cacheDir,s),logger:this._logger,newFile:n,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,requestHeaders:r.requestHeaders,cancellationToken:r.cancellationToken};this.listenerCount(fn.DOWNLOAD_PROGRESS)>0&&(l.onProgress=f=>this.emit(fn.DOWNLOAD_PROGRESS,f));let c=await Promise.all(o.map(f=>a(f)));return await new TL.GenericDifferentialDownloader(t.info,this.httpExecutor,l).download(c[0],c[1]),!1}catch(o){if(this._logger.error("Cannot download differentially, fallback to full download: ".concat(o.stack||o)),this._testOnlyOptions!=null)throw o;return!0}}};dn.AppUpdater=wu;function NL(e){let t=(0,Er.prerelease)(e);return t!=null&&t.length>0}var Uo=class{info(t){}warn(t){}error(t){}};dn.NoOpLogger=Uo});var vr=y($o=>{"use strict";Object.defineProperty($o,"__esModule",{value:!0});$o.BaseUpdater=void 0;var cw=require("child_process"),OL=Mo(),Eu=class extends OL.AppUpdater{constructor(t,r){super(t,r),this.quitAndInstallCalled=!1,this.quitHandlerAdded=!1}quitAndInstall(t=!1,r=!1){this._logger.info("Install on explicit quitAndInstall"),this.install(t,t?r:this.autoRunAppAfterInstall)?setImmediate(()=>{require("electron").autoUpdater.emit("before-quit-for-update"),this.app.quit()}):this.quitAndInstallCalled=!1}executeDownload(t){return super.executeDownload({...t,done:r=>(this.dispatchUpdateDownloaded(r),this.addQuitHandler(),Promise.resolve())})}get installerPath(){return this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.file}install(t=!1,r=!1){if(this.quitAndInstallCalled)return this._logger.warn("install call ignored: quitAndInstallCalled is set to true"),!1;let n=this.downloadedUpdateHelper,i=this.installerPath,s=n==null?null:n.downloadedFileInfo;if(i==null||s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;this.quitAndInstallCalled=!0;try{return this._logger.info("Install: isSilent: ".concat(t,", isForceRunAfter: ").concat(r)),this.doInstall({isSilent:t,isForceRunAfter:r,isAdminRightsRequired:s.isAdminRightsRequired})}catch(o){return this.dispatchError(o),!1}}addQuitHandler(){this.quitHandlerAdded||!this.autoInstallOnAppQuit||(this.quitHandlerAdded=!0,this.app.onQuit(t=>{if(this.quitAndInstallCalled){this._logger.info("Update installer has already been triggered. Quitting application.");return}if(!this.autoInstallOnAppQuit){this._logger.info("Update will not be installed on quit because autoInstallOnAppQuit is set to false.");return}if(t!==0){this._logger.info("Update will be not installed on quit because application is quitting with exit code ".concat(t));return}this._logger.info("Auto install update on quit"),this.install(!0,!1)}))}wrapSudo(){let{name:t}=this.app,r='"'.concat(t,' would like to update"'),n=this.spawnSyncLog("which gksudo || which kdesudo || which pkexec || which beesu"),i=[n];return/kdesudo/i.test(n)?(i.push("--comment",r),i.push("-c")):/gksudo/i.test(n)?i.push("--message",r):/pkexec/i.test(n)&&i.push("--disable-internal-agent"),i.join(" ")}spawnSyncLog(t,r=[],n={}){this._logger.info("Executing: ".concat(t," with args: ").concat(r));let i=(0,cw.spawnSync)(t,r,{env:{...process.env,...n},encoding:"utf-8",shell:!0}),{error:s,status:o,stdout:a,stderr:l}=i;if(s!=null)throw this._logger.error(l),s;if(o!=null&&o!==0)throw this._logger.error(l),new Error("Command ".concat(t," exited with code ").concat(o));return a.trim()}async spawnLog(t,r=[],n=void 0,i="ignore"){return this._logger.info("Executing: ".concat(t," with args: ").concat(r)),new Promise((s,o)=>{try{let a={stdio:i,env:n,detached:!0},l=(0,cw.spawn)(t,r,a);l.on("error",c=>{o(c)}),l.unref(),l.pid!==void 0&&s(!0)}catch(a){o(a)}})}};$o.BaseUpdater=Eu});var bu=y(Bo=>{"use strict";Object.defineProperty(Bo,"__esModule",{value:!0});Bo.FileWithEmbeddedBlockMapDifferentialDownloader=void 0;var hn=dt(),IL=pu(),PL=require("zlib"),vu=class extends IL.DifferentialDownloader{async download(){let t=this.blockAwareFileInfo,r=t.size,n=r-(t.blockMapSize+4);this.fileMetadataBuffer=await this.readRemoteBytes(n,r-1);let i=uw(this.fileMetadataBuffer.slice(0,this.fileMetadataBuffer.length-4));await this.doDownload(await DL(this.options.oldFile),i)}};Bo.FileWithEmbeddedBlockMapDifferentialDownloader=vu;function uw(e){return JSON.parse((0,PL.inflateRawSync)(e).toString())}async function DL(e){let t=await(0,hn.open)(e,"r");try{let r=(await(0,hn.fstat)(t)).size,n=Buffer.allocUnsafe(4);await(0,hn.read)(t,n,0,n.length,r-n.length);let i=Buffer.allocUnsafe(n.readUInt32BE(0));return await(0,hn.read)(t,i,0,i.length,r-n.length-i.length),await(0,hn.close)(t),uw(i)}catch(r){throw await(0,hn.close)(t),r}}});var _u=y(jo=>{"use strict";Object.defineProperty(jo,"__esModule",{value:!0});jo.AppImageUpdater=void 0;var fw=ye(),dw=require("child_process"),qL=dt(),LL=require("fs"),_i=require("path"),xL=vr(),RL=bu(),kL=Ge(),hw=$t(),Su=class extends xL.BaseUpdater{constructor(t,r){super(t,r)}isUpdaterActive(){return process.env.APPIMAGE==null?(process.env.SNAP==null?this._logger.warn("APPIMAGE env is not defined, current application is not an AppImage"):this._logger.info("SNAP env is defined, updater is disabled"),!1):super.isUpdaterActive()}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,kL.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"AppImage",["rpm","deb","pacman"]);return this.executeDownload({fileExtension:"AppImage",fileInfo:n,downloadUpdateOptions:t,task:async(i,s)=>{let o=process.env.APPIMAGE;if(o==null)throw(0,fw.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(t.disableDifferentialDownload||await this.downloadDifferential(n,o,i,r,t))&&await this.httpExecutor.download(n.url,i,s),await(0,qL.chmod)(i,493)}})}async downloadDifferential(t,r,n,i,s){try{let o={newUrl:t.url,oldFile:r,logger:this._logger,newFile:n,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,requestHeaders:s.requestHeaders,cancellationToken:s.cancellationToken};return this.listenerCount(hw.DOWNLOAD_PROGRESS)>0&&(o.onProgress=a=>this.emit(hw.DOWNLOAD_PROGRESS,a)),await new RL.FileWithEmbeddedBlockMapDifferentialDownloader(t.info,this.httpExecutor,o).download(),!1}catch(o){return this._logger.error("Cannot download differentially, fallback to full download: ".concat(o.stack||o)),process.platform==="linux"}}doInstall(t){let r=process.env.APPIMAGE;if(r==null)throw(0,fw.newError)("APPIMAGE env is not defined","ERR_UPDATER_OLD_FILE_NOT_FOUND");(0,LL.unlinkSync)(r);let n,i=_i.basename(r),s=this.installerPath;if(s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;_i.basename(s)===i||!/\d+\.\d+\.\d+/.test(i)?n=r:n=_i.join(_i.dirname(r),_i.basename(s)),(0,dw.execFileSync)("mv",["-f",s,n]),n!==r&&this.emit("appimage-filename-updated",n);let o={...process.env,APPIMAGE_SILENT_INSTALL:"true"};return t.isForceRunAfter?this.spawnLog(n,[],o):(o.APPIMAGE_EXIT_AFTER_INSTALL="true",(0,dw.execFileSync)(n,[],{env:o})),!0}};jo.AppImageUpdater=Su});var Tu=y(Ho=>{"use strict";Object.defineProperty(Ho,"__esModule",{value:!0});Ho.DebUpdater=void 0;var FL=vr(),UL=Ge(),pw=$t(),Cu=class extends FL.BaseUpdater{constructor(t,r){super(t,r)}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,UL.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"deb",["AppImage","rpm","pacman"]);return this.executeDownload({fileExtension:"deb",fileInfo:n,downloadUpdateOptions:t,task:async(i,s)=>{this.listenerCount(pw.DOWNLOAD_PROGRESS)>0&&(s.onProgress=o=>this.emit(pw.DOWNLOAD_PROGRESS,o)),await this.httpExecutor.download(n.url,i,s)}})}get installerPath(){var t,r;return(r=(t=super.installerPath)===null||t===void 0?void 0:t.replace(/ /g,"\\ "))!==null&&r!==void 0?r:null}doInstall(t){let r=this.wrapSudo(),n=/pkexec/i.test(r)?"":'"',i=this.installerPath;if(i==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let s=["dpkg","-i",i,"||","apt-get","install","-f","-y"];return this.spawnSyncLog(r,["".concat(n,"/bin/bash"),"-c","'".concat(s.join(" "),"'").concat(n)]),t.isForceRunAfter&&this.app.relaunch(),!0}};Ho.DebUpdater=Cu});var Ou=y(Vo=>{"use strict";Object.defineProperty(Vo,"__esModule",{value:!0});Vo.PacmanUpdater=void 0;var ML=vr(),mw=$t(),$L=Ge(),Nu=class extends ML.BaseUpdater{constructor(t,r){super(t,r)}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,$L.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"pacman",["AppImage","deb","rpm"]);return this.executeDownload({fileExtension:"pacman",fileInfo:n,downloadUpdateOptions:t,task:async(i,s)=>{this.listenerCount(mw.DOWNLOAD_PROGRESS)>0&&(s.onProgress=o=>this.emit(mw.DOWNLOAD_PROGRESS,o)),await this.httpExecutor.download(n.url,i,s)}})}get installerPath(){var t,r;return(r=(t=super.installerPath)===null||t===void 0?void 0:t.replace(/ /g,"\\ "))!==null&&r!==void 0?r:null}doInstall(t){let r=this.wrapSudo(),n=/pkexec/i.test(r)?"":'"',i=this.installerPath;if(i==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let s=["pacman","-U","--noconfirm",i];return this.spawnSyncLog(r,["".concat(n,"/bin/bash"),"-c","'".concat(s.join(" "),"'").concat(n)]),t.isForceRunAfter&&this.app.relaunch(),!0}};Vo.PacmanUpdater=Nu});var Pu=y(Go=>{"use strict";Object.defineProperty(Go,"__esModule",{value:!0});Go.RpmUpdater=void 0;var BL=vr(),gw=$t(),jL=Ge(),Iu=class extends BL.BaseUpdater{constructor(t,r){super(t,r)}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,jL.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"rpm",["AppImage","deb","pacman"]);return this.executeDownload({fileExtension:"rpm",fileInfo:n,downloadUpdateOptions:t,task:async(i,s)=>{this.listenerCount(gw.DOWNLOAD_PROGRESS)>0&&(s.onProgress=o=>this.emit(gw.DOWNLOAD_PROGRESS,o)),await this.httpExecutor.download(n.url,i,s)}})}get installerPath(){var t,r;return(r=(t=super.installerPath)===null||t===void 0?void 0:t.replace(/ /g,"\\ "))!==null&&r!==void 0?r:null}doInstall(t){let r=this.wrapSudo(),n=/pkexec/i.test(r)?"":'"',i=this.spawnSyncLog("which zypper"),s=this.installerPath;if(s==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let o;return i?o=[i,"--no-refresh","install","--allow-unsigned-rpm","-y","-f",s]:o=[this.spawnSyncLog("which dnf || which yum"),"-y","install",s],this.spawnSyncLog(r,["".concat(n,"/bin/bash"),"-c","'".concat(o.join(" "),"'").concat(n)]),t.isForceRunAfter&&this.app.relaunch(),!0}};Go.RpmUpdater=Iu});var Lu=y(Wo=>{"use strict";Object.defineProperty(Wo,"__esModule",{value:!0});Wo.MacUpdater=void 0;var yw=ye(),Du=dt(),HL=require("fs"),Aw=require("path"),VL=require("http"),GL=Mo(),WL=Ge(),ww=require("child_process"),Ew=require("crypto"),qu=class extends GL.AppUpdater{constructor(t,r){super(t,r),this.nativeUpdater=require("electron").autoUpdater,this.squirrelDownloadedUpdate=!1,this.nativeUpdater.on("error",n=>{this._logger.warn(n),this.emit("error",n)}),this.nativeUpdater.on("update-downloaded",()=>{this.squirrelDownloadedUpdate=!0,this.debug("nativeUpdater.update-downloaded")})}debug(t){this._logger.debug!=null&&this._logger.debug(t)}closeServerIfExists(){this.server&&(this.debug("Closing proxy server"),this.server.close(t=>{t&&this.debug("proxy server wasn't already open, probably attempted closing again as a safety check before quit")}))}async doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider.resolveFiles(t.updateInfoAndProvider.info),n=this._logger,i="sysctl.proc_translated",s=!1;try{this.debug("Checking for macOS Rosetta environment"),s=(0,ww.execFileSync)("sysctl",[i],{encoding:"utf8"}).includes("".concat(i,": 1")),n.info("Checked for macOS Rosetta environment (isRosetta=".concat(s,")"))}catch(u){n.warn("sysctl shell command to check for macOS Rosetta environment failed: ".concat(u))}let o=!1;try{this.debug("Checking for arm64 in uname");let d=(0,ww.execFileSync)("uname",["-a"],{encoding:"utf8"}).includes("ARM");n.info("Checked 'uname -a': arm64=".concat(d)),o=o||d}catch(u){n.warn("uname shell command to check for arm64 failed: ".concat(u))}o=o||process.arch==="arm64"||s;let a=u=>{var d;return u.url.pathname.includes("arm64")||((d=u.info.url)===null||d===void 0?void 0:d.includes("arm64"))};o&&r.some(a)?r=r.filter(u=>o===a(u)):r=r.filter(u=>!a(u));let l=(0,WL.findFile)(r,"zip",["pkg","dmg"]);if(l==null)throw(0,yw.newError)("ZIP file not provided: ".concat((0,yw.safeStringifyJson)(r)),"ERR_UPDATER_ZIP_FILE_NOT_FOUND");let c=t.updateInfoAndProvider.provider,f="update.zip";return this.executeDownload({fileExtension:"zip",fileInfo:l,downloadUpdateOptions:t,task:async(u,d)=>{let p=Aw.join(this.downloadedUpdateHelper.cacheDir,f),w=()=>(0,Du.pathExistsSync)(p)?!t.disableDifferentialDownload:(n.info("Unable to locate previous update.zip for differential download (is this first install?), falling back to full download"),!1),g=!0;w()&&(g=await this.differentialDownloadInstaller(l,t,u,c,f)),g&&await this.httpExecutor.download(l.url,u,d)},done:async u=>{if(!t.disableDifferentialDownload)try{let d=Aw.join(this.downloadedUpdateHelper.cacheDir,f);await(0,Du.copyFile)(u.downloadedFile,d)}catch(d){this._logger.warn("Unable to copy file for caching for future differential downloads: ".concat(d.message))}return this.updateDownloaded(l,u)}})}async updateDownloaded(t,r){var n;let i=r.downloadedFile,s=(n=t.info.size)!==null&&n!==void 0?n:(await(0,Du.stat)(i)).size,o=this._logger,a="fileToProxy=".concat(t.url.href);this.closeServerIfExists(),this.debug("Creating proxy server for native Squirrel.Mac (".concat(a,")")),this.server=(0,VL.createServer)(),this.debug("Proxy server for native Squirrel.Mac is created (".concat(a,")")),this.server.on("close",()=>{o.info("Proxy server for native Squirrel.Mac is closed (".concat(a,")"))});let l=c=>{let f=c.address();return typeof f=="string"?f:"http://127.0.0.1:".concat(f?.port)};return await new Promise((c,f)=>{let u=(0,Ew.randomBytes)(64).toString("base64").replace(/\//g,"_").replace(/\+/g,"-"),d=Buffer.from("autoupdater:".concat(u),"ascii"),p="/".concat((0,Ew.randomBytes)(64).toString("hex"),".zip");this.server.on("request",(w,g)=>{let E=w.url;if(o.info("".concat(E," requested")),E==="/"){if(!w.headers.authorization||w.headers.authorization.indexOf("Basic ")===-1){g.statusCode=401,g.statusMessage="Invalid Authentication Credentials",g.end(),o.warn("No authenthication info");return}let C=w.headers.authorization.split(" ")[1],N=Buffer.from(C,"base64").toString("ascii"),[R,I]=N.split(":");if(R!=="autoupdater"||I!==u){g.statusCode=401,g.statusMessage="Invalid Authentication Credentials",g.end(),o.warn("Invalid authenthication credentials");return}let M=Buffer.from('{ "url": "'.concat(l(this.server)).concat(p,'" }'));g.writeHead(200,{"Content-Type":"application/json","Content-Length":M.length}),g.end(M);return}if(!E.startsWith(p)){o.warn("".concat(E," requested, but not supported")),g.writeHead(404),g.end();return}o.info("".concat(p," requested by Squirrel.Mac, pipe ").concat(i));let S=!1;g.on("finish",()=>{S||(this.nativeUpdater.removeListener("error",f),c([]))});let b=(0,HL.createReadStream)(i);b.on("error",C=>{try{g.end()}catch(N){o.warn("cannot end response: ".concat(N))}S=!0,this.nativeUpdater.removeListener("error",f),f(new Error('Cannot pipe "'.concat(i,'": ').concat(C)))}),g.writeHead(200,{"Content-Type":"application/zip","Content-Length":s}),b.pipe(g)}),this.debug("Proxy server for native Squirrel.Mac is starting to listen (".concat(a,")")),this.server.listen(0,"127.0.0.1",()=>{this.debug("Proxy server for native Squirrel.Mac is listening (address=".concat(l(this.server),", ").concat(a,")")),this.nativeUpdater.setFeedURL({url:l(this.server),headers:{"Cache-Control":"no-cache",Authorization:"Basic ".concat(d.toString("base64"))}}),this.dispatchUpdateDownloaded(r),this.autoInstallOnAppQuit?(this.nativeUpdater.once("error",f),this.nativeUpdater.checkForUpdates()):c([])})})}handleUpdateDownloaded(){this.autoRunAppAfterInstall?this.nativeUpdater.quitAndInstall():this.app.quit(),this.closeServerIfExists()}quitAndInstall(){this.squirrelDownloadedUpdate?this.handleUpdateDownloaded():(this.nativeUpdater.on("update-downloaded",()=>this.handleUpdateDownloaded()),this.autoInstallOnAppQuit||this.nativeUpdater.checkForUpdates())}};Wo.MacUpdater=qu});var _w=y(Ru=>{"use strict";Object.defineProperty(Ru,"__esModule",{value:!0});Ru.verifySignature=KL;var vw=ye(),Sw=require("child_process"),YL=require("os"),bw=require("path");function KL(e,t,r){return new Promise((n,i)=>{let s=t.replace(/'/g,"''");r.info("Verifying signature ".concat(s)),(0,Sw.execFile)('set "PSModulePath=" & chcp 65001 >NUL & powershell.exe',["-NoProfile","-NonInteractive","-InputFormat","None","-Command","\"Get-AuthenticodeSignature -LiteralPath '".concat(s,"' | ConvertTo-Json -Compress\"")],{shell:!0,timeout:20*1e3},(o,a,l)=>{var c;try{if(o!=null||l){xu(r,o,l,i),n(null);return}let f=QL(a);if(f.Status===0){try{let w=bw.normalize(f.Path),g=bw.normalize(t);if(r.info("LiteralPath: ".concat(w,". Update Path: ").concat(g)),w!==g){xu(r,new Error("LiteralPath of ".concat(w," is different than ").concat(g)),l,i),n(null);return}}catch(w){r.warn("Unable to verify LiteralPath of update asset due to missing data.Path. Skipping this step of validation. Message: ".concat((c=w.message)!==null&&c!==void 0?c:w.stack))}let d=(0,vw.parseDn)(f.SignerCertificate.Subject),p=!1;for(let w of e){let g=(0,vw.parseDn)(w);if(g.size?p=Array.from(g.keys()).every(S=>g.get(S)===d.get(S)):w===d.get("CN")&&(r.warn("Signature validated using only CN ".concat(w,". Please add your full Distinguished Name (DN) to publisherNames configuration")),p=!0),p){n(null);return}}}let u="publisherNames: ".concat(e.join(" | "),", raw info: ")+JSON.stringify(f,(d,p)=>d==="RawData"?void 0:p,2);r.warn("Sign verification failed, installer signed with incorrect certificate: ".concat(u)),n(u)}catch(f){xu(r,f,null,i),n(null);return}})})}function QL(e){let t=JSON.parse(e);delete t.PrivateKey,delete t.IsOSBinary,delete t.SignatureType;let r=t.SignerCertificate;return r!=null&&(delete r.Archived,delete r.Extensions,delete r.Handle,delete r.HasPrivateKey,delete r.SubjectName),t}function xu(e,t,r,n){if(zL()){e.warn("Cannot execute Get-AuthenticodeSignature: ".concat(t||r,". Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher."));return}try{(0,Sw.execFileSync)("powershell.exe",["-NoProfile","-NonInteractive","-Command","ConvertTo-Json test"],{timeout:10*1e3})}catch(i){e.warn("Cannot execute ConvertTo-Json: ".concat(i.message,". Ignoring signature validation due to unsupported powershell version. Please upgrade to powershell 3 or higher."));return}t!=null&&n(t),r&&n(new Error("Cannot execute Get-AuthenticodeSignature, stderr: ".concat(r,". Failing signature validation due to unknown stderr.")))}function zL(){let e=YL.release();return e.startsWith("6.")&&!e.startsWith("6.3")}});var Fu=y(Ko=>{"use strict";Object.defineProperty(Ko,"__esModule",{value:!0});Ko.NsisUpdater=void 0;var Yo=ye(),Cw=require("path"),XL=vr(),JL=bu(),Tw=$t(),ZL=Ge(),ex=dt(),tx=_w(),Nw=require("url"),ku=class extends XL.BaseUpdater{constructor(t,r){super(t,r),this._verifyUpdateCodeSignature=(n,i)=>(0,tx.verifySignature)(n,i,this._logger)}get verifyUpdateCodeSignature(){return this._verifyUpdateCodeSignature}set verifyUpdateCodeSignature(t){t&&(this._verifyUpdateCodeSignature=t)}doDownloadUpdate(t){let r=t.updateInfoAndProvider.provider,n=(0,ZL.findFile)(r.resolveFiles(t.updateInfoAndProvider.info),"exe");return this.executeDownload({fileExtension:"exe",downloadUpdateOptions:t,fileInfo:n,task:async(i,s,o,a)=>{let l=n.packageInfo,c=l!=null&&o!=null;if(c&&t.disableWebInstaller)throw(0,Yo.newError)("Unable to download new version ".concat(t.updateInfoAndProvider.info.version,". Web Installers are disabled"),"ERR_UPDATER_WEB_INSTALLER_DISABLED");!c&&!t.disableWebInstaller&&this._logger.warn("disableWebInstaller is set to false, you should set it to true if you do not plan on using a web installer. This will default to true in a future version."),(c||t.disableDifferentialDownload||await this.differentialDownloadInstaller(n,t,i,r,Yo.CURRENT_APP_INSTALLER_FILE_NAME))&&await this.httpExecutor.download(n.url,i,s);let f=await this.verifySignature(i);if(f!=null)throw await a(),(0,Yo.newError)("New version ".concat(t.updateInfoAndProvider.info.version," is not signed by the application owner: ").concat(f),"ERR_UPDATER_INVALID_SIGNATURE");if(c&&await this.differentialDownloadWebPackage(t,l,o,r))try{await this.httpExecutor.download(new Nw.URL(l.path),o,{headers:t.requestHeaders,cancellationToken:t.cancellationToken,sha512:l.sha512})}catch(u){try{await(0,ex.unlink)(o)}catch{}throw u}}})}async verifySignature(t){let r;try{if(r=(await this.configOnDisk.value).publisherName,r==null)return null}catch(n){if(n.code==="ENOENT")return null;throw n}return await this._verifyUpdateCodeSignature(Array.isArray(r)?r:[r],t)}doInstall(t){let r=this.installerPath;if(r==null)return this.dispatchError(new Error("No valid update available, can't quit and install")),!1;let n=["--updated"];t.isSilent&&n.push("/S"),t.isForceRunAfter&&n.push("--force-run"),this.installDirectory&&n.push("/D=".concat(this.installDirectory));let i=this.downloadedUpdateHelper==null?null:this.downloadedUpdateHelper.packageFile;i!=null&&n.push("--package-file=".concat(i));let s=()=>{this.spawnLog(Cw.join(process.resourcesPath,"elevate.exe"),[r].concat(n)).catch(o=>this.dispatchError(o))};return t.isAdminRightsRequired?(this._logger.info("isAdminRightsRequired is set to true, run installer using elevate.exe"),s(),!0):(this.spawnLog(r,n).catch(o=>{let a=o.code;this._logger.info("Cannot run installer: error code: ".concat(a,', error message: "').concat(o.message,'", will be executed again using elevate if EACCES, and will try to use electron.shell.openItem if ENOENT')),a==="UNKNOWN"||a==="EACCES"?s():a==="ENOENT"?require("electron").shell.openPath(r).catch(l=>this.dispatchError(l)):this.dispatchError(o)}),!0)}async differentialDownloadWebPackage(t,r,n,i){if(r.blockMapSize==null)return!0;try{let s={newUrl:new Nw.URL(r.path),oldFile:Cw.join(this.downloadedUpdateHelper.cacheDir,Yo.CURRENT_APP_PACKAGE_FILE_NAME),logger:this._logger,newFile:n,requestHeaders:this.requestHeaders,isUseMultipleRangeRequest:i.isUseMultipleRangeRequest,cancellationToken:t.cancellationToken};this.listenerCount(Tw.DOWNLOAD_PROGRESS)>0&&(s.onProgress=o=>this.emit(Tw.DOWNLOAD_PROGRESS,o)),await new JL.FileWithEmbeddedBlockMapDifferentialDownloader(r,this.httpExecutor,s).download()}catch(s){return this._logger.error("Cannot download differentially, fallback to full download: ".concat(s.stack||s)),process.platform==="win32"}return!1}};Ko.NsisUpdater=ku});var Pw=y(X=>{"use strict";var rx=X&&X.__createBinding||(Object.create?(function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}):(function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]})),nx=X&&X.__exportStar||function(e,t){for(var r in e)r!=="default"&&!Object.prototype.hasOwnProperty.call(t,r)&&rx(t,e,r)};Object.defineProperty(X,"__esModule",{value:!0});X.NsisUpdater=X.MacUpdater=X.RpmUpdater=X.PacmanUpdater=X.DebUpdater=X.AppImageUpdater=X.Provider=X.NoOpLogger=X.AppUpdater=X.BaseUpdater=void 0;var Ow=dt(),ix=require("path"),sx=vr();Object.defineProperty(X,"BaseUpdater",{enumerable:!0,get:function(){return sx.BaseUpdater}});var Iw=Mo();Object.defineProperty(X,"AppUpdater",{enumerable:!0,get:function(){return Iw.AppUpdater}});Object.defineProperty(X,"NoOpLogger",{enumerable:!0,get:function(){return Iw.NoOpLogger}});var ox=Ge();Object.defineProperty(X,"Provider",{enumerable:!0,get:function(){return ox.Provider}});var ax=_u();Object.defineProperty(X,"AppImageUpdater",{enumerable:!0,get:function(){return ax.AppImageUpdater}});var lx=Tu();Object.defineProperty(X,"DebUpdater",{enumerable:!0,get:function(){return lx.DebUpdater}});var cx=Ou();Object.defineProperty(X,"PacmanUpdater",{enumerable:!0,get:function(){return cx.PacmanUpdater}});var ux=Pu();Object.defineProperty(X,"RpmUpdater",{enumerable:!0,get:function(){return ux.RpmUpdater}});var fx=Lu();Object.defineProperty(X,"MacUpdater",{enumerable:!0,get:function(){return fx.MacUpdater}});var dx=Fu();Object.defineProperty(X,"NsisUpdater",{enumerable:!0,get:function(){return dx.NsisUpdater}});nx($t(),X);var yt;function hx(){if(process.platform==="win32")yt=new(Fu()).NsisUpdater;else if(process.platform==="darwin")yt=new(Lu()).MacUpdater;else{yt=new(_u()).AppImageUpdater;try{let e=ix.join(process.resourcesPath,"package-type");if(!(0,Ow.existsSync)(e))return yt;console.info("Checking for beta autoupdate feature for deb/rpm distributions");let t=(0,Ow.readFileSync)(e).toString().trim();switch(console.info("Found package-type:",t),t){case"deb":yt=new(Tu()).DebUpdater;break;case"rpm":yt=new(Pu()).RpmUpdater;break;case"pacman":yt=new(Ou()).PacmanUpdater;break;default:break}}catch(e){console.warn("Unable to detect 'package-type' for autoUpdater (beta rpm/deb support). If you'd like to expand support, please consider contributing to electron-builder",e.message)}}return yt}Object.defineProperty(X,"autoUpdater",{enumerable:!0,get:()=>yt||hx()})});var kw=y((KB,Rw)=>{var L={child:require("child_process"),crypto:require("crypto"),fs:require("fs"),os:require("os"),path:require("path"),process,util:require("util")};function px(e,t){var r=L.process.platform;if(r==="darwin")return Ax(e,t);if(r==="linux")return gx(e,t);if(r==="win32")return Cx(e,t);t(new Error("Platform not yet supported."))}function Je(e){if(typeof e!="string")throw new Error("Expected a string.");return e.replace(/"/g,'\\"')}function mx(){if(arguments.length<1||arguments.length>3)throw new Error("Wrong number of arguments.");var e=arguments[0],t={},r=function(){};if(typeof e!="string")throw new Error("Command should be a string.");if(arguments.length===2)if(L.util.isObject(arguments[1]))t=arguments[1];else if(L.util.isFunction(arguments[1]))r=arguments[1];else throw new Error("Expected options or callback.");else if(arguments.length===3){if(L.util.isObject(arguments[1]))t=arguments[1];else throw new Error("Expected options to be an object.");if(L.util.isFunction(arguments[2]))r=arguments[2];else throw new Error("Expected callback to be a function.")}if(/^sudo/i.test(e))return r(new Error('Command should not be prefixed with "sudo".'));if(typeof t.name>"u"){var n=L.process.title;if(Dw(n))t.name=n;else return r(new Error("process.title cannot be used as a valid name."))}else if(!Dw(t.name)){var i="";return i+="options.name must be alphanumeric only ",i+="(spaces are allowed) and <= 70 characters.",r(new Error(i))}if(typeof t.icns<"u"){if(typeof t.icns!="string")return r(new Error("options.icns must be a string if provided."));if(t.icns.trim().length===0)return r(new Error("options.icns must not be empty if provided."))}if(typeof t.env<"u"){if(typeof t.env!="object")return r(new Error("options.env must be an object if provided."));if(Object.keys(t.env).length===0)return r(new Error("options.env must not be empty if provided."));for(var s in t.env){var o=t.env[s];if(typeof s!="string"||typeof o!="string")return r(new Error("options.env environment variables must be strings."));if(!/^[a-zA-Z_][a-zA-Z0-9_]*$/.test(s))return r(new Error("options.env has an invalid environment variable name: "+JSON.stringify(s)));if(/[\r\n]/.test(o))return r(new Error("options.env has an invalid environment variable value: "+JSON.stringify(o)))}}var a=L.process.platform;if(a!=="darwin"&&a!=="linux"&&a!=="win32")return r(new Error("Platform not yet supported."));var l={command:e,options:t,uuid:void 0,path:void 0};px(l,r)}function gx(e,t){yx(e,function(r,n){if(r)return t(r);var i=[];i.push('cd "'+Je(L.process.cwd())+'";');for(var s in e.options.env){var o=e.options.env[s];i.push("export "+s+'="'+Je(o)+'";')}i.push('"'+Je(n)+'"'),/kdesudo/i.test(n)?(i.push("--comment",'"'+e.options.name+' wants to make changes. Enter your password to allow this."'),i.push("-d"),i.push("--")):/pkexec/i.test(n)&&i.push("--disable-internal-agent");var a="SUDOPROMPT\n";i.push('/bin/bash -c "echo '+Je(a.trim())+"; "+Je(e.command)+'"'),i=i.join(" "),L.child.exec(i,{encoding:"utf-8",maxBuffer:qx},function(l,c,f){var u=c&&c.slice(0,a.length)===a;u&&(c=c.slice(a.length)),l&&!u&&(/No authentication agent found/.test(f)?l.message=Dx:l.message=Qo),t(l,c,f)})})}function yx(e,t){var r=0,n=["/usr/bin/kdesudo","/usr/bin/pkexec"];function i(){if(r===n.length)return t(new Error("Unable to find pkexec or kdesudo."));var s=n[r++];L.fs.stat(s,function(o){if(o){if(o.code==="ENOTDIR"||o.code==="ENOENT")return i();t(o)}else t(void 0,s)})}i()}function Ax(e,t){var r=L.os.tmpdir();if(!r)return t(new Error("os.tmpdir() not defined."));var n=L.process.env.USER;if(!n)return t(new Error("env['USER'] not defined."));Lw(e,function(i,s){if(i)return t(i);e.uuid=s,e.path=L.path.join(r,e.uuid,e.options.name+".app");function o(a,l,c){qw(L.path.dirname(e.path),function(f){if(a)return t(a);if(f)return t(f);t(void 0,l,c)})}wx(e,function(a,l,c){if(a)return o(a,l,c);vx(e,function(f){if(f)return o(f);Sx(e,function(u,d,p){if(u)return o(u,d,p);Ex(e,function(w){if(w)return o(w);bx(e,function(g,E,S){if(g)return o(g,E,S);_x(e,o)})})})})})})}function wx(e,t){var r=L.path.dirname(e.path);L.fs.mkdir(r,function(n){if(n)return t(n);var i=L.path.join(r,"sudo-prompt-applet.zip");L.fs.writeFile(i,Px,"base64",function(s){if(s)return t(s);var o=[];o.push("/usr/bin/unzip"),o.push("-o"),o.push('"'+Je(i)+'"'),o.push('-d "'+Je(e.path)+'"'),o=o.join(" "),L.child.exec(o,{encoding:"utf-8"},t)})})}function Ex(e,t){var r=L.path.join(e.path,"Contents","MacOS","sudo-prompt-command"),n=[];n.push('cd "'+Je(L.process.cwd())+'"');for(var i in e.options.env){var s=e.options.env[i];n.push("export "+i+'="'+Je(s)+'"')}n.push(e.command),n=n.join("\n"),L.fs.writeFile(r,n,"utf-8",t)}function vx(e,t){if(!e.options.icns)return t();L.fs.readFile(e.options.icns,function(r,n){if(r)return t(r);var i=L.path.join(e.path,"Contents","Resources","applet.icns");L.fs.writeFile(i,n,t)})}function bx(e,t){var r=L.path.join(e.path,"Contents","MacOS","applet"),n={cwd:L.path.dirname(r),encoding:"utf-8"};L.child.exec("./"+L.path.basename(r),n,t)}function Sx(e,t){var r=L.path.join(e.path,"Contents","Info.plist"),n=Je(r),i=Je("CFBundleName"),s=e.options.name+" Password Prompt";if(/'/.test(s))return t(new Error("Value should not contain single quotes."));var o=[];o.push("/usr/bin/defaults"),o.push("write"),o.push('"'+n+'"'),o.push('"'+i+'"'),o.push("'"+s+"'"),o=o.join(" "),L.child.exec(o,{encoding:"utf-8"},t)}function _x(e,t){var r=L.path.join(e.path,"Contents","MacOS");L.fs.readFile(L.path.join(r,"code"),"utf-8",function(n,i){if(n){if(n.code==="ENOENT")return t(new Error(Qo));t(n)}else L.fs.readFile(L.path.join(r,"stdout"),"utf-8",function(s,o){if(s)return t(s);L.fs.readFile(L.path.join(r,"stderr"),"utf-8",function(a,l){if(a)return t(a);i=parseInt(i.trim(),10),i===0?t(void 0,o,l):(a=new Error("Command failed: "+e.command+"\n"+l),a.code=i,t(a,o,l))})})})}function qw(e,t){if(typeof e!="string"||!e.trim())return t(new Error("Argument path not defined."));var r=[];if(L.process.platform==="win32"){if(/"/.test(e))return t(new Error("Argument path cannot contain double-quotes."));r.push('rmdir /s /q "'+e+'"')}else r.push("/bin/rm"),r.push("-rf"),r.push('"'+Je(L.path.normalize(e))+'"');r=r.join(" "),L.child.exec(r,{encoding:"utf-8"},t)}function Lw(e,t){L.crypto.randomBytes(256,function(r,n){r&&(n=Date.now()+""+Math.random());var i=L.crypto.createHash("SHA256");i.update("sudo-prompt-3"),i.update(e.options.name),i.update(e.command),i.update(n);var s=i.digest("hex").slice(-32);if(!s||typeof s!="string"||s.length!==32)return t(new Error("Expected a valid UUID."));t(void 0,s)})}function Dw(e){return!(!/^[a-z0-9 ]+$/i.test(e)||e.trim().length===0||e.length>70)}function Cx(e,t){var r=L.os.tmpdir();if(!r)return t(new Error("os.tmpdir() not defined."));Lw(e,function(n,i){if(n)return t(n);if(e.uuid=i,e.path=L.path.join(r,e.uuid),/"/.test(e.path))return t(new Error("instance.path cannot contain double-quotes."));e.pathElevate=L.path.join(e.path,"elevate.vbs"),e.pathExecute=L.path.join(e.path,"execute.bat"),e.pathCommand=L.path.join(e.path,"command.bat"),e.pathStdout=L.path.join(e.path,"stdout"),e.pathStderr=L.path.join(e.path,"stderr"),e.pathStatus=L.path.join(e.path,"status"),L.fs.mkdir(e.path,function(s){if(s)return t(s);function o(a,l,c){qw(e.path,function(f){if(a)return t(a);if(f)return t(f);t(void 0,l,c)})}Ix(e,function(a){if(a)return o(a);Ox(e,function(l){if(l)return o(l);Tx(e,function(c,f,u){if(c)return o(c,f,u);xw(e,function(d){if(d)return o(d);Nx(e,o)})})})})})})}function Tx(e,t){var r=[];r.push("powershell.exe"),r.push("Start-Process"),r.push("-FilePath"),r.push("\"'"+e.pathExecute.replace(/'/g,"`'")+"'\""),r.push("-WindowStyle hidden"),r.push("-Verb runAs"),r=r.join(" ");var n=L.child.exec(r,{encoding:"utf-8"},function(i,s,o){if(i)return t(new Error(Qo),s,o);t()});n.stdin.end()}function Nx(e,t){L.fs.readFile(e.pathStatus,"utf-8",function(r,n){if(r)return t(r);L.fs.readFile(e.pathStdout,"utf-8",function(i,s){if(i)return t(i);L.fs.readFile(e.pathStderr,"utf-8",function(o,a){if(o)return t(o);n=parseInt(n.trim(),10),n===0?t(void 0,s,a):(o=new Error("Command failed: "+e.command+"\r\n"+a),o.code=n,t(o,s,a))})})})}function xw(e,t){L.fs.stat(e.pathStatus,function(r,n){r&&r.code==="ENOENT"||n.size<2?setTimeout(function(){L.fs.stat(e.pathStdout,function(i){if(i)return t(new Error(Qo));xw(e,t)})},1e3):r?t(r):t()})}function Ox(e,t){var r=L.process.cwd();if(/"/.test(r))return t(new Error("process.cwd() cannot contain double-quotes."));var n=[];n.push("@echo off"),n.push("chcp 65001>nul"),n.push('cd /d "'+r+'"');for(var i in e.options.env){var s=e.options.env[i];n.push("set "+i+"="+s.replace(/([<>\\|&^])/g,"^$1"))}n.push(e.command),n=n.join("\r\n"),L.fs.writeFile(e.pathCommand,n,"utf-8",t)}function Ix(e,t){var r=[];r.push("@echo off"),r.push('call "'+e.pathCommand+'" > "'+e.pathStdout+'" 2> "'+e.pathStderr+'"'),r.push('(echo %ERRORLEVEL%) > "'+e.pathStatus+'"'),r=r.join("\r\n"),L.fs.writeFile(e.pathExecute,r,"utf-8",t)}Rw.exports.exec=mx;var Px="UEsDBAoAAAAAAO1YcEcAAAAAAAAAAAAAAAAJABwAQ29udGVudHMvVVQJAAPNnElWLZEQV3V4CwABBPUBAAAEFAAAAFBLAwQUAAAACACgeXBHlHaGqKEBAAC+AwAAEwAcAENvbnRlbnRzL0luZm8ucGxpc3RVVAkAA1zWSVYtkRBXdXgLAAEE9QEAAAQUAAAAfZNRb5swFIWfl1/BeA9OpSmqJkqVBCJFop1VyKQ9Ta59S6wa27NNCfv1M0naJWTsEXO+c8+9vo7v97UI3sBYruRdeBPNwgAkVYzL6i7cluvpbXifTOLP6bdV+QNngRbcugBvl/lmFYRThBZaC0AoLdMA55uiDLwHQtljGIQ75/RXhNq2jUiviqiqe6FF2CgNxnW5N5t6IGKOhb7M0f0ijj9lnLpk8il+hS5ZrZeNZAIWQqj2ge+B5YoSwX8T5xEbo17ktc40gIZQCm8glK5BuieovP5Dbp3xHSeZrHyCXYxO3wM+2wNtHHkWMAQP/bkxbkOVXPMxKuK0Dz6CMh+Wv3AwQ9gPM7INU1NtVK3Ha8sXlfoB+m6J6b4fRzv0mkezMf6R1Fe5MbG2VYYF+L+lMaGvpIKy01cOC4zzMazYKeNOQYuDYkjfjMcteCWJa8w/Zi2ugubFA5e8buqisw7qU81ltzB0xx3QC5/TFh7J/e385/zL+7+/wWbR/LwIOl/dvHiCXw03YFfEPJ9dwsWu5sV2kwnod3QoeLeL0eGdJJM/UEsDBAoAAAAAAHSBjkgAAAAAAAAAAAAAAAAPABwAQ29udGVudHMvTWFjT1MvVVQJAAMbpQ9XLZEQV3V4CwABBPUBAAAEFAAAAFBLAwQUAAAACABVHBdH7Dk4KTIIAADIYQAAFQAcAENvbnRlbnRzL01hY09TL2FwcGxldFVUCQADMiPZVVOlD1d1eAsAAQT1AQAABBQAAADtnG9sHEcVwGfti7M1/rONLNVtXHqpzsipis+pHOSWFOzEm25at3XrJI2ozbK+W/suuds79vaSuCKSpaOIxRy1+NSPRPAhlWj7AVRaQCWpTRz+CEo+RSKCCho4K67kVhUyAeV4b3fWt17fXZqKFgHvp8zO3/dmdmfPmtl5L7+8/uPXGWMNELZCaGRMgmjHIlxaBCibdcoGsewCljGCIAiCIAiCIAiCIP7r+M21d67zjb/zEaAdwr1bGHuWMQH2/2wAgqqODj0kf0F+8nGfoFRbJ8p9U0C5g/KRgwEZqZLGfrfwwJx+LP2kVWkelD9zJ2NfBr1nWt2xrhNisxWZ3Ex6MpNSc1Z+soqOO+5i7JMYt7vj9BC5jiZXBwirCT2V1c0qOgZAxwMYt9cbRyxnmUljusa9mKBjGON2tgG/PlXNGyeSRlxNGlOZKjpeBR0KxsFx+MB7VJy5GB46OOSrCLPKfEjrH3/gFry+4zOpuH8sm+VF5srW6ltVjZQ3HVnL3KRDDLsflMSADpyDyjuR0urp6AAdHRgHdOD9iOs6Ypl0OmPUupeecOW19OsQAmn3tzBy4LFH5OED3jz0MbYouM8D460BOdTXCaEF6tsgLkF8GeJPQBj16Rb4PTf5xl2NH4J8a5Vy1N3F3OcZzefMaCo5GeVTuJ2P4cUf/aH5qbbP73/utpfeevdbLzwfYfy+Q80woGan/1E+ljo/703g77IaOJY479t5rqFLDag9OjaTs/R0dCQ5aWrmTHS/qaX1ExnzWC66L2PqY7p5PBnTc71TXnn0sG7mkhkjFx3a0IL30e/rQxB+EXL68J4BBLe73r298DySk5tlGPtJY1BmOhZTc727PBH2Ke+ZhF35nTyP80oQBEEQBPFRcJTZVwpvrxZWpLmJkN0VKT4q2iORUGFBOPfnBuFX9nhELOG67f1D9pWxpw4XVrrmTklz+ZY5Wfwurm/t3ffi9cE+uM41vYbbj2fP5kNXt9sXiopwVRj6xhPlr160mttfuVi4Fs2vXv2rfc5u7UeZfxQ+y4pPh/JrpyUUBjmrofzmadGXKf0eui7KK/ZwJLQUiuRAe+mLUFQ+tFKUV3npd7AU9ytz8iqIiXYoUnoBsqdxDbXk3CXcRov9lYhoW5EQjBxb4NoSY9iQsvn5+QSuusrduAybL3eHIIIbLqyIS9CHlY3loB8rldVKuLfyOsE1+a6zhUVxYsFp3Amqz8tr7Lz8dza1JF8TmC3/syivYVtcfxcWOycWQDvuLcrdnc61y7mGnWsErgmsXDbK5TKkscnypJvGhsuH3TQ2X37YTaPQ8ucw7W6t1LR2TFfjekqb0SGTiedTOmz0klZSSyWf0U01pqVSufXGmThsjs20OpU3Yrjuxbnu4u+GP8b1LO6PcX2L4Q6+v8Q07u9aQFLy71Ckt54TIfjfNdzfDkMYhTAOIXHXh39vCYIgCIIgCIIgCIL4z3Nm+84/Ci1Nn8b0ryHsgbBX1rbgOXD7LZJzNtrC0/gFqYOn8csQ/GONguQchPXzcvy+9CBzvk84HxkO+tJH3bRz5Fb0pb/nS3/fl/6BL/2aL43faLzz3Wbmju8W5p6pttaoR9THjgyZ0zEeH2eqqmbNzLShpXVIpxOqflKP5S1dTehaXDeZqhvHk2bGYOo+LZXal0lnM4ZuWMPJXFazYgmmPp7VjWF9SsunrPVa1HpMn0lPm2r8hGZO3aea+nQyZ+mmmtNjFp5i4oG0lTChE+eDj2pm8lbSgDFoln4yCRp00zQyEDmZtBZLbGxnanHzgWh092d29e/uv+/f+DIQBEEQBEEQBEEQ/7P81rX/FxoZm/Xs/5UmtP8PO/W3M9fGvKoPAEfYXLQJ1HOpmk+AJx80OOb5m/URGG9z9c378rVs9F15tPXP1dS3wvVtC+Q9/H4DFX21fQcY9zvo9eXrj6++D0Af1zfqy9eyx3f16QnVMayufr+zXN+sL99YRx/O69er+RdIgXkNxJv9DfBTDIxLPa6Zudr6enz5euO6ke9Bj7TRzr0noK+JbczfyA9hgOvr9OX98t57XNFX3ydhlOsL+2T8+oK/ucrvNOCfEHbbXhAqeebLB/0V7oYp7+Pt8PsZWnl1+urRpAn7SUCcYBX/hkth95kd2cFYllX3bxB4+xCrzcCO6v4PbXzo1fwbEM/H4ds/f/nCgZH+8k+j0vNPv7Jlz7qPQ1PFx+FVPoZ76ozj42K87YP9/cT7xuf9UfpSeP0MsJvzp0A8/4g3w+78ef4R+F4QBEEQBPH/w1Gm2FeUwturytwpUSnmJfta4Q3h3J8aFeE9xf7d1ZBSOCcqhftZ/m+YKuG6wV4qaQzdGED0Z2jJ/zpa9ZcegjIF7fkVaIBrt11nJxYOOepXpPPyKjsvvytOLcnvCWxJfh87V+xTa0rx1Kpj0a8UFqWJhXL3fgHt9xXn+rCz7Bop3rkTEkNj5e7bIZ7HNRZb/ku5XE6g58HyZUzdj6mLjh1/Pbt7XMt5dvfvtLl1Fbv7BtbhrtyEPW6V038H1yE88yQTTkqC1LJVnIeaCNe7dr3sEPEe6lCb9LWGfa3efvNG8pe5fF8NeW8g3n7jCI+/xOOEVH19KvF9oudHH2n/YOtYgiAIgiAIgiAIgiA+fm69mx3aO8bYtkHn/xlwDq8nkwaavz9h9swzc+DWwRrm71A5CJVVjeChTtk26Fqwu0fxQjUL+9vqHVV/KC53OUd+bJxVfBkw7/gzCO5pr3dOK/g+WUQDeZlV/A2QRwJ5THjn1/xcd9BfhlT1KbgpVwLn+W2amGr2//8CUEsDBBQAAAAIAAVHj0ga7FYjfQEAAKoCAAAhABwAQ29udGVudHMvTWFjT1Mvc3Vkby1wcm9tcHQtc2NyaXB0VVQJAAOJkBBXipAQV3V4CwABBPUBAAAEFAAAAI1SO08cMRDu91cMHIKGxUB5xSGEUqTlFKWMvPYca+EXnjGXy6/PeNcg0qVay+PvObs5U5OLatI0DxvYIwNVm4BdQGIdMhxSkauJ8K1i7FOjvSdwB2A+/WJnXpEJdEGwjvTk0W6HhTW8WldgzKDedVF2Ug2tLn7svz3DDpTFdxWr93C/u7wbVKWyoDhVM/8XZAOPOXvcm+IyXxGcizeaUca0XJ1D0CfQnlEysE2VwbuII0br4gvdCMF37m9IoC39+oxTO2EpS8oZJdtRS0aIKY5/sCQoyLVEMMki6Ghl0BGN9SeuICkPIctXDHDDSB9oGEQi1yZWUAda8EZnIcR/eIOOVao+9TrbkpYFjLmkkHk0KYSGvdt12/e71cP6Hs2c4OJBemtsYusplVX+GLHQ7DKkQ098/ZF38dLEpRCeNUMlMW90BIseeQkWtuu2qKmIyDHCuqFuo1N11Ud/1Cf6CHb7Sfxld2ATklQoUGEDActfZ5326WU74G/HcDv8BVBLAwQKAAAAAADtWHBHqiAGewgAAAAIAAAAEAAcAENvbnRlbnRzL1BrZ0luZm9VVAkAA82cSVYqkRBXdXgLAAEE9QEAAAQUAAAAQVBQTGFwbHRQSwMECgAAAAAAm3lwRwAAAAAAAAAAAAAAABMAHABDb250ZW50cy9SZXNvdXJjZXMvVVQJAANW1klWLZEQV3V4CwABBPUBAAAEFAAAAFBLAwQUAAAACACAeXBHfrnysfYGAAAf3AAAHgAcAENvbnRlbnRzL1Jlc291cmNlcy9hcHBsZXQuaWNuc1VUCQADH9ZJVnGlD1d1eAsAAQT1AQAABBQAAADt3Xk81Hkcx/Hvb5yVo5bGsVlKbcpRRqFlGZGS5JikRBIdI0OZttMZloqiYwrVjD1UqJaUokTRubG72bZVjqR1VZNjp2XEGo9H+9gt+9h/9tHx8H7N4/fw5MHjYeaPz+P7+P7x/bL9griEPNBm+001J0S+ZbvL/NmKwzWHE0IUHebYuRFCEckjL9v/xSvk2EpCpBXZtrYuDra2Oi4hwSvZgSsIMU9MdPdePcZd1aqQu0p3fDkrcFrs+mPWihMU9y6clp5XEFFdbRrEczCtGtfkL3pWfvBGublJ4ct051kuocYtaaqll/IjdfR+V75vlTdl//AJVZU6elZ5f0S7NO3MaE2xMElhF+TUrHgW2nFYeGTrs/OrhDJN5zMX8ZJVKXrqSUM1Rj03bnf85/pJMXECNdl0D1ctfe/j82imziM2nllSa3t5q8+vP1f38k/k22uN1lmnvfz0b8dGxO+mnh91v7WB2tKdrG3d4vmJaHlTvjGzdMqWcw/9frnCtQpPZK9sMKi/Ey/jzgqIPzBy9/dlf9griI2/u+sjcApozWx6/NXytC+qBTlrhb69fE7J6tgOzpWjFSl8qxihr5dYf/qExoeupY6Ze/j2PfL1azhhZ8fU3eelJY+ylk16UJN6KmOU0M4r+75cZhH/mxNndowNb4wx7TCoN4yvMGu8ySq5l5W5t+xQyYbS/Ome7e0W0sXbC5aktl0LEXNYR9obH7dMT721dbNdT/eFzXNEYSH8GU+bQ5s6YniGcj3fHtgXPbo0Oj4i3d5G1Fjfm/Ng7kgpjQDNxw4RRnu+Vloy5ZE3J6OpwlFBzaxS25He2h3lJuizO70zJPLUYtks14RE5yrD8y2tXa5l5Wqh/NBY06yoiCLF08Nk9A5Ojbs43GmR1Ch/PaZsLf3e6uPRSrIM1ROqGjt80leqfdxYbNn+WV7K7ZKiy/t6r1/3ie46V5432T/Oahs9V7NnVzb9zoq2rFgvPxXrcAMzmvWnGjof/RpdsZThIEpex6DGbd5h6STaOyZXxV/YfW9u4KyllmZ3X15IMHHLSJtVPSOvULCsz2TyPC/WL9kGSme/1L01SSzjfbHnqk+OV7OBmevZeo3DBR7lXT5drT0MkX5PwDd1EQ0ebfkh1zy/L8ydd+VJ4CLuRndNjuwj+vMfU8q2l2l1rGtr8FC2D+fdSGk81eltuTjYSMk++4BMd0DXQo35iXbZndGdcXkGFyeG6b28evF22M2w22HlYSXetGSLW4cfFT00WqvN9bkqCujQ9KzdSt+snr+qmbcme+5Y3cDRn9BDLps+dPVltE9UkPeb6XovineiVUznTznyuZaSn/ZvR8VeRUYLqe3iHFqnU6+7+4LmtfsmaS0MdjIvslFJGG/rn7DPdMGLcx4d6eP2Oz92Y49kWbBUjudU2ijHnc7YIODQxD1aPx8PynVr+cmvJoy2+M5nQa2Kt0dvdPxp73LNU6aTeaktTfHH1L+8Pm/XalZcFcfzYxlhTefuzjRGobLKEqPZh8QKxUXWbU/ERvW78ghvTGTUNd0g9YqbcjUy5h0xVbn3S7SS54SOqKt88UR0qZuxKfxlZfODUm52o2HkGTOLw5dqhevvWjH7ssiqxAhKwA91d1nWG9w/GJIc7GwWbKKe/mAsGRqXBb87P10jH8/0LY6kpGQV1KcuAwAAeCt4LiVFWRJKs4DJ6p9GxGHWfLuTM5dt61/pzCCE7vLmSodGJM/ASqdzU2U3VjpY6WClg5XOICudUaI3VjocuWCsdAAAAAAAAAAAAAAAAD5o1Gmr054TSoqWxPvnfrLxVEIc29/cT5YmkmdgPzlCSz8a+8nYT8Z+MvaTB9lPZpJX+8lRktFyRdDF0m6IdcF2MgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAC8ddD8G5oJkUuQnAXwnvxLAAAAADDkEFURRckVE6rIv+Tb1078MiZEetubJ34RHckzcOIXd8uWTpz4hRO/cOIXTvwa5MQvoidZ5S8a9h8nfl1QVhipQ6jyyWeuvTaBGP3D5fwgE4gpeQYmUCZ7XQ0mECYQJhAm0GATyOfVmYOU4sAdNi+cOUpm/9cdNv2Di8kkFN3mYOtrg8sE14xicGFwYXDhmlEAAD5w/Os1o8bTcM0oVjpY6WClg2tGAQAAAAAAAAAAAAAAgL/wb9eMBpow+r817yN/fwnJf33P5g78nWofEZNXD3u95GdSkh3o135/aL2i3vl/gHf/7t59oDlnDSHS8gQhNGQL8uWs6P+iwPYLDuIOzARqyM+E9QOfA3PIfw4IIYQQQgghhBBCCCGEEEIIIYQQQgghhBBCCCGEEEIIIYQQQgghhND70J9QSwMEFAAAAAgA7VhwR/dYplZAAAAAagEAAB4AHABDb250ZW50cy9SZXNvdXJjZXMvYXBwbGV0LnJzcmNVVAkAA82cSVZTpQ9XdXgLAAEE9QEAAAQUAAAAY2BgZGBgYFQBEiDsxjDygJQDPlkmEIEaRpJAQg8kLAMML8bi5OIqIFuouKA4A0jLMTD8/w+S5AdrB7PlBIAEAFBLAwQKAAAAAADtWHBHAAAAAAAAAAAAAAAAJAAcAENvbnRlbnRzL1Jlc291cmNlcy9kZXNjcmlwdGlvbi5ydGZkL1VUCQADzZxJVi2REFd1eAsAAQT1AQAABBQAAABQSwMEFAAAAAgA7VhwRzPLNU9TAAAAZgAAACsAHABDb250ZW50cy9SZXNvdXJjZXMvZGVzY3JpcHRpb24ucnRmZC9UWFQucnRmVVQJAAPNnElWU6UPV3V4CwABBPUBAAAEFAAAACWJOw6AIBAFe08DCBVX2QbWhZgQ1vCpCHcXtHkzkzegtCDB5Xp/g0+UyihARnb70kL/UbvffYpjQODcmk9zKXListxCoUsZA7EQ5S0+dVq085gvUEsDBAoAAAAAAIeBjkgAAAAAAAAAAAAAAAAbABwAQ29udGVudHMvUmVzb3VyY2VzL1NjcmlwdHMvVVQJAAM9pQ9XLZEQV3V4CwABBPUBAAAEFAAAAFBLAwQUAAAACAAJgI5ICl5liTUBAADMAQAAJAAcAENvbnRlbnRzL1Jlc291cmNlcy9TY3JpcHRzL21haW4uc2NwdFVUCQADcaIPV1OlD1d1eAsAAQT1AQAABBQAAAB9UMtOAkEQrNldd9dhH3Dz6NGYiPIJHjTxLCZeF9iDcXEJC0RvfoI/4sEfIvoHPEQEhbIHvOok01U16emu7vOkaF2dXu7XqrUTcyMATkxCwYKthCAUbmciAQ8O11yFcGBfbF/4jR24WmCvWjwUeXqfNutn13XyEeYYHkqKam+kghdJGfUCvwIfB6jiGAX6aCHHETroCrYFe6IKNEXfGOXChc0v7HKpBRzdSFrtELvbumKVC80F/FIjzwe9bj91uZRuXJuwAiLjNi7DlsxPaJSUAMrCFOeac3GfpINennQ6d/0sA4z7JxzKiVCCV+YHAs74LuuIONUi//4RIoC63czrIbYQS3PFicWJcTMTv1JHmocmROLJ45gjzfHvXJqjf7ZZ4RT+61uaBbDipGh2ZanBcjh8/gFQSwECHgMKAAAAAADtWHBHAAAAAAAAAAAAAAAACQAYAAAAAAAAABAA7UEAAAAAQ29udGVudHMvVVQFAAPNnElWdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgAoHlwR5R2hqihAQAAvgMAABMAGAAAAAAAAQAAAKSBQwAAAENvbnRlbnRzL0luZm8ucGxpc3RVVAUAA1zWSVZ1eAsAAQT1AQAABBQAAABQSwECHgMKAAAAAAB0gY5IAAAAAAAAAAAAAAAADwAYAAAAAAAAABAA7UExAgAAQ29udGVudHMvTWFjT1MvVVQFAAMbpQ9XdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgAVRwXR+w5OCkyCAAAyGEAABUAGAAAAAAAAAAAAO2BegIAAENvbnRlbnRzL01hY09TL2FwcGxldFVUBQADMiPZVXV4CwABBPUBAAAEFAAAAFBLAQIeAxQAAAAIAAVHj0ga7FYjfQEAAKoCAAAhABgAAAAAAAEAAADtgfsKAABDb250ZW50cy9NYWNPUy9zdWRvLXByb21wdC1zY3JpcHRVVAUAA4mQEFd1eAsAAQT1AQAABBQAAABQSwECHgMKAAAAAADtWHBHqiAGewgAAAAIAAAAEAAYAAAAAAABAAAApIHTDAAAQ29udGVudHMvUGtnSW5mb1VUBQADzZxJVnV4CwABBPUBAAAEFAAAAFBLAQIeAwoAAAAAAJt5cEcAAAAAAAAAAAAAAAATABgAAAAAAAAAEADtQSUNAABDb250ZW50cy9SZXNvdXJjZXMvVVQFAANW1klWdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgAgHlwR3658rH2BgAAH9wAAB4AGAAAAAAAAAAAAKSBcg0AAENvbnRlbnRzL1Jlc291cmNlcy9hcHBsZXQuaWNuc1VUBQADH9ZJVnV4CwABBPUBAAAEFAAAAFBLAQIeAxQAAAAIAO1YcEf3WKZWQAAAAGoBAAAeABgAAAAAAAAAAACkgcAUAABDb250ZW50cy9SZXNvdXJjZXMvYXBwbGV0LnJzcmNVVAUAA82cSVZ1eAsAAQT1AQAABBQAAABQSwECHgMKAAAAAADtWHBHAAAAAAAAAAAAAAAAJAAYAAAAAAAAABAA7UFYFQAAQ29udGVudHMvUmVzb3VyY2VzL2Rlc2NyaXB0aW9uLnJ0ZmQvVVQFAAPNnElWdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgA7VhwRzPLNU9TAAAAZgAAACsAGAAAAAAAAQAAAKSBthUAAENvbnRlbnRzL1Jlc291cmNlcy9kZXNjcmlwdGlvbi5ydGZkL1RYVC5ydGZVVAUAA82cSVZ1eAsAAQT1AQAABBQAAABQSwECHgMKAAAAAACHgY5IAAAAAAAAAAAAAAAAGwAYAAAAAAAAABAA7UFuFgAAQ29udGVudHMvUmVzb3VyY2VzL1NjcmlwdHMvVVQFAAM9pQ9XdXgLAAEE9QEAAAQUAAAAUEsBAh4DFAAAAAgACYCOSApeZYk1AQAAzAEAACQAGAAAAAAAAAAAAKSBwxYAAENvbnRlbnRzL1Jlc291cmNlcy9TY3JpcHRzL21haW4uc2NwdFVUBQADcaIPV3V4CwABBPUBAAAEFAAAAFBLBQYAAAAADQANANwEAABWGAAAAAA=",Qo="User did not grant permission.",Dx="No polkit authentication agent found.",qx=134217728});var Ci=y((zB,Fw)=>{var{ipcMain:Lx}=require("electron"),xx=xr();Fw.exports=class extends xx{constructor(t){super(t)}_register(t){if(typeof t=="string")for(let r of Object.getOwnPropertyNames(this)){if(["_","#"].includes(r[0]||typeof this[r]!="function"))continue;let n=this[r],i="ipc:".concat(t,":").concat(r);Lx.handle(i,async(s,...o)=>{let a=null;try{a=typeof n=="function"?await n(...o):null}catch(l){a=l}return a})}}}});var Mu=y((XB,$w)=>{var{app:Uw}=require("electron"),Ti=require("path"),Uu=require("os"),Mw=kr(),Ye,pn,mn;$w.exports=(Ye=class{static getPathCache(){if(T(Ye,pn)===null){let t=process.env.XDG_CACHE_HOME||Ti.join(Uu.homedir(),".cache");switch(process.platform){case Mw.WINDOWS:t=process.env.LOCALAPPDATA||Ti.join(Uu.homedir(),"AppData","Local");break;case Mw.MACOS:t=Ti.join(Uu.homedir(),"Library","Caches");break}H(Ye,pn,Ti.join(t,"".concat(Uw.name.toLowerCase(),"-updater")))}return T(Ye,pn)}static getPathConfig(){return T(Ye,mn)===null&&H(Ye,mn,Ti.join(Uw.getPath("appData"),"dos")),T(Ye,mn)}},pn=new WeakMap,mn=new WeakMap,V(Ye,pn,null),V(Ye,mn,null),Ye)});var Jw=y((ej,Xw)=>{var{autoUpdater:gn}=Pw(),{app:$u,session:Bw}=require("electron"),Rx=kw(),jw=require("path"),zo=require("fs"),Hw=Ln(),kx=Ci(),Vw=kr(),Fx=Mu(),Ux=(e,t)=>{let r="".concat(typeof e=="string"?e:"0").split(".").map(Number),n="".concat(typeof t=="string"?t:"0").split(".").map(Number),i=Math.max(r.length,n.length);for(let s=0;s<i;s++){let o=r[s]||0,a=n[s]||0;if(o>a)return!0;if(o<a)return!1}return!1},br,Ni,wt,Sr,Oi,Ee,Bt,re,At,Xo,Ww,Yw,Kw,Qw,zw,Gw;Xw.exports=(Gw=class extends kx{constructor(r){super(r);V(this,re);V(this,br,!0);V(this,Ni,!1);V(this,wt,!1);V(this,Sr,!1);V(this,Oi,!1);V(this,Ee,{version:null,filePath:null,progress:0});V(this,Bt,null);q(this,"check",()=>{if(!T(this,br)||T(this,wt))return!1;H(this,wt,!0);try{H(this,Ee,{version:null,filePath:null,progress:0}),oe(this,re,At).call(this),Vw.LINUX===process.platform?oe(this,re,Ww).call(this):oe(this,re,Yw).call(this)}catch{}return!0});q(this,"install",async()=>{if(!T(this,br)||typeof T(this,Ee).version!="string"||typeof T(this,Ee).filePath!="string"||T(this,Sr))return!1;H(this,Sr,!0);try{if(typeof T(this,Ee).filePath!="string")throw new Error("Nothing to install");oe(this,re,Xo).call(this),Vw.LINUX===process.platform?await oe(this,re,Kw).call(this):oe(this,re,Qw).call(this),oe(this,re,Xo).call(this,!1)}catch(r){oe(this,re,Xo).call(this,!1,"".concat(r.message??r))}return!0});H(this,br,!0),this._register("updater"),H(this,Bt,jw.join(Fx.getPathCache(),"pending"))}async start(){if(!T(this,Ni)&&(H(this,Ni,!0),!!T(this,br)))try{zo.existsSync(T(this,Bt))&&zo.rmSync(T(this,Bt),{recursive:!0,force:!0}),zo.mkdirSync(T(this,Bt),{recursive:!0})}catch{}}isChecking(){return T(this,wt)}isInstalling(){return T(this,Sr)}},br=new WeakMap,Ni=new WeakMap,wt=new WeakMap,Sr=new WeakMap,Oi=new WeakMap,Ee=new WeakMap,Bt=new WeakMap,re=new WeakSet,At=function(){if(typeof this._dos.main?.view.webContents?.send=="function"){let r=["ipc:updater:check",[T(this,Ee)],{type:"req"}];this._dos.main?.view.webContents?.send(Hw.WINDOW_MAIN,r)}},Xo=function(r=!0,n=null){if(r||H(this,Sr,!1),typeof this._dos.main?.view.webContents?.send=="function"){let i=["ipc:updater:install",[{working:r,error:n}],{type:"req"}];this._dos.main?.view.webContents?.send(Hw.WINDOW_MAIN,i)}},Ww=async function(){try{let r=await(await fetch("https://api.github.com/repos/oglama/dos/releases/latest")).json(),n=(Array.isArray(r?.assets)?r.assets:[]).find(s=>typeof s?.name=="string"&&s.name.endsWith(".deb")&&typeof s.browser_download_url=="string");if(!n)throw new Error("No assets released");let i=n.browser_download_url.replace(/^.*?\-(\d+\.\d+\.\d+)\.deb$/,"$1");if(!Ux(i,$u.getVersion()))throw new Error("No update available");T(this,Ee).version=i,oe(this,re,At).call(this),T(this,Ee).filePath=await oe(this,re,zw).call(this,n.browser_download_url,n.name)}catch{}oe(this,re,At).call(this),H(this,wt,!1)},Yw=async function(){T(this,Oi)||(H(this,Oi,!0),gn.on("update-not-available",r=>{oe(this,re,At).call(this),H(this,wt,!1)}),gn.on("update-available",r=>{T(this,Ee).version=r?.version??null,oe(this,re,At).call(this)}),gn.on("download-progress",r=>{T(this,Ee).progress=parseInt(r.percent,10),oe(this,re,At).call(this)}),gn.on("update-downloaded",r=>{T(this,Ee).filePath=r.downloadedFile,T(this,Ee).progress=100,oe(this,re,At).call(this),H(this,wt,!1)})),gn.checkForUpdates()},Kw=async function(){return new Promise((r,n)=>{let i='"'.concat(T(this,Ee).filePath.replace(/(["\\$`])/g,"\\$1"),'"');Rx.exec("dpkg -i ".concat(i),{name:"Draw on Screen"},s=>{if(s){n(s);return}r(),setTimeout(()=>$u.relaunch(),$u.quit(),250)})})},Qw=function(){gn.quitAndInstall()},zw=async function(r,n){let i=jw.join(T(this,Bt),n);return zo.existsSync(i)?(T(this,Ee).progress=100,i):new Promise((s,o)=>{let a=(l,c)=>{c.setSavePath(i),c.on("updated",(f,u)=>{u==="progressing"&&(T(this,Ee).progress=Math.floor(c.getReceivedBytes()/c.getTotalBytes()*100),oe(this,re,At).call(this))}),c.once("done",(f,u)=>{if(Bw.defaultSession.removeListener("will-download",a),u==="completed"){s(c.getSavePath());return}o(new Error("Download failed: ".concat(u)))})};Bw.defaultSession.once("will-download",a),this._dos.main?.view.webContents.downloadURL(r)})},Gw)});var G=y(ve=>{"use strict";var Bu=Symbol.for("yaml.alias"),Zw=Symbol.for("yaml.document"),Jo=Symbol.for("yaml.map"),eE=Symbol.for("yaml.pair"),ju=Symbol.for("yaml.scalar"),Zo=Symbol.for("yaml.seq"),Et=Symbol.for("yaml.node.type"),Mx=e=>!!e&&typeof e=="object"&&e[Et]===Bu,$x=e=>!!e&&typeof e=="object"&&e[Et]===Zw,Bx=e=>!!e&&typeof e=="object"&&e[Et]===Jo,jx=e=>!!e&&typeof e=="object"&&e[Et]===eE,tE=e=>!!e&&typeof e=="object"&&e[Et]===ju,Hx=e=>!!e&&typeof e=="object"&&e[Et]===Zo;function rE(e){if(e&&typeof e=="object")switch(e[Et]){case Jo:case Zo:return!0}return!1}function Vx(e){if(e&&typeof e=="object")switch(e[Et]){case Bu:case Jo:case ju:case Zo:return!0}return!1}var Gx=e=>(tE(e)||rE(e))&&!!e.anchor;ve.ALIAS=Bu;ve.DOC=Zw;ve.MAP=Jo;ve.NODE_TYPE=Et;ve.PAIR=eE;ve.SCALAR=ju;ve.SEQ=Zo;ve.hasAnchor=Gx;ve.isAlias=Mx;ve.isCollection=rE;ve.isDocument=$x;ve.isMap=Bx;ve.isNode=Vx;ve.isPair=jx;ve.isScalar=tE;ve.isSeq=Hx});var Ii=y(Hu=>{"use strict";var he=G(),je=Symbol("break visit"),nE=Symbol("skip children"),ct=Symbol("remove node");function ea(e,t){let r=iE(t);he.isDocument(e)?yn(null,e.contents,r,Object.freeze([e]))===ct&&(e.contents=null):yn(null,e,r,Object.freeze([]))}ea.BREAK=je;ea.SKIP=nE;ea.REMOVE=ct;function yn(e,t,r,n){let i=sE(e,t,r,n);if(he.isNode(i)||he.isPair(i))return oE(e,n,i),yn(e,i,r,n);if(typeof i!="symbol"){if(he.isCollection(t)){n=Object.freeze(n.concat(t));for(let s=0;s<t.items.length;++s){let o=yn(s,t.items[s],r,n);if(typeof o=="number")s=o-1;else{if(o===je)return je;o===ct&&(t.items.splice(s,1),s-=1)}}}else if(he.isPair(t)){n=Object.freeze(n.concat(t));let s=yn("key",t.key,r,n);if(s===je)return je;s===ct&&(t.key=null);let o=yn("value",t.value,r,n);if(o===je)return je;o===ct&&(t.value=null)}}return i}async function ta(e,t){let r=iE(t);he.isDocument(e)?await An(null,e.contents,r,Object.freeze([e]))===ct&&(e.contents=null):await An(null,e,r,Object.freeze([]))}ta.BREAK=je;ta.SKIP=nE;ta.REMOVE=ct;async function An(e,t,r,n){let i=await sE(e,t,r,n);if(he.isNode(i)||he.isPair(i))return oE(e,n,i),An(e,i,r,n);if(typeof i!="symbol"){if(he.isCollection(t)){n=Object.freeze(n.concat(t));for(let s=0;s<t.items.length;++s){let o=await An(s,t.items[s],r,n);if(typeof o=="number")s=o-1;else{if(o===je)return je;o===ct&&(t.items.splice(s,1),s-=1)}}}else if(he.isPair(t)){n=Object.freeze(n.concat(t));let s=await An("key",t.key,r,n);if(s===je)return je;s===ct&&(t.key=null);let o=await An("value",t.value,r,n);if(o===je)return je;o===ct&&(t.value=null)}}return i}function iE(e){return typeof e=="object"&&(e.Collection||e.Node||e.Value)?Object.assign({Alias:e.Node,Map:e.Node,Scalar:e.Node,Seq:e.Node},e.Value&&{Map:e.Value,Scalar:e.Value,Seq:e.Value},e.Collection&&{Map:e.Collection,Seq:e.Collection},e):e}function sE(e,t,r,n){if(typeof r=="function")return r(e,t,n);if(he.isMap(t))return r.Map?.(e,t,n);if(he.isSeq(t))return r.Seq?.(e,t,n);if(he.isPair(t))return r.Pair?.(e,t,n);if(he.isScalar(t))return r.Scalar?.(e,t,n);if(he.isAlias(t))return r.Alias?.(e,t,n)}function oE(e,t,r){let n=t[t.length-1];if(he.isCollection(n))n.items[e]=r;else if(he.isPair(n))e==="key"?n.key=r:n.value=r;else if(he.isDocument(n))n.contents=r;else{let i=he.isAlias(n)?"alias":"scalar";throw new Error("Cannot replace node with ".concat(i," parent"))}}Hu.visit=ea;Hu.visitAsync=ta});var Vu=y(lE=>{"use strict";var aE=G(),Wx=Ii(),Yx={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},Kx=e=>e.replace(/[!,[\]{}]/g,t=>Yx[t]),Pi=class e{constructor(t,r){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},e.defaultYaml,t),this.tags=Object.assign({},e.defaultTags,r)}clone(){let t=new e(this.yaml,this.tags);return t.docStart=this.docStart,t}atDocument(){let t=new e(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:e.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},e.defaultTags);break}return t}add(t,r){this.atNextDocument&&(this.yaml={explicit:e.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},e.defaultTags),this.atNextDocument=!1);let n=t.trim().split(/[ \t]+/),i=n.shift();switch(i){case"%TAG":{if(n.length!==2&&(r(0,"%TAG directive should contain exactly two parts"),n.length<2))return!1;let[s,o]=n;return this.tags[s]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,n.length!==1)return r(0,"%YAML directive should contain exactly one part"),!1;let[s]=n;if(s==="1.1"||s==="1.2")return this.yaml.version=s,!0;{let o=/^\d+\.\d+$/.test(s);return r(6,"Unsupported YAML version ".concat(s),o),!1}}default:return r(0,"Unknown directive ".concat(i),!0),!1}}tagName(t,r){if(t==="!")return"!";if(t[0]!=="!")return r("Not a valid tag: ".concat(t)),null;if(t[1]==="<"){let o=t.slice(2,-1);return o==="!"||o==="!!"?(r("Verbatim tags aren't resolved, so ".concat(t," is invalid.")),null):(t[t.length-1]!==">"&&r("Verbatim tags must end with a >"),o)}let[,n,i]=t.match(/^(.*!)([^!]*)$/s);i||r("The ".concat(t," tag has no suffix"));let s=this.tags[n];if(s)try{return s+decodeURIComponent(i)}catch(o){return r(String(o)),null}return n==="!"?t:(r("Could not resolve tag: ".concat(t)),null)}tagString(t){for(let[r,n]of Object.entries(this.tags))if(t.startsWith(n))return r+Kx(t.substring(n.length));return t[0]==="!"?t:"!<".concat(t,">")}toString(t){let r=this.yaml.explicit?["%YAML ".concat(this.yaml.version||"1.2")]:[],n=Object.entries(this.tags),i;if(t&&n.length>0&&aE.isNode(t.contents)){let s={};Wx.visit(t.contents,(o,a)=>{aE.isNode(a)&&a.tag&&(s[a.tag]=!0)}),i=Object.keys(s)}else i=[];for(let[s,o]of n)s==="!!"&&o==="tag:yaml.org,2002:"||(!t||i.some(a=>a.startsWith(o)))&&r.push("%TAG ".concat(s," ").concat(o));return r.join("\n")}};Pi.defaultYaml={explicit:!1,version:"1.2"};Pi.defaultTags={"!!":"tag:yaml.org,2002:"};lE.Directives=Pi});var ra=y(Di=>{"use strict";var cE=G(),Qx=Ii();function zx(e){if(/[\x00-\x19\s,[\]{}]/.test(e)){let t=JSON.stringify(e),r="Anchor must not contain whitespace or control characters: ".concat(t);throw new Error(r)}return!0}function uE(e){let t=new Set;return Qx.visit(e,{Value(r,n){n.anchor&&t.add(n.anchor)}}),t}function fE(e,t){for(let r=1;;++r){let n="".concat(e).concat(r);if(!t.has(n))return n}}function Xx(e,t){let r=[],n=new Map,i=null;return{onAnchor:s=>{r.push(s),i??(i=uE(e));let o=fE(t,i);return i.add(o),o},setAnchors:()=>{for(let s of r){let o=n.get(s);if(typeof o=="object"&&o.anchor&&(cE.isScalar(o.node)||cE.isCollection(o.node)))o.node.anchor=o.anchor;else{let a=new Error("Failed to resolve repeated object (this should not happen)");throw a.source=s,a}}},sourceObjects:n}}Di.anchorIsValid=zx;Di.anchorNames=uE;Di.createNodeAnchors=Xx;Di.findNewAnchor=fE});var Gu=y(dE=>{"use strict";function qi(e,t,r,n){if(n&&typeof n=="object")if(Array.isArray(n))for(let i=0,s=n.length;i<s;++i){let o=n[i],a=qi(e,n,String(i),o);a===void 0?delete n[i]:a!==o&&(n[i]=a)}else if(n instanceof Map)for(let i of Array.from(n.keys())){let s=n.get(i),o=qi(e,n,i,s);o===void 0?n.delete(i):o!==s&&n.set(i,o)}else if(n instanceof Set)for(let i of Array.from(n)){let s=qi(e,n,i,i);s===void 0?n.delete(i):s!==i&&(n.delete(i),n.add(s))}else for(let[i,s]of Object.entries(n)){let o=qi(e,n,i,s);o===void 0?delete n[i]:o!==s&&(n[i]=o)}return e.call(t,r,n)}dE.applyReviver=qi});var jt=y(pE=>{"use strict";var Jx=G();function hE(e,t,r){if(Array.isArray(e))return e.map((n,i)=>hE(n,String(i),r));if(e&&typeof e.toJSON=="function"){if(!r||!Jx.hasAnchor(e))return e.toJSON(t,r);let n={aliasCount:0,count:1,res:void 0};r.anchors.set(e,n),r.onCreate=s=>{n.res=s,delete r.onCreate};let i=e.toJSON(t,r);return r.onCreate&&r.onCreate(i),i}return typeof e=="bigint"&&!r?.keep?Number(e):e}pE.toJS=hE});var na=y(gE=>{"use strict";var Zx=Gu(),mE=G(),eR=jt(),Wu=class{constructor(t){Object.defineProperty(this,mE.NODE_TYPE,{value:t})}clone(){let t=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(t.range=this.range.slice()),t}toJS(t,{mapAsMap:r,maxAliasCount:n,onAnchor:i,reviver:s}={}){if(!mE.isDocument(t))throw new TypeError("A document argument is required");let o={anchors:new Map,doc:t,keep:!0,mapAsMap:r===!0,mapKeyWarned:!1,maxAliasCount:typeof n=="number"?n:100},a=eR.toJS(this,"",o);if(typeof i=="function")for(let{count:l,res:c}of o.anchors.values())i(c,l);return typeof s=="function"?Zx.applyReviver(s,{"":a},"",a):a}};gE.NodeBase=Wu});var Li=y(yE=>{"use strict";var tR=ra(),rR=Ii(),wn=G(),nR=na(),iR=jt(),Yu=class extends nR.NodeBase{constructor(t){super(wn.ALIAS),this.source=t,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(t,r){let n;r?.aliasResolveCache?n=r.aliasResolveCache:(n=[],rR.visit(t,{Node:(s,o)=>{(wn.isAlias(o)||wn.hasAnchor(o))&&n.push(o)}}),r&&(r.aliasResolveCache=n));let i;for(let s of n){if(s===this)break;s.anchor===this.source&&(i=s)}return i}toJSON(t,r){if(!r)return{source:this.source};let{anchors:n,doc:i,maxAliasCount:s}=r,o=this.resolve(i,r);if(!o){let l="Unresolved alias (the anchor must be set before the alias): ".concat(this.source);throw new ReferenceError(l)}let a=n.get(o);if(a||(iR.toJS(o,null,r),a=n.get(o)),!a||a.res===void 0){let l="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(l)}if(s>=0&&(a.count+=1,a.aliasCount===0&&(a.aliasCount=ia(i,o,n)),a.count*a.aliasCount>s)){let l="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(l)}return a.res}toString(t,r,n){let i="*".concat(this.source);if(t){if(tR.anchorIsValid(this.source),t.options.verifyAliasOrder&&!t.anchors.has(this.source)){let s="Unresolved alias (the anchor must be set before the alias): ".concat(this.source);throw new Error(s)}if(t.implicitKey)return"".concat(i," ")}return i}};function ia(e,t,r){if(wn.isAlias(t)){let n=t.resolve(e),i=r&&n&&r.get(n);return i?i.count*i.aliasCount:0}else if(wn.isCollection(t)){let n=0;for(let i of t.items){let s=ia(e,i,r);s>n&&(n=s)}return n}else if(wn.isPair(t)){let n=ia(e,t.key,r),i=ia(e,t.value,r);return Math.max(n,i)}return 1}yE.Alias=Yu});var ce=y(Ku=>{"use strict";var sR=G(),oR=na(),aR=jt(),lR=e=>!e||typeof e!="function"&&typeof e!="object",Ht=class extends oR.NodeBase{constructor(t){super(sR.SCALAR),this.value=t}toJSON(t,r){return r?.keep?this.value:aR.toJS(this.value,t,r)}toString(){return String(this.value)}};Ht.BLOCK_FOLDED="BLOCK_FOLDED";Ht.BLOCK_LITERAL="BLOCK_LITERAL";Ht.PLAIN="PLAIN";Ht.QUOTE_DOUBLE="QUOTE_DOUBLE";Ht.QUOTE_SINGLE="QUOTE_SINGLE";Ku.Scalar=Ht;Ku.isScalarValue=lR});var xi=y(wE=>{"use strict";var cR=Li(),_r=G(),AE=ce(),uR="tag:yaml.org,2002:";function fR(e,t,r){if(t){let n=r.filter(s=>s.tag===t),i=n.find(s=>!s.format)??n[0];if(!i)throw new Error("Tag ".concat(t," not found"));return i}return r.find(n=>n.identify?.(e)&&!n.format)}function dR(e,t,r){if(_r.isDocument(e)&&(e=e.contents),_r.isNode(e))return e;if(_r.isPair(e)){let u=r.schema[_r.MAP].createNode?.(r.schema,null,r);return u.items.push(e),u}(e instanceof String||e instanceof Number||e instanceof Boolean||typeof BigInt<"u"&&e instanceof BigInt)&&(e=e.valueOf());let{aliasDuplicateObjects:n,onAnchor:i,onTagObj:s,schema:o,sourceObjects:a}=r,l;if(n&&e&&typeof e=="object"){if(l=a.get(e),l)return l.anchor??(l.anchor=i(e)),new cR.Alias(l.anchor);l={anchor:null,node:null},a.set(e,l)}t?.startsWith("!!")&&(t=uR+t.slice(2));let c=fR(e,t,o.tags);if(!c){if(e&&typeof e.toJSON=="function"&&(e=e.toJSON()),!e||typeof e!="object"){let u=new AE.Scalar(e);return l&&(l.node=u),u}c=e instanceof Map?o[_r.MAP]:Symbol.iterator in Object(e)?o[_r.SEQ]:o[_r.MAP]}s&&(s(c),delete r.onTagObj);let f=c?.createNode?c.createNode(r.schema,e,r):typeof c?.nodeClass?.from=="function"?c.nodeClass.from(r.schema,e,r):new AE.Scalar(e);return t?f.tag=t:c.default||(f.tag=c.tag),l&&(l.node=f),f}wE.createNode=dR});var oa=y(sa=>{"use strict";var hR=xi(),ut=G(),pR=na();function Qu(e,t,r){let n=r;for(let i=t.length-1;i>=0;--i){let s=t[i];if(typeof s=="number"&&Number.isInteger(s)&&s>=0){let o=[];o[s]=n,n=o}else n=new Map([[s,n]])}return hR.createNode(n,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:e,sourceObjects:new Map})}var EE=e=>e==null||typeof e=="object"&&!!e[Symbol.iterator]().next().done,zu=class extends pR.NodeBase{constructor(t,r){super(t),Object.defineProperty(this,"schema",{value:r,configurable:!0,enumerable:!1,writable:!0})}clone(t){let r=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return t&&(r.schema=t),r.items=r.items.map(n=>ut.isNode(n)||ut.isPair(n)?n.clone(t):n),this.range&&(r.range=this.range.slice()),r}addIn(t,r){if(EE(t))this.add(r);else{let[n,...i]=t,s=this.get(n,!0);if(ut.isCollection(s))s.addIn(i,r);else if(s===void 0&&this.schema)this.set(n,Qu(this.schema,i,r));else throw new Error("Expected YAML collection at ".concat(n,". Remaining path: ").concat(i))}}deleteIn(t){let[r,...n]=t;if(n.length===0)return this.delete(r);let i=this.get(r,!0);if(ut.isCollection(i))return i.deleteIn(n);throw new Error("Expected YAML collection at ".concat(r,". Remaining path: ").concat(n))}getIn(t,r){let[n,...i]=t,s=this.get(n,!0);return i.length===0?!r&&ut.isScalar(s)?s.value:s:ut.isCollection(s)?s.getIn(i,r):void 0}hasAllNullValues(t){return this.items.every(r=>{if(!ut.isPair(r))return!1;let n=r.value;return n==null||t&&ut.isScalar(n)&&n.value==null&&!n.commentBefore&&!n.comment&&!n.tag})}hasIn(t){let[r,...n]=t;if(n.length===0)return this.has(r);let i=this.get(r,!0);return ut.isCollection(i)?i.hasIn(n):!1}setIn(t,r){let[n,...i]=t;if(i.length===0)this.set(n,r);else{let s=this.get(n,!0);if(ut.isCollection(s))s.setIn(i,r);else if(s===void 0&&this.schema)this.set(n,Qu(this.schema,i,r));else throw new Error("Expected YAML collection at ".concat(n,". Remaining path: ").concat(i))}}};sa.Collection=zu;sa.collectionFromPath=Qu;sa.isEmptyPath=EE});var Ri=y(aa=>{"use strict";var mR=e=>e.replace(/^(?!$)(?: $)?/gm,"#");function Xu(e,t){return/^\n+$/.test(e)?e.substring(1):t?e.replace(/^(?! *$)/gm,t):e}var gR=(e,t,r)=>e.endsWith("\n")?Xu(r,t):r.includes("\n")?"\n"+Xu(r,t):(e.endsWith(" ")?"":" ")+r;aa.indentComment=Xu;aa.lineComment=gR;aa.stringifyComment=mR});var bE=y(ki=>{"use strict";var yR="flow",Ju="block",la="quoted";function AR(e,t,r="flow",{indentAtStart:n,lineWidth:i=80,minContentWidth:s=20,onFold:o,onOverflow:a}={}){if(!i||i<0)return e;i<s&&(s=0);let l=Math.max(1+s,1+i-t.length);if(e.length<=l)return e;let c=[],f={},u=i-t.length;typeof n=="number"&&(n>i-Math.max(2,s)?c.push(0):u=i-n);let d,p,w=!1,g=-1,E=-1,S=-1;r===Ju&&(g=vE(e,g,t.length),g!==-1&&(u=g+l));for(let C;C=e[g+=1];){if(r===la&&C==="\\"){switch(E=g,e[g+1]){case"x":g+=3;break;case"u":g+=5;break;case"U":g+=9;break;default:g+=1}S=g}if(C==="\n")r===Ju&&(g=vE(e,g,t.length)),u=g+t.length+l,d=void 0;else{if(C===" "&&p&&p!==" "&&p!=="\n"&&p!=="	"){let N=e[g+1];N&&N!==" "&&N!=="\n"&&N!=="	"&&(d=g)}if(g>=u)if(d)c.push(d),u=d+l,d=void 0;else if(r===la){for(;p===" "||p==="	";)p=C,C=e[g+=1],w=!0;let N=g>S+1?g-2:E-1;if(f[N])return e;c.push(N),f[N]=!0,u=N+l,d=void 0}else w=!0}p=C}if(w&&a&&a(),c.length===0)return e;o&&o();let b=e.slice(0,c[0]);for(let C=0;C<c.length;++C){let N=c[C],R=c[C+1]||e.length;N===0?b="\n".concat(t).concat(e.slice(0,R)):(r===la&&f[N]&&(b+="".concat(e[N],"\\")),b+="\n".concat(t).concat(e.slice(N+1,R)))}return b}function vE(e,t,r){let n=t,i=t+1,s=e[i];for(;s===" "||s==="	";)if(t<i+r)s=e[++t];else{do s=e[++t];while(s&&s!=="\n");n=t,i=t+1,s=e[i]}return n}ki.FOLD_BLOCK=Ju;ki.FOLD_FLOW=yR;ki.FOLD_QUOTED=la;ki.foldFlowLines=AR});var Ui=y(SE=>{"use strict";var nt=ce(),Vt=bE(),ua=(e,t)=>({indentAtStart:t?e.indent.length:e.indentAtStart,lineWidth:e.options.lineWidth,minContentWidth:e.options.minContentWidth}),fa=e=>/^(%|---|\.\.\.)/m.test(e);function wR(e,t,r){if(!t||t<0)return!1;let n=t-r,i=e.length;if(i<=n)return!1;for(let s=0,o=0;s<i;++s)if(e[s]==="\n"){if(s-o>n)return!0;if(o=s+1,i-o<=n)return!1}return!0}function Fi(e,t){let r=JSON.stringify(e);if(t.options.doubleQuotedAsJSON)return r;let{implicitKey:n}=t,i=t.options.doubleQuotedMinMultiLineLength,s=t.indent||(fa(e)?"  ":""),o="",a=0;for(let l=0,c=r[l];c;c=r[++l])if(c===" "&&r[l+1]==="\\"&&r[l+2]==="n"&&(o+=r.slice(a,l)+"\\ ",l+=1,a=l,c="\\"),c==="\\")switch(r[l+1]){case"u":{o+=r.slice(a,l);let f=r.substr(l+2,4);switch(f){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:f.substr(0,2)==="00"?o+="\\x"+f.substr(2):o+=r.substr(l,6)}l+=5,a=l+1}break;case"n":if(n||r[l+2]==='"'||r.length<i)l+=1;else{for(o+=r.slice(a,l)+"\n\n";r[l+2]==="\\"&&r[l+3]==="n"&&r[l+4]!=='"';)o+="\n",l+=2;o+=s,r[l+2]===" "&&(o+="\\"),l+=1,a=l+1}break;default:l+=1}return o=a?o+r.slice(a):r,n?o:Vt.foldFlowLines(o,s,Vt.FOLD_QUOTED,ua(t,!1))}function Zu(e,t){if(t.options.singleQuote===!1||t.implicitKey&&e.includes("\n")||/[ \t]\n|\n[ \t]/.test(e))return Fi(e,t);let r=t.indent||(fa(e)?"  ":""),n="'"+e.replace(/'/g,"''").replace(/\n+/g,"$&\n".concat(r))+"'";return t.implicitKey?n:Vt.foldFlowLines(n,r,Vt.FOLD_FLOW,ua(t,!1))}function En(e,t){let{singleQuote:r}=t.options,n;if(r===!1)n=Fi;else{let i=e.includes('"'),s=e.includes("'");i&&!s?n=Zu:s&&!i?n=Fi:n=r?Zu:Fi}return n(e,t)}var ef;try{ef=new RegExp("(^|(?<!\n))\n+(?!\n|$)","g")}catch{ef=/\n+(?!\n|$)/g}function ca({comment:e,type:t,value:r},n,i,s){let{blockQuote:o,commentString:a,lineWidth:l}=n.options;if(!o||/\n[\t ]+$/.test(r)||/^\s*$/.test(r))return En(r,n);let c=n.indent||(n.forceBlockIndent||fa(r)?"  ":""),f=o==="literal"?!0:o==="folded"||t===nt.Scalar.BLOCK_FOLDED?!1:t===nt.Scalar.BLOCK_LITERAL?!0:!wR(r,l,c.length);if(!r)return f?"|\n":">\n";let u,d;for(d=r.length;d>0;--d){let R=r[d-1];if(R!=="\n"&&R!=="	"&&R!==" ")break}let p=r.substring(d),w=p.indexOf("\n");w===-1?u="-":r===p||w!==p.length-1?(u="+",s&&s()):u="",p&&(r=r.slice(0,-p.length),p[p.length-1]==="\n"&&(p=p.slice(0,-1)),p=p.replace(ef,"$&".concat(c)));let g=!1,E,S=-1;for(E=0;E<r.length;++E){let R=r[E];if(R===" ")g=!0;else if(R==="\n")S=E;else break}let b=r.substring(0,S<E?S+1:E);b&&(r=r.substring(b.length),b=b.replace(/\n+/g,"$&".concat(c)));let N=(g?c?"2":"1":"")+u;if(e&&(N+=" "+a(e.replace(/ ?[\r\n]+/g," ")),i&&i()),!f){let R=r.replace(/\n+/g,"\n$&").replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,"$&".concat(c)),I=!1,M=ua(n,!0);o!=="folded"&&t!==nt.Scalar.BLOCK_FOLDED&&(M.onOverflow=()=>{I=!0});let A=Vt.foldFlowLines("".concat(b).concat(R).concat(p),c,Vt.FOLD_BLOCK,M);if(!I)return">".concat(N,"\n").concat(c).concat(A)}return r=r.replace(/\n+/g,"$&".concat(c)),"|".concat(N,"\n").concat(c).concat(b).concat(r).concat(p)}function ER(e,t,r,n){let{type:i,value:s}=e,{actualString:o,implicitKey:a,indent:l,indentStep:c,inFlow:f}=t;if(a&&s.includes("\n")||f&&/[[\]{},]/.test(s))return En(s,t);if(/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(s))return a||f||!s.includes("\n")?En(s,t):ca(e,t,r,n);if(!a&&!f&&i!==nt.Scalar.PLAIN&&s.includes("\n"))return ca(e,t,r,n);if(fa(s)){if(l==="")return t.forceBlockIndent=!0,ca(e,t,r,n);if(a&&l===c)return En(s,t)}let u=s.replace(/\n+/g,"$&\n".concat(l));if(o){let d=g=>g.default&&g.tag!=="tag:yaml.org,2002:str"&&g.test?.test(u),{compat:p,tags:w}=t.doc.schema;if(w.some(d)||p?.some(d))return En(s,t)}return a?u:Vt.foldFlowLines(u,l,Vt.FOLD_FLOW,ua(t,!1))}function vR(e,t,r,n){let{implicitKey:i,inFlow:s}=t,o=typeof e.value=="string"?e:Object.assign({},e,{value:String(e.value)}),{type:a}=e;a!==nt.Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(a=nt.Scalar.QUOTE_DOUBLE);let l=f=>{switch(f){case nt.Scalar.BLOCK_FOLDED:case nt.Scalar.BLOCK_LITERAL:return i||s?En(o.value,t):ca(o,t,r,n);case nt.Scalar.QUOTE_DOUBLE:return Fi(o.value,t);case nt.Scalar.QUOTE_SINGLE:return Zu(o.value,t);case nt.Scalar.PLAIN:return ER(o,t,r,n);default:return null}},c=l(a);if(c===null){let{defaultKeyType:f,defaultStringType:u}=t.options,d=i&&f||u;if(c=l(d),c===null)throw new Error("Unsupported default string type ".concat(d))}return c}SE.stringifyString=vR});var Mi=y(tf=>{"use strict";var bR=ra(),Gt=G(),SR=Ri(),_R=Ui();function CR(e,t){let r=Object.assign({blockQuote:!0,commentString:SR.stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},e.schema.toStringOptions,t),n;switch(r.collectionStyle){case"block":n=!1;break;case"flow":n=!0;break;default:n=null}return{anchors:new Set,doc:e,flowCollectionPadding:r.flowCollectionPadding?" ":"",indent:"",indentStep:typeof r.indent=="number"?" ".repeat(r.indent):"  ",inFlow:n,options:r}}function TR(e,t){if(t.tag){let i=e.filter(s=>s.tag===t.tag);if(i.length>0)return i.find(s=>s.format===t.format)??i[0]}let r,n;if(Gt.isScalar(t)){n=t.value;let i=e.filter(s=>s.identify?.(n));if(i.length>1){let s=i.filter(o=>o.test);s.length>0&&(i=s)}r=i.find(s=>s.format===t.format)??i.find(s=>!s.format)}else n=t,r=e.find(i=>i.nodeClass&&n instanceof i.nodeClass);if(!r){let i=n?.constructor?.name??(n===null?"null":typeof n);throw new Error("Tag not resolved for ".concat(i," value"))}return r}function NR(e,t,{anchors:r,doc:n}){if(!n.directives)return"";let i=[],s=(Gt.isScalar(e)||Gt.isCollection(e))&&e.anchor;s&&bR.anchorIsValid(s)&&(r.add(s),i.push("&".concat(s)));let o=e.tag??(t.default?null:t.tag);return o&&i.push(n.directives.tagString(o)),i.join(" ")}function OR(e,t,r,n){if(Gt.isPair(e))return e.toString(t,r,n);if(Gt.isAlias(e)){if(t.doc.directives)return e.toString(t);if(t.resolvedAliases?.has(e))throw new TypeError("Cannot stringify circular structure without alias nodes");t.resolvedAliases?t.resolvedAliases.add(e):t.resolvedAliases=new Set([e]),e=e.resolve(t.doc)}let i,s=Gt.isNode(e)?e:t.doc.createNode(e,{onTagObj:l=>i=l});i??(i=TR(t.doc.schema.tags,s));let o=NR(s,i,t);o.length>0&&(t.indentAtStart=(t.indentAtStart??0)+o.length+1);let a=typeof i.stringify=="function"?i.stringify(s,t,r,n):Gt.isScalar(s)?_R.stringifyString(s,t,r,n):s.toString(t,r,n);return o?Gt.isScalar(s)||a[0]==="{"||a[0]==="["?"".concat(o," ").concat(a):"".concat(o,"\n").concat(t.indent).concat(a):a}tf.createStringifyContext=CR;tf.stringify=OR});var NE=y(TE=>{"use strict";var vt=G(),_E=ce(),CE=Mi(),$i=Ri();function IR({key:e,value:t},r,n,i){let{allNullValues:s,doc:o,indent:a,indentStep:l,options:{commentString:c,indentSeq:f,simpleKeys:u}}=r,d=vt.isNode(e)&&e.comment||null;if(u){if(d)throw new Error("With simple keys, key nodes cannot have comments");if(vt.isCollection(e)||!vt.isNode(e)&&typeof e=="object"){let M="With simple keys, collection cannot be used as a key value";throw new Error(M)}}let p=!u&&(!e||d&&t==null&&!r.inFlow||vt.isCollection(e)||(vt.isScalar(e)?e.type===_E.Scalar.BLOCK_FOLDED||e.type===_E.Scalar.BLOCK_LITERAL:typeof e=="object"));r=Object.assign({},r,{allNullValues:!1,implicitKey:!p&&(u||!s),indent:a+l});let w=!1,g=!1,E=CE.stringify(e,r,()=>w=!0,()=>g=!0);if(!p&&!r.inFlow&&E.length>1024){if(u)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");p=!0}if(r.inFlow){if(s||t==null)return w&&n&&n(),E===""?"?":p?"? ".concat(E):E}else if(s&&!u||t==null&&p)return E="? ".concat(E),d&&!w?E+=$i.lineComment(E,r.indent,c(d)):g&&i&&i(),E;w&&(d=null),p?(d&&(E+=$i.lineComment(E,r.indent,c(d))),E="? ".concat(E,"\n").concat(a,":")):(E="".concat(E,":"),d&&(E+=$i.lineComment(E,r.indent,c(d))));let S,b,C;vt.isNode(t)?(S=!!t.spaceBefore,b=t.commentBefore,C=t.comment):(S=!1,b=null,C=null,t&&typeof t=="object"&&(t=o.createNode(t))),r.implicitKey=!1,!p&&!d&&vt.isScalar(t)&&(r.indentAtStart=E.length+1),g=!1,!f&&l.length>=2&&!r.inFlow&&!p&&vt.isSeq(t)&&!t.flow&&!t.tag&&!t.anchor&&(r.indent=r.indent.substring(2));let N=!1,R=CE.stringify(t,r,()=>N=!0,()=>g=!0),I=" ";if(d||S||b){if(I=S?"\n":"",b){let M=c(b);I+="\n".concat($i.indentComment(M,r.indent))}R===""&&!r.inFlow?I==="\n"&&(I="\n\n"):I+="\n".concat(r.indent)}else if(!p&&vt.isCollection(t)){let M=R[0],A=R.indexOf("\n"),O=A!==-1,$=r.inFlow??t.flow??t.items.length===0;if(O||!$){let x=!1;if(O&&(M==="&"||M==="!")){let B=R.indexOf(" ");M==="&"&&B!==-1&&B<A&&R[B+1]==="!"&&(B=R.indexOf(" ",B+1)),(B===-1||A<B)&&(x=!0)}x||(I="\n".concat(r.indent))}}else(R===""||R[0]==="\n")&&(I="");return E+=I+R,r.inFlow?N&&n&&n():C&&!N?E+=$i.lineComment(E,r.indent,c(C)):g&&i&&i(),E}TE.stringifyPair=IR});var nf=y(rf=>{"use strict";var OE=require("process");function PR(e,...t){e==="debug"&&console.log(...t)}function DR(e,t){(e==="debug"||e==="warn")&&(typeof OE.emitWarning=="function"?OE.emitWarning(t):console.warn(t))}rf.debug=PR;rf.warn=DR});var ma=y(pa=>{"use strict";var Bi=G(),IE=ce(),da="<<",ha={identify:e=>e===da||typeof e=="symbol"&&e.description===da,default:"key",tag:"tag:yaml.org,2002:merge",test:/^<<$/,resolve:()=>Object.assign(new IE.Scalar(Symbol(da)),{addToJSMap:PE}),stringify:()=>da},qR=(e,t)=>(ha.identify(t)||Bi.isScalar(t)&&(!t.type||t.type===IE.Scalar.PLAIN)&&ha.identify(t.value))&&e?.doc.schema.tags.some(r=>r.tag===ha.tag&&r.default);function PE(e,t,r){if(r=e&&Bi.isAlias(r)?r.resolve(e.doc):r,Bi.isSeq(r))for(let n of r.items)sf(e,t,n);else if(Array.isArray(r))for(let n of r)sf(e,t,n);else sf(e,t,r)}function sf(e,t,r){let n=e&&Bi.isAlias(r)?r.resolve(e.doc):r;if(!Bi.isMap(n))throw new Error("Merge sources must be maps or map aliases");let i=n.toJSON(null,e,Map);for(let[s,o]of i)t instanceof Map?t.has(s)||t.set(s,o):t instanceof Set?t.add(s):Object.prototype.hasOwnProperty.call(t,s)||Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0});return t}pa.addMergeToJSMap=PE;pa.isMergeKey=qR;pa.merge=ha});var af=y(LE=>{"use strict";var LR=nf(),DE=ma(),xR=Mi(),qE=G(),of=jt();function RR(e,t,{key:r,value:n}){if(qE.isNode(r)&&r.addToJSMap)r.addToJSMap(e,t,n);else if(DE.isMergeKey(e,r))DE.addMergeToJSMap(e,t,n);else{let i=of.toJS(r,"",e);if(t instanceof Map)t.set(i,of.toJS(n,i,e));else if(t instanceof Set)t.add(i);else{let s=kR(r,i,e),o=of.toJS(n,s,e);s in t?Object.defineProperty(t,s,{value:o,writable:!0,enumerable:!0,configurable:!0}):t[s]=o}}return t}function kR(e,t,r){if(t===null)return"";if(typeof t!="object")return String(t);if(qE.isNode(e)&&r?.doc){let n=xR.createStringifyContext(r.doc,{});n.anchors=new Set;for(let s of r.anchors.keys())n.anchors.add(s.anchor);n.inFlow=!0,n.inStringifyKey=!0;let i=e.toString(n);if(!r.mapKeyWarned){let s=JSON.stringify(i);s.length>40&&(s=s.substring(0,36)+'..."'),LR.warn(r.doc.options.logLevel,"Keys with collection values will be stringified due to JS Object restrictions: ".concat(s,". Set mapAsMap: true to use object keys.")),r.mapKeyWarned=!0}return i}return JSON.stringify(t)}LE.addPairToJSMap=RR});var Wt=y(lf=>{"use strict";var xE=xi(),FR=NE(),UR=af(),ga=G();function MR(e,t,r){let n=xE.createNode(e,void 0,r),i=xE.createNode(t,void 0,r);return new ya(n,i)}var ya=class e{constructor(t,r=null){Object.defineProperty(this,ga.NODE_TYPE,{value:ga.PAIR}),this.key=t,this.value=r}clone(t){let{key:r,value:n}=this;return ga.isNode(r)&&(r=r.clone(t)),ga.isNode(n)&&(n=n.clone(t)),new e(r,n)}toJSON(t,r){let n=r?.mapAsMap?new Map:{};return UR.addPairToJSMap(r,n,this)}toString(t,r,n){return t?.doc?FR.stringifyPair(this,t,r,n):JSON.stringify(this)}};lf.Pair=ya;lf.createPair=MR});var cf=y(kE=>{"use strict";var Cr=G(),RE=Mi(),Aa=Ri();function $R(e,t,r){return(t.inFlow??e.flow?jR:BR)(e,t,r)}function BR({comment:e,items:t},r,{blockItemPrefix:n,flowChars:i,itemIndent:s,onChompKeep:o,onComment:a}){let{indent:l,options:{commentString:c}}=r,f=Object.assign({},r,{indent:s,type:null}),u=!1,d=[];for(let w=0;w<t.length;++w){let g=t[w],E=null;if(Cr.isNode(g))!u&&g.spaceBefore&&d.push(""),wa(r,d,g.commentBefore,u),g.comment&&(E=g.comment);else if(Cr.isPair(g)){let b=Cr.isNode(g.key)?g.key:null;b&&(!u&&b.spaceBefore&&d.push(""),wa(r,d,b.commentBefore,u))}u=!1;let S=RE.stringify(g,f,()=>E=null,()=>u=!0);E&&(S+=Aa.lineComment(S,s,c(E))),u&&E&&(u=!1),d.push(n+S)}let p;if(d.length===0)p=i.start+i.end;else{p=d[0];for(let w=1;w<d.length;++w){let g=d[w];p+=g?"\n".concat(l).concat(g):"\n"}}return e?(p+="\n"+Aa.indentComment(c(e),l),a&&a()):u&&o&&o(),p}function jR({items:e},t,{flowChars:r,itemIndent:n}){let{indent:i,indentStep:s,flowCollectionPadding:o,options:{commentString:a}}=t;n+=s;let l=Object.assign({},t,{indent:n,inFlow:!0,type:null}),c=!1,f=0,u=[];for(let w=0;w<e.length;++w){let g=e[w],E=null;if(Cr.isNode(g))g.spaceBefore&&u.push(""),wa(t,u,g.commentBefore,!1),g.comment&&(E=g.comment);else if(Cr.isPair(g)){let b=Cr.isNode(g.key)?g.key:null;b&&(b.spaceBefore&&u.push(""),wa(t,u,b.commentBefore,!1),b.comment&&(c=!0));let C=Cr.isNode(g.value)?g.value:null;C?(C.comment&&(E=C.comment),C.commentBefore&&(c=!0)):g.value==null&&b?.comment&&(E=b.comment)}E&&(c=!0);let S=RE.stringify(g,l,()=>E=null);w<e.length-1&&(S+=","),E&&(S+=Aa.lineComment(S,n,a(E))),!c&&(u.length>f||S.includes("\n"))&&(c=!0),u.push(S),f=u.length}let{start:d,end:p}=r;if(u.length===0)return d+p;if(!c){let w=u.reduce((g,E)=>g+E.length+2,2);c=t.options.lineWidth>0&&w>t.options.lineWidth}if(c){let w=d;for(let g of u)w+=g?"\n".concat(s).concat(i).concat(g):"\n";return"".concat(w,"\n").concat(i).concat(p)}else return"".concat(d).concat(o).concat(u.join(" ")).concat(o).concat(p)}function wa({indent:e,options:{commentString:t}},r,n,i){if(n&&i&&(n=n.replace(/^\n+/,"")),n){let s=Aa.indentComment(t(n),e);r.push(s.trimStart())}}kE.stringifyCollection=$R});var Kt=y(ff=>{"use strict";var HR=cf(),VR=af(),GR=oa(),Yt=G(),Ea=Wt(),WR=ce();function ji(e,t){let r=Yt.isScalar(t)?t.value:t;for(let n of e)if(Yt.isPair(n)&&(n.key===t||n.key===r||Yt.isScalar(n.key)&&n.key.value===r))return n}var uf=class extends GR.Collection{static get tagName(){return"tag:yaml.org,2002:map"}constructor(t){super(Yt.MAP,t),this.items=[]}static from(t,r,n){let{keepUndefined:i,replacer:s}=n,o=new this(t),a=(l,c)=>{if(typeof s=="function")c=s.call(r,l,c);else if(Array.isArray(s)&&!s.includes(l))return;(c!==void 0||i)&&o.items.push(Ea.createPair(l,c,n))};if(r instanceof Map)for(let[l,c]of r)a(l,c);else if(r&&typeof r=="object")for(let l of Object.keys(r))a(l,r[l]);return typeof t.sortMapEntries=="function"&&o.items.sort(t.sortMapEntries),o}add(t,r){let n;Yt.isPair(t)?n=t:!t||typeof t!="object"||!("key"in t)?n=new Ea.Pair(t,t?.value):n=new Ea.Pair(t.key,t.value);let i=ji(this.items,n.key),s=this.schema?.sortMapEntries;if(i){if(!r)throw new Error("Key ".concat(n.key," already set"));Yt.isScalar(i.value)&&WR.isScalarValue(n.value)?i.value.value=n.value:i.value=n.value}else if(s){let o=this.items.findIndex(a=>s(n,a)<0);o===-1?this.items.push(n):this.items.splice(o,0,n)}else this.items.push(n)}delete(t){let r=ji(this.items,t);return r?this.items.splice(this.items.indexOf(r),1).length>0:!1}get(t,r){let i=ji(this.items,t)?.value;return(!r&&Yt.isScalar(i)?i.value:i)??void 0}has(t){return!!ji(this.items,t)}set(t,r){this.add(new Ea.Pair(t,r),!0)}toJSON(t,r,n){let i=n?new n:r?.mapAsMap?new Map:{};r?.onCreate&&r.onCreate(i);for(let s of this.items)VR.addPairToJSMap(r,i,s);return i}toString(t,r,n){if(!t)return JSON.stringify(this);for(let i of this.items)if(!Yt.isPair(i))throw new Error("Map items must all be pairs; found ".concat(JSON.stringify(i)," instead"));return!t.allNullValues&&this.hasAllNullValues(!1)&&(t=Object.assign({},t,{allNullValues:!0})),HR.stringifyCollection(this,t,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:t.indent||"",onChompKeep:n,onComment:r})}};ff.YAMLMap=uf;ff.findPair=ji});var vn=y(UE=>{"use strict";var YR=G(),FE=Kt(),KR={collection:"map",default:!0,nodeClass:FE.YAMLMap,tag:"tag:yaml.org,2002:map",resolve(e,t){return YR.isMap(e)||t("Expected a mapping for this tag"),e},createNode:(e,t,r)=>FE.YAMLMap.from(e,t,r)};UE.map=KR});var Qt=y(ME=>{"use strict";var QR=xi(),zR=cf(),XR=oa(),ba=G(),JR=ce(),ZR=jt(),df=class extends XR.Collection{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(t){super(ba.SEQ,t),this.items=[]}add(t){this.items.push(t)}delete(t){let r=va(t);return typeof r!="number"?!1:this.items.splice(r,1).length>0}get(t,r){let n=va(t);if(typeof n!="number")return;let i=this.items[n];return!r&&ba.isScalar(i)?i.value:i}has(t){let r=va(t);return typeof r=="number"&&r<this.items.length}set(t,r){let n=va(t);if(typeof n!="number")throw new Error("Expected a valid index, not ".concat(t,"."));let i=this.items[n];ba.isScalar(i)&&JR.isScalarValue(r)?i.value=r:this.items[n]=r}toJSON(t,r){let n=[];r?.onCreate&&r.onCreate(n);let i=0;for(let s of this.items)n.push(ZR.toJS(s,String(i++),r));return n}toString(t,r,n){return t?zR.stringifyCollection(this,t,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(t.indent||"")+"  ",onChompKeep:n,onComment:r}):JSON.stringify(this)}static from(t,r,n){let{replacer:i}=n,s=new this(t);if(r&&Symbol.iterator in Object(r)){let o=0;for(let a of r){if(typeof i=="function"){let l=r instanceof Set?a:String(o++);a=i.call(r,l,a)}s.items.push(QR.createNode(a,void 0,n))}}return s}};function va(e){let t=ba.isScalar(e)?e.value:e;return t&&typeof t=="string"&&(t=Number(t)),typeof t=="number"&&Number.isInteger(t)&&t>=0?t:null}ME.YAMLSeq=df});var bn=y(BE=>{"use strict";var ek=G(),$E=Qt(),tk={collection:"seq",default:!0,nodeClass:$E.YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(e,t){return ek.isSeq(e)||t("Expected a sequence for this tag"),e},createNode:(e,t,r)=>$E.YAMLSeq.from(e,t,r)};BE.seq=tk});var Hi=y(jE=>{"use strict";var rk=Ui(),nk={identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify(e,t,r,n){return t=Object.assign({actualString:!0},t),rk.stringifyString(e,t,r,n)}};jE.string=nk});var Sa=y(GE=>{"use strict";var HE=ce(),VE={identify:e=>e==null,createNode:()=>new HE.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new HE.Scalar(null),stringify:({source:e},t)=>typeof e=="string"&&VE.test.test(e)?e:t.options.nullStr};GE.nullTag=VE});var hf=y(YE=>{"use strict";var ik=ce(),WE={identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:e=>new ik.Scalar(e[0]==="t"||e[0]==="T"),stringify({source:e,value:t},r){if(e&&WE.test.test(e)){let n=e[0]==="t"||e[0]==="T";if(t===n)return e}return t?r.options.trueStr:r.options.falseStr}};YE.boolTag=WE});var Sn=y(KE=>{"use strict";function sk({format:e,minFractionDigits:t,tag:r,value:n}){if(typeof n=="bigint")return String(n);let i=typeof n=="number"?n:Number(n);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let s=JSON.stringify(n);if(!e&&t&&(!r||r==="tag:yaml.org,2002:float")&&/^\d/.test(s)){let o=s.indexOf(".");o<0&&(o=s.length,s+=".");let a=t-(s.length-o-1);for(;a-- >0;)s+="0"}return s}KE.stringifyNumber=sk});var mf=y(_a=>{"use strict";var ok=ce(),pf=Sn(),ak={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:pf.stringifyNumber},lk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():pf.stringifyNumber(e)}},ck={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(e){let t=new ok.Scalar(parseFloat(e)),r=e.indexOf(".");return r!==-1&&e[e.length-1]==="0"&&(t.minFractionDigits=e.length-r-1),t},stringify:pf.stringifyNumber};_a.float=ck;_a.floatExp=lk;_a.floatNaN=ak});var yf=y(Ta=>{"use strict";var QE=Sn(),Ca=e=>typeof e=="bigint"||Number.isInteger(e),gf=(e,t,r,{intAsBigInt:n})=>n?BigInt(e):parseInt(e.substring(t),r);function zE(e,t,r){let{value:n}=e;return Ca(n)&&n>=0?r+n.toString(t):QE.stringifyNumber(e)}var uk={identify:e=>Ca(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(e,t,r)=>gf(e,2,8,r),stringify:e=>zE(e,8,"0o")},fk={identify:Ca,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(e,t,r)=>gf(e,0,10,r),stringify:QE.stringifyNumber},dk={identify:e=>Ca(e)&&e>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(e,t,r)=>gf(e,2,16,r),stringify:e=>zE(e,16,"0x")};Ta.int=fk;Ta.intHex=dk;Ta.intOct=uk});var JE=y(XE=>{"use strict";var hk=vn(),pk=Sa(),mk=bn(),gk=Hi(),yk=hf(),Af=mf(),wf=yf(),Ak=[hk.map,mk.seq,gk.string,pk.nullTag,yk.boolTag,wf.intOct,wf.int,wf.intHex,Af.floatNaN,Af.floatExp,Af.float];XE.schema=Ak});var tv=y(ev=>{"use strict";var wk=ce(),Ek=vn(),vk=bn();function ZE(e){return typeof e=="bigint"||Number.isInteger(e)}var Na=({value:e})=>JSON.stringify(e),bk=[{identify:e=>typeof e=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:e=>e,stringify:Na},{identify:e=>e==null,createNode:()=>new wk.Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:Na},{identify:e=>typeof e=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true$|^false$/,resolve:e=>e==="true",stringify:Na},{identify:ZE,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(e,t,{intAsBigInt:r})=>r?BigInt(e):parseInt(e,10),stringify:({value:e})=>ZE(e)?e.toString():JSON.stringify(e)},{identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:e=>parseFloat(e),stringify:Na}],Sk={default:!0,tag:"",test:/^/,resolve(e,t){return t("Unresolved plain scalar ".concat(JSON.stringify(e))),e}},_k=[Ek.map,vk.seq].concat(bk,Sk);ev.schema=_k});var vf=y(rv=>{"use strict";var Vi=require("buffer"),Ef=ce(),Ck=Ui(),Tk={identify:e=>e instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(e,t){if(typeof Vi.Buffer=="function")return Vi.Buffer.from(e,"base64");if(typeof atob=="function"){let r=atob(e.replace(/[\n\r]/g,"")),n=new Uint8Array(r.length);for(let i=0;i<r.length;++i)n[i]=r.charCodeAt(i);return n}else return t("This environment does not support reading binary tags; either Buffer or atob is required"),e},stringify({comment:e,type:t,value:r},n,i,s){if(!r)return"";let o=r,a;if(typeof Vi.Buffer=="function")a=o instanceof Vi.Buffer?o.toString("base64"):Vi.Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let l="";for(let c=0;c<o.length;++c)l+=String.fromCharCode(o[c]);a=btoa(l)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(t??(t=Ef.Scalar.BLOCK_LITERAL),t!==Ef.Scalar.QUOTE_DOUBLE){let l=Math.max(n.options.lineWidth-n.indent.length,n.options.minContentWidth),c=Math.ceil(a.length/l),f=new Array(c);for(let u=0,d=0;u<c;++u,d+=l)f[u]=a.substr(d,l);a=f.join(t===Ef.Scalar.BLOCK_LITERAL?"\n":" ")}return Ck.stringifyString({comment:e,type:t,value:a},n,i,s)}};rv.binary=Tk});var Pa=y(Ia=>{"use strict";var Oa=G(),bf=Wt(),Nk=ce(),Ok=Qt();function nv(e,t){if(Oa.isSeq(e))for(let r=0;r<e.items.length;++r){let n=e.items[r];if(!Oa.isPair(n)){if(Oa.isMap(n)){n.items.length>1&&t("Each pair must have its own sequence indicator");let i=n.items[0]||new bf.Pair(new Nk.Scalar(null));if(n.commentBefore&&(i.key.commentBefore=i.key.commentBefore?"".concat(n.commentBefore,"\n").concat(i.key.commentBefore):n.commentBefore),n.comment){let s=i.value??i.key;s.comment=s.comment?"".concat(n.comment,"\n").concat(s.comment):n.comment}n=i}e.items[r]=Oa.isPair(n)?n:new bf.Pair(n)}}else t("Expected a sequence for this tag");return e}function iv(e,t,r){let{replacer:n}=r,i=new Ok.YAMLSeq(e);i.tag="tag:yaml.org,2002:pairs";let s=0;if(t&&Symbol.iterator in Object(t))for(let o of t){typeof n=="function"&&(o=n.call(t,String(s++),o));let a,l;if(Array.isArray(o))if(o.length===2)a=o[0],l=o[1];else throw new TypeError("Expected [key, value] tuple: ".concat(o));else if(o&&o instanceof Object){let c=Object.keys(o);if(c.length===1)a=c[0],l=o[a];else throw new TypeError("Expected tuple with one key, not ".concat(c.length," keys"))}else a=o;i.items.push(bf.createPair(a,l,r))}return i}var Ik={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:nv,createNode:iv};Ia.createPairs=iv;Ia.pairs=Ik;Ia.resolvePairs=nv});var Cf=y(_f=>{"use strict";var sv=G(),Sf=jt(),Gi=Kt(),Pk=Qt(),ov=Pa(),Tr=class e extends Pk.YAMLSeq{constructor(){super(),this.add=Gi.YAMLMap.prototype.add.bind(this),this.delete=Gi.YAMLMap.prototype.delete.bind(this),this.get=Gi.YAMLMap.prototype.get.bind(this),this.has=Gi.YAMLMap.prototype.has.bind(this),this.set=Gi.YAMLMap.prototype.set.bind(this),this.tag=e.tag}toJSON(t,r){if(!r)return super.toJSON(t);let n=new Map;r?.onCreate&&r.onCreate(n);for(let i of this.items){let s,o;if(sv.isPair(i)?(s=Sf.toJS(i.key,"",r),o=Sf.toJS(i.value,s,r)):s=Sf.toJS(i,"",r),n.has(s))throw new Error("Ordered maps must not include duplicate keys");n.set(s,o)}return n}static from(t,r,n){let i=ov.createPairs(t,r,n),s=new this;return s.items=i.items,s}};Tr.tag="tag:yaml.org,2002:omap";var Dk={collection:"seq",identify:e=>e instanceof Map,nodeClass:Tr,default:!1,tag:"tag:yaml.org,2002:omap",resolve(e,t){let r=ov.resolvePairs(e,t),n=[];for(let{key:i}of r.items)sv.isScalar(i)&&(n.includes(i.value)?t("Ordered maps must not include duplicate keys: ".concat(i.value)):n.push(i.value));return Object.assign(new Tr,r)},createNode:(e,t,r)=>Tr.from(e,t,r)};_f.YAMLOMap=Tr;_f.omap=Dk});var fv=y(Tf=>{"use strict";var av=ce();function lv({value:e,source:t},r){return t&&(e?cv:uv).test.test(t)?t:e?r.options.trueStr:r.options.falseStr}var cv={identify:e=>e===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new av.Scalar(!0),stringify:lv},uv={identify:e=>e===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,resolve:()=>new av.Scalar(!1),stringify:lv};Tf.falseTag=uv;Tf.trueTag=cv});var dv=y(Da=>{"use strict";var qk=ce(),Nf=Sn(),Lk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF)|\.nan|\.NaN|\.NAN)$/,resolve:e=>e.slice(-3).toLowerCase()==="nan"?NaN:e[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:Nf.stringifyNumber},xk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:e=>parseFloat(e.replace(/_/g,"")),stringify(e){let t=Number(e.value);return isFinite(t)?t.toExponential():Nf.stringifyNumber(e)}},Rk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(e){let t=new qk.Scalar(parseFloat(e.replace(/_/g,""))),r=e.indexOf(".");if(r!==-1){let n=e.substring(r+1).replace(/_/g,"");n[n.length-1]==="0"&&(t.minFractionDigits=n.length)}return t},stringify:Nf.stringifyNumber};Da.float=Rk;Da.floatExp=xk;Da.floatNaN=Lk});var pv=y(Yi=>{"use strict";var hv=Sn(),Wi=e=>typeof e=="bigint"||Number.isInteger(e);function qa(e,t,r,{intAsBigInt:n}){let i=e[0];if((i==="-"||i==="+")&&(t+=1),e=e.substring(t).replace(/_/g,""),n){switch(r){case 2:e="0b".concat(e);break;case 8:e="0o".concat(e);break;case 16:e="0x".concat(e);break}let o=BigInt(e);return i==="-"?BigInt(-1)*o:o}let s=parseInt(e,r);return i==="-"?-1*s:s}function Of(e,t,r){let{value:n}=e;if(Wi(n)){let i=n.toString(t);return n<0?"-"+r+i.substr(1):r+i}return hv.stringifyNumber(e)}var kk={identify:Wi,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(e,t,r)=>qa(e,2,2,r),stringify:e=>Of(e,2,"0b")},Fk={identify:Wi,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(e,t,r)=>qa(e,1,8,r),stringify:e=>Of(e,8,"0")},Uk={identify:Wi,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(e,t,r)=>qa(e,0,10,r),stringify:hv.stringifyNumber},Mk={identify:Wi,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(e,t,r)=>qa(e,2,16,r),stringify:e=>Of(e,16,"0x")};Yi.int=Uk;Yi.intBin=kk;Yi.intHex=Mk;Yi.intOct=Fk});var Pf=y(If=>{"use strict";var Ra=G(),La=Wt(),xa=Kt(),Nr=class e extends xa.YAMLMap{constructor(t){super(t),this.tag=e.tag}add(t){let r;Ra.isPair(t)?r=t:t&&typeof t=="object"&&"key"in t&&"value"in t&&t.value===null?r=new La.Pair(t.key,null):r=new La.Pair(t,null),xa.findPair(this.items,r.key)||this.items.push(r)}get(t,r){let n=xa.findPair(this.items,t);return!r&&Ra.isPair(n)?Ra.isScalar(n.key)?n.key.value:n.key:n}set(t,r){if(typeof r!="boolean")throw new Error("Expected boolean value for set(key, value) in a YAML set, not ".concat(typeof r));let n=xa.findPair(this.items,t);n&&!r?this.items.splice(this.items.indexOf(n),1):!n&&r&&this.items.push(new La.Pair(t))}toJSON(t,r){return super.toJSON(t,r,Set)}toString(t,r,n){if(!t)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},t,{allNullValues:!0}),r,n);throw new Error("Set items must all have null values")}static from(t,r,n){let{replacer:i}=n,s=new this(t);if(r&&Symbol.iterator in Object(r))for(let o of r)typeof i=="function"&&(o=i.call(r,o,o)),s.items.push(La.createPair(o,null,n));return s}};Nr.tag="tag:yaml.org,2002:set";var $k={collection:"map",identify:e=>e instanceof Set,nodeClass:Nr,default:!1,tag:"tag:yaml.org,2002:set",createNode:(e,t,r)=>Nr.from(e,t,r),resolve(e,t){if(Ra.isMap(e)){if(e.hasAllNullValues(!0))return Object.assign(new Nr,e);t("Set items must all have null values")}else t("Expected a mapping for this tag");return e}};If.YAMLSet=Nr;If.set=$k});var qf=y(ka=>{"use strict";var Bk=Sn();function Df(e,t){let r=e[0],n=r==="-"||r==="+"?e.substring(1):e,i=o=>t?BigInt(o):Number(o),s=n.replace(/_/g,"").split(":").reduce((o,a)=>o*i(60)+i(a),i(0));return r==="-"?i(-1)*s:s}function mv(e){let{value:t}=e,r=o=>o;if(typeof t=="bigint")r=o=>BigInt(o);else if(isNaN(t)||!isFinite(t))return Bk.stringifyNumber(e);let n="";t<0&&(n="-",t*=r(-1));let i=r(60),s=[t%i];return t<60?s.unshift(0):(t=(t-s[0])/i,s.unshift(t%i),t>=60&&(t=(t-s[0])/i,s.unshift(t))),n+s.map(o=>String(o).padStart(2,"0")).join(":").replace(/000000\d*$/,"")}var jk={identify:e=>typeof e=="bigint"||Number.isInteger(e),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(e,t,{intAsBigInt:r})=>Df(e,r),stringify:mv},Hk={identify:e=>typeof e=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:e=>Df(e,!1),stringify:mv},gv={identify:e=>e instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(e){let t=e.match(gv.test);if(!t)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");let[,r,n,i,s,o,a]=t.map(Number),l=t[7]?Number((t[7]+"00").substr(1,3)):0,c=Date.UTC(r,n-1,i,s||0,o||0,a||0,l),f=t[8];if(f&&f!=="Z"){let u=Df(f,!1);Math.abs(u)<30&&(u*=60),c-=6e4*u}return new Date(c)},stringify:({value:e})=>e?.toISOString().replace(/(T00:00:00)?\.000Z$/,"")??""};ka.floatTime=Hk;ka.intTime=jk;ka.timestamp=gv});var wv=y(Av=>{"use strict";var Vk=vn(),Gk=Sa(),Wk=bn(),Yk=Hi(),Kk=vf(),yv=fv(),Lf=dv(),Fa=pv(),Qk=ma(),zk=Cf(),Xk=Pa(),Jk=Pf(),xf=qf(),Zk=[Vk.map,Wk.seq,Yk.string,Gk.nullTag,yv.trueTag,yv.falseTag,Fa.intBin,Fa.intOct,Fa.int,Fa.intHex,Lf.floatNaN,Lf.floatExp,Lf.float,Kk.binary,Qk.merge,zk.omap,Xk.pairs,Jk.set,xf.intTime,xf.floatTime,xf.timestamp];Av.schema=Zk});var Iv=y(Ff=>{"use strict";var Sv=vn(),eF=Sa(),_v=bn(),tF=Hi(),rF=hf(),Rf=mf(),kf=yf(),nF=JE(),iF=tv(),Cv=vf(),Ki=ma(),Tv=Cf(),Nv=Pa(),Ev=wv(),Ov=Pf(),Ua=qf(),vv=new Map([["core",nF.schema],["failsafe",[Sv.map,_v.seq,tF.string]],["json",iF.schema],["yaml11",Ev.schema],["yaml-1.1",Ev.schema]]),bv={binary:Cv.binary,bool:rF.boolTag,float:Rf.float,floatExp:Rf.floatExp,floatNaN:Rf.floatNaN,floatTime:Ua.floatTime,int:kf.int,intHex:kf.intHex,intOct:kf.intOct,intTime:Ua.intTime,map:Sv.map,merge:Ki.merge,null:eF.nullTag,omap:Tv.omap,pairs:Nv.pairs,seq:_v.seq,set:Ov.set,timestamp:Ua.timestamp},sF={"tag:yaml.org,2002:binary":Cv.binary,"tag:yaml.org,2002:merge":Ki.merge,"tag:yaml.org,2002:omap":Tv.omap,"tag:yaml.org,2002:pairs":Nv.pairs,"tag:yaml.org,2002:set":Ov.set,"tag:yaml.org,2002:timestamp":Ua.timestamp};function oF(e,t,r){let n=vv.get(t);if(n&&!e)return r&&!n.includes(Ki.merge)?n.concat(Ki.merge):n.slice();let i=n;if(!i)if(Array.isArray(e))i=[];else{let s=Array.from(vv.keys()).filter(o=>o!=="yaml11").map(o=>JSON.stringify(o)).join(", ");throw new Error('Unknown schema "'.concat(t,'"; use one of ').concat(s," or define customTags array"))}if(Array.isArray(e))for(let s of e)i=i.concat(s);else typeof e=="function"&&(i=e(i.slice()));return r&&(i=i.concat(Ki.merge)),i.reduce((s,o)=>{let a=typeof o=="string"?bv[o]:o;if(!a){let l=JSON.stringify(o),c=Object.keys(bv).map(f=>JSON.stringify(f)).join(", ");throw new Error("Unknown custom tag ".concat(l,"; use one of ").concat(c))}return s.includes(a)||s.push(a),s},[])}Ff.coreKnownTags=sF;Ff.getTags=oF});var $f=y(Pv=>{"use strict";var Uf=G(),aF=vn(),lF=bn(),cF=Hi(),Ma=Iv(),uF=(e,t)=>e.key<t.key?-1:e.key>t.key?1:0,Mf=class e{constructor({compat:t,customTags:r,merge:n,resolveKnownTags:i,schema:s,sortMapEntries:o,toStringDefaults:a}){this.compat=Array.isArray(t)?Ma.getTags(t,"compat"):t?Ma.getTags(null,t):null,this.name=typeof s=="string"&&s||"core",this.knownTags=i?Ma.coreKnownTags:{},this.tags=Ma.getTags(r,this.name,n),this.toStringOptions=a??null,Object.defineProperty(this,Uf.MAP,{value:aF.map}),Object.defineProperty(this,Uf.SCALAR,{value:cF.string}),Object.defineProperty(this,Uf.SEQ,{value:lF.seq}),this.sortMapEntries=typeof o=="function"?o:o===!0?uF:null}clone(){let t=Object.create(e.prototype,Object.getOwnPropertyDescriptors(this));return t.tags=this.tags.slice(),t}};Pv.Schema=Mf});var qv=y(Dv=>{"use strict";var fF=G(),Bf=Mi(),Qi=Ri();function dF(e,t){let r=[],n=t.directives===!0;if(t.directives!==!1&&e.directives){let l=e.directives.toString(e);l?(r.push(l),n=!0):e.directives.docStart&&(n=!0)}n&&r.push("---");let i=Bf.createStringifyContext(e,t),{commentString:s}=i.options;if(e.commentBefore){r.length!==1&&r.unshift("");let l=s(e.commentBefore);r.unshift(Qi.indentComment(l,""))}let o=!1,a=null;if(e.contents){if(fF.isNode(e.contents)){if(e.contents.spaceBefore&&n&&r.push(""),e.contents.commentBefore){let f=s(e.contents.commentBefore);r.push(Qi.indentComment(f,""))}i.forceBlockIndent=!!e.comment,a=e.contents.comment}let l=a?void 0:()=>o=!0,c=Bf.stringify(e.contents,i,()=>a=null,l);a&&(c+=Qi.lineComment(c,"",s(a))),(c[0]==="|"||c[0]===">")&&r[r.length-1]==="---"?r[r.length-1]="--- ".concat(c):r.push(c)}else r.push(Bf.stringify(e.contents,i));if(e.directives?.docEnd)if(e.comment){let l=s(e.comment);l.includes("\n")?(r.push("..."),r.push(Qi.indentComment(l,""))):r.push("... ".concat(l))}else r.push("...");else{let l=e.comment;l&&o&&(l=l.replace(/^\n+/,"")),l&&((!o||a)&&r[r.length-1]!==""&&r.push(""),r.push(Qi.indentComment(s(l),"")))}return r.join("\n")+"\n"}Dv.stringifyDocument=dF});var zi=y(Lv=>{"use strict";var hF=Li(),_n=oa(),Ze=G(),pF=Wt(),mF=jt(),gF=$f(),yF=qv(),jf=ra(),AF=Gu(),wF=xi(),Hf=Vu(),Vf=class e{constructor(t,r,n){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,Ze.NODE_TYPE,{value:Ze.DOC});let i=null;typeof r=="function"||Array.isArray(r)?i=r:n===void 0&&r&&(n=r,r=void 0);let s=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,stringKeys:!1,uniqueKeys:!0,version:"1.2"},n);this.options=s;let{version:o}=s;n?._directives?(this.directives=n._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new Hf.Directives({version:o}),this.setSchema(o,n),this.contents=t===void 0?null:this.createNode(t,i,n)}clone(){let t=Object.create(e.prototype,{[Ze.NODE_TYPE]:{value:Ze.DOC}});return t.commentBefore=this.commentBefore,t.comment=this.comment,t.errors=this.errors.slice(),t.warnings=this.warnings.slice(),t.options=Object.assign({},this.options),this.directives&&(t.directives=this.directives.clone()),t.schema=this.schema.clone(),t.contents=Ze.isNode(this.contents)?this.contents.clone(t.schema):this.contents,this.range&&(t.range=this.range.slice()),t}add(t){Cn(this.contents)&&this.contents.add(t)}addIn(t,r){Cn(this.contents)&&this.contents.addIn(t,r)}createAlias(t,r){if(!t.anchor){let n=jf.anchorNames(this);t.anchor=!r||n.has(r)?jf.findNewAnchor(r||"a",n):r}return new hF.Alias(t.anchor)}createNode(t,r,n){let i;if(typeof r=="function")t=r.call({"":t},"",t),i=r;else if(Array.isArray(r)){let E=b=>typeof b=="number"||b instanceof String||b instanceof Number,S=r.filter(E).map(String);S.length>0&&(r=r.concat(S)),i=r}else n===void 0&&r&&(n=r,r=void 0);let{aliasDuplicateObjects:s,anchorPrefix:o,flow:a,keepUndefined:l,onTagObj:c,tag:f}=n??{},{onAnchor:u,setAnchors:d,sourceObjects:p}=jf.createNodeAnchors(this,o||"a"),w={aliasDuplicateObjects:s??!0,keepUndefined:l??!1,onAnchor:u,onTagObj:c,replacer:i,schema:this.schema,sourceObjects:p},g=wF.createNode(t,f,w);return a&&Ze.isCollection(g)&&(g.flow=!0),d(),g}createPair(t,r,n={}){let i=this.createNode(t,null,n),s=this.createNode(r,null,n);return new pF.Pair(i,s)}delete(t){return Cn(this.contents)?this.contents.delete(t):!1}deleteIn(t){return _n.isEmptyPath(t)?this.contents==null?!1:(this.contents=null,!0):Cn(this.contents)?this.contents.deleteIn(t):!1}get(t,r){return Ze.isCollection(this.contents)?this.contents.get(t,r):void 0}getIn(t,r){return _n.isEmptyPath(t)?!r&&Ze.isScalar(this.contents)?this.contents.value:this.contents:Ze.isCollection(this.contents)?this.contents.getIn(t,r):void 0}has(t){return Ze.isCollection(this.contents)?this.contents.has(t):!1}hasIn(t){return _n.isEmptyPath(t)?this.contents!==void 0:Ze.isCollection(this.contents)?this.contents.hasIn(t):!1}set(t,r){this.contents==null?this.contents=_n.collectionFromPath(this.schema,[t],r):Cn(this.contents)&&this.contents.set(t,r)}setIn(t,r){_n.isEmptyPath(t)?this.contents=r:this.contents==null?this.contents=_n.collectionFromPath(this.schema,Array.from(t),r):Cn(this.contents)&&this.contents.setIn(t,r)}setSchema(t,r={}){typeof t=="number"&&(t=String(t));let n;switch(t){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Hf.Directives({version:"1.1"}),n={resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=t:this.directives=new Hf.Directives({version:t}),n={resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,n=null;break;default:{let i=JSON.stringify(t);throw new Error("Expected '1.1', '1.2' or null as first argument, but found: ".concat(i))}}if(r.schema instanceof Object)this.schema=r.schema;else if(n)this.schema=new gF.Schema(Object.assign(n,r));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:t,jsonArg:r,mapAsMap:n,maxAliasCount:i,onAnchor:s,reviver:o}={}){let a={anchors:new Map,doc:this,keep:!t,mapAsMap:n===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100},l=mF.toJS(this.contents,r??"",a);if(typeof s=="function")for(let{count:c,res:f}of a.anchors.values())s(f,c);return typeof o=="function"?AF.applyReviver(o,{"":l},"",l):l}toJSON(t,r){return this.toJS({json:!0,jsonArg:t,mapAsMap:!1,onAnchor:r})}toString(t={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in t&&(!Number.isInteger(t.indent)||Number(t.indent)<=0)){let r=JSON.stringify(t.indent);throw new Error('"indent" option must be a positive integer, not '.concat(r))}return yF.stringifyDocument(this,t)}};function Cn(e){if(Ze.isCollection(e))return!0;throw new Error("Expected a YAML collection as document contents")}Lv.Document=Vf});var Zi=y(Ji=>{"use strict";var Xi=class extends Error{constructor(t,r,n,i){super(),this.name=t,this.code=n,this.message=i,this.pos=r}},Gf=class extends Xi{constructor(t,r,n){super("YAMLParseError",t,r,n)}},Wf=class extends Xi{constructor(t,r,n){super("YAMLWarning",t,r,n)}},EF=(e,t)=>r=>{if(r.pos[0]===-1)return;r.linePos=r.pos.map(a=>t.linePos(a));let{line:n,col:i}=r.linePos[0];r.message+=" at line ".concat(n,", column ").concat(i);let s=i-1,o=e.substring(t.lineStarts[n-1],t.lineStarts[n]).replace(/[\n\r]+$/,"");if(s>=60&&o.length>80){let a=Math.min(s-39,o.length-79);o="\u2026"+o.substring(a),s-=a-1}if(o.length>80&&(o=o.substring(0,79)+"\u2026"),n>1&&/^ *$/.test(o.substring(0,s))){let a=e.substring(t.lineStarts[n-2],t.lineStarts[n-1]);a.length>80&&(a=a.substring(0,79)+"\u2026\n"),o=a+o}if(/[^ ]/.test(o)){let a=1,l=r.linePos[1];l&&l.line===n&&l.col>i&&(a=Math.max(1,Math.min(l.col-i,80-s)));let c=" ".repeat(s)+"^".repeat(a);r.message+=":\n\n".concat(o,"\n").concat(c,"\n")}};Ji.YAMLError=Xi;Ji.YAMLParseError=Gf;Ji.YAMLWarning=Wf;Ji.prettifyError=EF});var es=y(xv=>{"use strict";function vF(e,{flow:t,indicator:r,next:n,offset:i,onError:s,parentIndent:o,startOnNewline:a}){let l=!1,c=a,f=a,u="",d="",p=!1,w=!1,g=null,E=null,S=null,b=null,C=null,N=null,R=null;for(let A of e)switch(w&&(A.type!=="space"&&A.type!=="newline"&&A.type!=="comma"&&s(A.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),w=!1),g&&(c&&A.type!=="comment"&&A.type!=="newline"&&s(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),g=null),A.type){case"space":!t&&(r!=="doc-start"||n?.type!=="flow-collection")&&A.source.includes("	")&&(g=A),f=!0;break;case"comment":{f||s(A,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let O=A.source.substring(1)||" ";u?u+=d+O:u=O,d="",c=!1;break}case"newline":c?u?u+=A.source:(!N||r!=="seq-item-ind")&&(l=!0):d+=A.source,c=!0,p=!0,(E||S)&&(b=A),f=!0;break;case"anchor":E&&s(A,"MULTIPLE_ANCHORS","A node can have at most one anchor"),A.source.endsWith(":")&&s(A.offset+A.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),E=A,R??(R=A.offset),c=!1,f=!1,w=!0;break;case"tag":{S&&s(A,"MULTIPLE_TAGS","A node can have at most one tag"),S=A,R??(R=A.offset),c=!1,f=!1,w=!0;break}case r:(E||S)&&s(A,"BAD_PROP_ORDER","Anchors and tags must be after the ".concat(A.source," indicator")),N&&s(A,"UNEXPECTED_TOKEN","Unexpected ".concat(A.source," in ").concat(t??"collection")),N=A,c=r==="seq-item-ind"||r==="explicit-key-ind",f=!1;break;case"comma":if(t){C&&s(A,"UNEXPECTED_TOKEN","Unexpected , in ".concat(t)),C=A,c=!1,f=!1;break}default:s(A,"UNEXPECTED_TOKEN","Unexpected ".concat(A.type," token")),c=!1,f=!1}let I=e[e.length-1],M=I?I.offset+I.source.length:i;return w&&n&&n.type!=="space"&&n.type!=="newline"&&n.type!=="comma"&&(n.type!=="scalar"||n.source!=="")&&s(n.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),g&&(c&&g.indent<=o||n?.type==="block-map"||n?.type==="block-seq")&&s(g,"TAB_AS_INDENT","Tabs are not allowed as indentation"),{comma:C,found:N,spaceBefore:l,comment:u,hasNewline:p,anchor:E,tag:S,newlineAfterProp:b,end:M,start:R??M}}xv.resolveProps=vF});var $a=y(Rv=>{"use strict";function Yf(e){if(!e)return null;switch(e.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(e.source.includes("\n"))return!0;if(e.end){for(let t of e.end)if(t.type==="newline")return!0}return!1;case"flow-collection":for(let t of e.items){for(let r of t.start)if(r.type==="newline")return!0;if(t.sep){for(let r of t.sep)if(r.type==="newline")return!0}if(Yf(t.key)||Yf(t.value))return!0}return!1;default:return!0}}Rv.containsNewline=Yf});var Kf=y(kv=>{"use strict";var bF=$a();function SF(e,t,r){if(t?.type==="flow-collection"){let n=t.end[0];n.indent===e&&(n.source==="]"||n.source==="}")&&bF.containsNewline(t)&&r(n,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}kv.flowIndentCheck=SF});var Qf=y(Uv=>{"use strict";var Fv=G();function _F(e,t,r){let{uniqueKeys:n}=e.options;if(n===!1)return!1;let i=typeof n=="function"?n:(s,o)=>s===o||Fv.isScalar(s)&&Fv.isScalar(o)&&s.value===o.value;return t.some(s=>i(s.key,r))}Uv.mapIncludes=_F});var Vv=y(Hv=>{"use strict";var Mv=Wt(),CF=Kt(),$v=es(),TF=$a(),Bv=Kf(),NF=Qf(),jv="All mapping items must start at the same column";function OF({composeNode:e,composeEmptyNode:t},r,n,i,s){let o=s?.nodeClass??CF.YAMLMap,a=new o(r.schema);r.atRoot&&(r.atRoot=!1);let l=n.offset,c=null;for(let f of n.items){let{start:u,key:d,sep:p,value:w}=f,g=$v.resolveProps(u,{indicator:"explicit-key-ind",next:d??p?.[0],offset:l,onError:i,parentIndent:n.indent,startOnNewline:!0}),E=!g.found;if(E){if(d&&(d.type==="block-seq"?i(l,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in d&&d.indent!==n.indent&&i(l,"BAD_INDENT",jv)),!g.anchor&&!g.tag&&!p){c=g.end,g.comment&&(a.comment?a.comment+="\n"+g.comment:a.comment=g.comment);continue}(g.newlineAfterProp||TF.containsNewline(d))&&i(d??u[u.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else g.found?.indent!==n.indent&&i(l,"BAD_INDENT",jv);r.atKey=!0;let S=g.end,b=d?e(r,d,g,i):t(r,S,u,null,g,i);r.schema.compat&&Bv.flowIndentCheck(n.indent,d,i),r.atKey=!1,NF.mapIncludes(r,a.items,b)&&i(S,"DUPLICATE_KEY","Map keys must be unique");let C=$v.resolveProps(p??[],{indicator:"map-value-ind",next:w,offset:b.range[2],onError:i,parentIndent:n.indent,startOnNewline:!d||d.type==="block-scalar"});if(l=C.end,C.found){E&&(w?.type==="block-map"&&!C.hasNewline&&i(l,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),r.options.strict&&g.start<C.found.offset-1024&&i(b.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));let N=w?e(r,w,C,i):t(r,l,p,null,C,i);r.schema.compat&&Bv.flowIndentCheck(n.indent,w,i),l=N.range[2];let R=new Mv.Pair(b,N);r.options.keepSourceTokens&&(R.srcToken=f),a.items.push(R)}else{E&&i(b.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),C.comment&&(b.comment?b.comment+="\n"+C.comment:b.comment=C.comment);let N=new Mv.Pair(b);r.options.keepSourceTokens&&(N.srcToken=f),a.items.push(N)}}return c&&c<l&&i(c,"IMPOSSIBLE","Map comment with trailing content"),a.range=[n.offset,l,c??l],a}Hv.resolveBlockMap=OF});var Wv=y(Gv=>{"use strict";var IF=Qt(),PF=es(),DF=Kf();function qF({composeNode:e,composeEmptyNode:t},r,n,i,s){let o=s?.nodeClass??IF.YAMLSeq,a=new o(r.schema);r.atRoot&&(r.atRoot=!1),r.atKey&&(r.atKey=!1);let l=n.offset,c=null;for(let{start:f,value:u}of n.items){let d=PF.resolveProps(f,{indicator:"seq-item-ind",next:u,offset:l,onError:i,parentIndent:n.indent,startOnNewline:!0});if(!d.found)if(d.anchor||d.tag||u)u&&u.type==="block-seq"?i(d.end,"BAD_INDENT","All sequence items must start at the same column"):i(l,"MISSING_CHAR","Sequence item without - indicator");else{c=d.end,d.comment&&(a.comment=d.comment);continue}let p=u?e(r,u,d,i):t(r,d.end,f,null,d,i);r.schema.compat&&DF.flowIndentCheck(n.indent,u,i),l=p.range[2],a.items.push(p)}return a.range=[n.offset,l,c??l],a}Gv.resolveBlockSeq=qF});var Tn=y(Yv=>{"use strict";function LF(e,t,r,n){let i="";if(e){let s=!1,o="";for(let a of e){let{source:l,type:c}=a;switch(c){case"space":s=!0;break;case"comment":{r&&!s&&n(a,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");let f=l.substring(1)||" ";i?i+=o+f:i=f,o="";break}case"newline":i&&(o+=l),s=!0;break;default:n(a,"UNEXPECTED_TOKEN","Unexpected ".concat(c," at node end"))}t+=l.length}}return{comment:i,offset:t}}Yv.resolveEnd=LF});var Xv=y(zv=>{"use strict";var xF=G(),RF=Wt(),Kv=Kt(),kF=Qt(),FF=Tn(),Qv=es(),UF=$a(),MF=Qf(),zf="Block collections are not allowed within flow collections",Xf=e=>e&&(e.type==="block-map"||e.type==="block-seq");function $F({composeNode:e,composeEmptyNode:t},r,n,i,s){let o=n.start.source==="{",a=o?"flow map":"flow sequence",l=s?.nodeClass??(o?Kv.YAMLMap:kF.YAMLSeq),c=new l(r.schema);c.flow=!0;let f=r.atRoot;f&&(r.atRoot=!1),r.atKey&&(r.atKey=!1);let u=n.offset+n.start.source.length;for(let E=0;E<n.items.length;++E){let S=n.items[E],{start:b,key:C,sep:N,value:R}=S,I=Qv.resolveProps(b,{flow:a,indicator:"explicit-key-ind",next:C??N?.[0],offset:u,onError:i,parentIndent:n.indent,startOnNewline:!1});if(!I.found){if(!I.anchor&&!I.tag&&!N&&!R){E===0&&I.comma?i(I.comma,"UNEXPECTED_TOKEN","Unexpected , in ".concat(a)):E<n.items.length-1&&i(I.start,"UNEXPECTED_TOKEN","Unexpected empty item in ".concat(a)),I.comment&&(c.comment?c.comment+="\n"+I.comment:c.comment=I.comment),u=I.end;continue}!o&&r.options.strict&&UF.containsNewline(C)&&i(C,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(E===0)I.comma&&i(I.comma,"UNEXPECTED_TOKEN","Unexpected , in ".concat(a));else if(I.comma||i(I.start,"MISSING_CHAR","Missing , between ".concat(a," items")),I.comment){let M="";e:for(let A of b)switch(A.type){case"comma":case"space":break;case"comment":M=A.source.substring(1);break e;default:break e}if(M){let A=c.items[c.items.length-1];xF.isPair(A)&&(A=A.value??A.key),A.comment?A.comment+="\n"+M:A.comment=M,I.comment=I.comment.substring(M.length+1)}}if(!o&&!N&&!I.found){let M=R?e(r,R,I,i):t(r,I.end,N,null,I,i);c.items.push(M),u=M.range[2],Xf(R)&&i(M.range,"BLOCK_IN_FLOW",zf)}else{r.atKey=!0;let M=I.end,A=C?e(r,C,I,i):t(r,M,b,null,I,i);Xf(C)&&i(A.range,"BLOCK_IN_FLOW",zf),r.atKey=!1;let O=Qv.resolveProps(N??[],{flow:a,indicator:"map-value-ind",next:R,offset:A.range[2],onError:i,parentIndent:n.indent,startOnNewline:!1});if(O.found){if(!o&&!I.found&&r.options.strict){if(N)for(let B of N){if(B===O.found)break;if(B.type==="newline"){i(B,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}I.start<O.found.offset-1024&&i(O.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else R&&("source"in R&&R.source&&R.source[0]===":"?i(R,"MISSING_CHAR","Missing space after : in ".concat(a)):i(O.start,"MISSING_CHAR","Missing , or : between ".concat(a," items")));let $=R?e(r,R,O,i):O.found?t(r,O.end,N,null,O,i):null;$?Xf(R)&&i($.range,"BLOCK_IN_FLOW",zf):O.comment&&(A.comment?A.comment+="\n"+O.comment:A.comment=O.comment);let x=new RF.Pair(A,$);if(r.options.keepSourceTokens&&(x.srcToken=S),o){let B=c;MF.mapIncludes(r,B.items,A)&&i(M,"DUPLICATE_KEY","Map keys must be unique"),B.items.push(x)}else{let B=new Kv.YAMLMap(r.schema);B.flow=!0,B.items.push(x);let ie=($??A).range;B.range=[A.range[0],ie[1],ie[2]],c.items.push(B)}u=$?$.range[2]:O.end}}let d=o?"}":"]",[p,...w]=n.end,g=u;if(p&&p.source===d)g=p.offset+p.source.length;else{let E=a[0].toUpperCase()+a.substring(1),S=f?"".concat(E," must end with a ").concat(d):"".concat(E," in block collection must be sufficiently indented and end with a ").concat(d);i(u,f?"MISSING_CHAR":"BAD_INDENT",S),p&&p.source.length!==1&&w.unshift(p)}if(w.length>0){let E=FF.resolveEnd(w,g,r.options.strict,i);E.comment&&(c.comment?c.comment+="\n"+E.comment:c.comment=E.comment),c.range=[n.offset,g,E.offset]}else c.range=[n.offset,g,g];return c}zv.resolveFlowCollection=$F});var Zv=y(Jv=>{"use strict";var BF=G(),jF=ce(),HF=Kt(),VF=Qt(),GF=Vv(),WF=Wv(),YF=Xv();function Jf(e,t,r,n,i,s){let o=r.type==="block-map"?GF.resolveBlockMap(e,t,r,n,s):r.type==="block-seq"?WF.resolveBlockSeq(e,t,r,n,s):YF.resolveFlowCollection(e,t,r,n,s),a=o.constructor;return i==="!"||i===a.tagName?(o.tag=a.tagName,o):(i&&(o.tag=i),o)}function KF(e,t,r,n,i){let s=n.tag,o=s?t.directives.tagName(s.source,d=>i(s,"TAG_RESOLVE_FAILED",d)):null;if(r.type==="block-seq"){let{anchor:d,newlineAfterProp:p}=n,w=d&&s?d.offset>s.offset?d:s:d??s;w&&(!p||p.offset<w.offset)&&i(w,"MISSING_CHAR","Missing newline after block sequence props")}let a=r.type==="block-map"?"map":r.type==="block-seq"?"seq":r.start.source==="{"?"map":"seq";if(!s||!o||o==="!"||o===HF.YAMLMap.tagName&&a==="map"||o===VF.YAMLSeq.tagName&&a==="seq")return Jf(e,t,r,i,o);let l=t.schema.tags.find(d=>d.tag===o&&d.collection===a);if(!l){let d=t.schema.knownTags[o];if(d&&d.collection===a)t.schema.tags.push(Object.assign({},d,{default:!1})),l=d;else return d?i(s,"BAD_COLLECTION_TYPE","".concat(d.tag," used for ").concat(a," collection, but expects ").concat(d.collection??"scalar"),!0):i(s,"TAG_RESOLVE_FAILED","Unresolved tag: ".concat(o),!0),Jf(e,t,r,i,o)}let c=Jf(e,t,r,i,o,l),f=l.resolve?.(c,d=>i(s,"TAG_RESOLVE_FAILED",d),t.options)??c,u=BF.isNode(f)?f:new jF.Scalar(f);return u.range=c.range,u.tag=o,l?.format&&(u.format=l.format),u}Jv.composeCollection=KF});var ed=y(eb=>{"use strict";var Zf=ce();function QF(e,t,r){let n=t.offset,i=zF(t,e.options.strict,r);if(!i)return{value:"",type:null,comment:"",range:[n,n,n]};let s=i.mode===">"?Zf.Scalar.BLOCK_FOLDED:Zf.Scalar.BLOCK_LITERAL,o=t.source?XF(t.source):[],a=o.length;for(let g=o.length-1;g>=0;--g){let E=o[g][1];if(E===""||E==="\r")a=g;else break}if(a===0){let g=i.chomp==="+"&&o.length>0?"\n".repeat(Math.max(1,o.length-1)):"",E=n+i.length;return t.source&&(E+=t.source.length),{value:g,type:s,comment:i.comment,range:[n,E,E]}}let l=t.indent+i.indent,c=t.offset+i.length,f=0;for(let g=0;g<a;++g){let[E,S]=o[g];if(S===""||S==="\r")i.indent===0&&E.length>l&&(l=E.length);else{E.length<l&&r(c+E.length,"MISSING_CHAR","Block scalars with more-indented leading empty lines must use an explicit indentation indicator"),i.indent===0&&(l=E.length),f=g,l===0&&!e.atRoot&&r(c,"BAD_INDENT","Block scalar values in collections must be indented");break}c+=E.length+S.length+1}for(let g=o.length-1;g>=a;--g)o[g][0].length>l&&(a=g+1);let u="",d="",p=!1;for(let g=0;g<f;++g)u+=o[g][0].slice(l)+"\n";for(let g=f;g<a;++g){let[E,S]=o[g];c+=E.length+S.length+1;let b=S[S.length-1]==="\r";if(b&&(S=S.slice(0,-1)),S&&E.length<l){let C=i.indent?"explicit indentation indicator":"first line",N="Block scalar lines must not be less indented than their ".concat(C);r(c-S.length-(b?2:1),"BAD_INDENT",N),E=""}s===Zf.Scalar.BLOCK_LITERAL?(u+=d+E.slice(l)+S,d="\n"):E.length>l||S[0]==="	"?(d===" "?d="\n":!p&&d==="\n"&&(d="\n\n"),u+=d+E.slice(l)+S,d="\n",p=!0):S===""?d==="\n"?u+="\n":d="\n":(u+=d+S,d=" ",p=!1)}switch(i.chomp){case"-":break;case"+":for(let g=a;g<o.length;++g)u+="\n"+o[g][0].slice(l);u[u.length-1]!=="\n"&&(u+="\n");break;default:u+="\n"}let w=n+i.length+t.source.length;return{value:u,type:s,comment:i.comment,range:[n,w,w]}}function zF({offset:e,props:t},r,n){if(t[0].type!=="block-scalar-header")return n(t[0],"IMPOSSIBLE","Block scalar header not found"),null;let{source:i}=t[0],s=i[0],o=0,a="",l=-1;for(let d=1;d<i.length;++d){let p=i[d];if(!a&&(p==="-"||p==="+"))a=p;else{let w=Number(p);!o&&w?o=w:l===-1&&(l=e+d)}}l!==-1&&n(l,"UNEXPECTED_TOKEN","Block scalar header includes extra characters: ".concat(i));let c=!1,f="",u=i.length;for(let d=1;d<t.length;++d){let p=t[d];switch(p.type){case"space":c=!0;case"newline":u+=p.source.length;break;case"comment":r&&!c&&n(p,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),u+=p.source.length,f=p.source.substring(1);break;case"error":n(p,"UNEXPECTED_TOKEN",p.message),u+=p.source.length;break;default:{let w="Unexpected token in block scalar header: ".concat(p.type);n(p,"UNEXPECTED_TOKEN",w);let g=p.source;g&&typeof g=="string"&&(u+=g.length)}}}return{mode:s,indent:o,chomp:a,comment:f,length:u}}function XF(e){let t=e.split(/\n( *)/),r=t[0],n=r.match(/^( *)/),s=[n?.[1]?[n[1],r.slice(n[1].length)]:["",r]];for(let o=1;o<t.length;o+=2)s.push([t[o],t[o+1]]);return s}eb.resolveBlockScalar=QF});var rd=y(rb=>{"use strict";var td=ce(),JF=Tn();function ZF(e,t,r){let{offset:n,type:i,source:s,end:o}=e,a,l,c=(d,p,w)=>r(n+d,p,w);switch(i){case"scalar":a=td.Scalar.PLAIN,l=e2(s,c);break;case"single-quoted-scalar":a=td.Scalar.QUOTE_SINGLE,l=t2(s,c);break;case"double-quoted-scalar":a=td.Scalar.QUOTE_DOUBLE,l=r2(s,c);break;default:return r(e,"UNEXPECTED_TOKEN","Expected a flow scalar value, but found: ".concat(i)),{value:"",type:null,comment:"",range:[n,n+s.length,n+s.length]}}let f=n+s.length,u=JF.resolveEnd(o,f,t,r);return{value:l,type:a,comment:u.comment,range:[n,f,u.offset]}}function e2(e,t){let r="";switch(e[0]){case"	":r="a tab character";break;case",":r="flow indicator character ,";break;case"%":r="directive indicator character %";break;case"|":case">":{r="block scalar indicator ".concat(e[0]);break}case"@":case"`":{r="reserved character ".concat(e[0]);break}}return r&&t(0,"BAD_SCALAR_START","Plain value cannot start with ".concat(r)),tb(e)}function t2(e,t){return(e[e.length-1]!=="'"||e.length===1)&&t(e.length,"MISSING_CHAR","Missing closing 'quote"),tb(e.slice(1,-1)).replace(/''/g,"'")}function tb(e){let t,r;try{t=new RegExp("(.*?)(?<![ 	])[ 	]*\r?\n","sy"),r=new RegExp("[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?\n","sy")}catch{t=/(.*?)[ \t]*\r?\n/sy,r=/[ \t]*(.*?)[ \t]*\r?\n/sy}let n=t.exec(e);if(!n)return e;let i=n[1],s=" ",o=t.lastIndex;for(r.lastIndex=o;n=r.exec(e);)n[1]===""?s==="\n"?i+=s:s="\n":(i+=s+n[1],s=" "),o=r.lastIndex;let a=/[ \t]*(.*)/sy;return a.lastIndex=o,n=a.exec(e),i+s+(n?.[1]??"")}function r2(e,t){let r="";for(let n=1;n<e.length-1;++n){let i=e[n];if(!(i==="\r"&&e[n+1]==="\n"))if(i==="\n"){let{fold:s,offset:o}=n2(e,n);r+=s,n=o}else if(i==="\\"){let s=e[++n],o=i2[s];if(o)r+=o;else if(s==="\n")for(s=e[n+1];s===" "||s==="	";)s=e[++n+1];else if(s==="\r"&&e[n+1]==="\n")for(s=e[++n+1];s===" "||s==="	";)s=e[++n+1];else if(s==="x"||s==="u"||s==="U"){let a={x:2,u:4,U:8}[s];r+=s2(e,n+1,a,t),n+=a}else{let a=e.substr(n-1,2);t(n-1,"BAD_DQ_ESCAPE","Invalid escape sequence ".concat(a)),r+=a}}else if(i===" "||i==="	"){let s=n,o=e[n+1];for(;o===" "||o==="	";)o=e[++n+1];o!=="\n"&&!(o==="\r"&&e[n+2]==="\n")&&(r+=n>s?e.slice(s,n+1):i)}else r+=i}return(e[e.length-1]!=='"'||e.length===1)&&t(e.length,"MISSING_CHAR",'Missing closing "quote'),r}function n2(e,t){let r="",n=e[t+1];for(;(n===" "||n==="	"||n==="\n"||n==="\r")&&!(n==="\r"&&e[t+2]!=="\n");)n==="\n"&&(r+="\n"),t+=1,n=e[t+1];return r||(r=" "),{fold:r,offset:t}}var i2={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:"\n",r:"\r",t:"	",v:"\v",N:"\x85",_:"\xA0",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function s2(e,t,r,n){let i=e.substr(t,r),o=i.length===r&&/^[0-9a-fA-F]+$/.test(i)?parseInt(i,16):NaN;if(isNaN(o)){let a=e.substr(t-2,r+2);return n(t-2,"BAD_DQ_ESCAPE","Invalid escape sequence ".concat(a)),a}return String.fromCodePoint(o)}rb.resolveFlowScalar=ZF});var sb=y(ib=>{"use strict";var Or=G(),nb=ce(),o2=ed(),a2=rd();function l2(e,t,r,n){let{value:i,type:s,comment:o,range:a}=t.type==="block-scalar"?o2.resolveBlockScalar(e,t,n):a2.resolveFlowScalar(t,e.options.strict,n),l=r?e.directives.tagName(r.source,u=>n(r,"TAG_RESOLVE_FAILED",u)):null,c;e.options.stringKeys&&e.atKey?c=e.schema[Or.SCALAR]:l?c=c2(e.schema,i,l,r,n):t.type==="scalar"?c=u2(e,i,t,n):c=e.schema[Or.SCALAR];let f;try{let u=c.resolve(i,d=>n(r??t,"TAG_RESOLVE_FAILED",d),e.options);f=Or.isScalar(u)?u:new nb.Scalar(u)}catch(u){let d=u instanceof Error?u.message:String(u);n(r??t,"TAG_RESOLVE_FAILED",d),f=new nb.Scalar(i)}return f.range=a,f.source=i,s&&(f.type=s),l&&(f.tag=l),c.format&&(f.format=c.format),o&&(f.comment=o),f}function c2(e,t,r,n,i){if(r==="!")return e[Or.SCALAR];let s=[];for(let a of e.tags)if(!a.collection&&a.tag===r)if(a.default&&a.test)s.push(a);else return a;for(let a of s)if(a.test?.test(t))return a;let o=e.knownTags[r];return o&&!o.collection?(e.tags.push(Object.assign({},o,{default:!1,test:void 0})),o):(i(n,"TAG_RESOLVE_FAILED","Unresolved tag: ".concat(r),r!=="tag:yaml.org,2002:str"),e[Or.SCALAR])}function u2({atKey:e,directives:t,schema:r},n,i,s){let o=r.tags.find(a=>(a.default===!0||e&&a.default==="key")&&a.test?.test(n))||r[Or.SCALAR];if(r.compat){let a=r.compat.find(l=>l.default&&l.test?.test(n))??r[Or.SCALAR];if(o.tag!==a.tag){let l=t.tagString(o.tag),c=t.tagString(a.tag),f="Value may be parsed as either ".concat(l," or ").concat(c);s(i,"TAG_RESOLVE_FAILED",f,!0)}}return o}ib.composeScalar=l2});var ab=y(ob=>{"use strict";function f2(e,t,r){if(t){r??(r=t.length);for(let n=r-1;n>=0;--n){let i=t[n];switch(i.type){case"space":case"comment":case"newline":e-=i.source.length;continue}for(i=t[++n];i?.type==="space";)e+=i.source.length,i=t[++n];break}}return e}ob.emptyScalarPosition=f2});var ub=y(id=>{"use strict";var d2=Li(),h2=G(),p2=Zv(),lb=sb(),m2=Tn(),g2=ab(),y2={composeNode:cb,composeEmptyNode:nd};function cb(e,t,r,n){let i=e.atKey,{spaceBefore:s,comment:o,anchor:a,tag:l}=r,c,f=!0;switch(t.type){case"alias":c=A2(e,t,n),(a||l)&&n(t,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":c=lb.composeScalar(e,t,l,n),a&&(c.anchor=a.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":c=p2.composeCollection(y2,e,t,r,n),a&&(c.anchor=a.source.substring(1));break;default:{let u=t.type==="error"?t.message:"Unsupported token (type: ".concat(t.type,")");n(t,"UNEXPECTED_TOKEN",u),c=nd(e,t.offset,void 0,null,r,n),f=!1}}return a&&c.anchor===""&&n(a,"BAD_ALIAS","Anchor cannot be an empty string"),i&&e.options.stringKeys&&(!h2.isScalar(c)||typeof c.value!="string"||c.tag&&c.tag!=="tag:yaml.org,2002:str")&&n(l??t,"NON_STRING_KEY","With stringKeys, all keys must be strings"),s&&(c.spaceBefore=!0),o&&(t.type==="scalar"&&t.source===""?c.comment=o:c.commentBefore=o),e.options.keepSourceTokens&&f&&(c.srcToken=t),c}function nd(e,t,r,n,{spaceBefore:i,comment:s,anchor:o,tag:a,end:l},c){let f={type:"scalar",offset:g2.emptyScalarPosition(t,r,n),indent:-1,source:""},u=lb.composeScalar(e,f,a,c);return o&&(u.anchor=o.source.substring(1),u.anchor===""&&c(o,"BAD_ALIAS","Anchor cannot be an empty string")),i&&(u.spaceBefore=!0),s&&(u.comment=s,u.range[2]=l),u}function A2({options:e},{offset:t,source:r,end:n},i){let s=new d2.Alias(r.substring(1));s.source===""&&i(t,"BAD_ALIAS","Alias cannot be an empty string"),s.source.endsWith(":")&&i(t+r.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);let o=t+r.length,a=m2.resolveEnd(n,o,e.strict,i);return s.range=[t,o,a.offset],a.comment&&(s.comment=a.comment),s}id.composeEmptyNode=nd;id.composeNode=cb});var hb=y(db=>{"use strict";var w2=zi(),fb=ub(),E2=Tn(),v2=es();function b2(e,t,{offset:r,start:n,value:i,end:s},o){let a=Object.assign({_directives:t},e),l=new w2.Document(void 0,a),c={atKey:!1,atRoot:!0,directives:l.directives,options:l.options,schema:l.schema},f=v2.resolveProps(n,{indicator:"doc-start",next:i??s?.[0],offset:r,onError:o,parentIndent:0,startOnNewline:!0});f.found&&(l.directives.docStart=!0,i&&(i.type==="block-map"||i.type==="block-seq")&&!f.hasNewline&&o(f.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),l.contents=i?fb.composeNode(c,i,f,o):fb.composeEmptyNode(c,f.end,n,null,f,o);let u=l.contents.range[2],d=E2.resolveEnd(s,u,!1,o);return d.comment&&(l.comment=d.comment),l.range=[r,u,d.offset],l}db.composeDoc=b2});var od=y(gb=>{"use strict";var S2=require("process"),_2=Vu(),C2=zi(),ts=Zi(),pb=G(),T2=hb(),N2=Tn();function rs(e){if(typeof e=="number")return[e,e+1];if(Array.isArray(e))return e.length===2?e:[e[0],e[1]];let{offset:t,source:r}=e;return[t,t+(typeof r=="string"?r.length:1)]}function mb(e){let t="",r=!1,n=!1;for(let i=0;i<e.length;++i){let s=e[i];switch(s[0]){case"#":t+=(t===""?"":n?"\n\n":"\n")+(s.substring(1)||" "),r=!0,n=!1;break;case"%":e[i+1]?.[0]!=="#"&&(i+=1),r=!1;break;default:r||(n=!0),r=!1}}return{comment:t,afterEmptyLine:n}}var sd=class{constructor(t={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(r,n,i,s)=>{let o=rs(r);s?this.warnings.push(new ts.YAMLWarning(o,n,i)):this.errors.push(new ts.YAMLParseError(o,n,i))},this.directives=new _2.Directives({version:t.version||"1.2"}),this.options=t}decorate(t,r){let{comment:n,afterEmptyLine:i}=mb(this.prelude);if(n){let s=t.contents;if(r)t.comment=t.comment?"".concat(t.comment,"\n").concat(n):n;else if(i||t.directives.docStart||!s)t.commentBefore=n;else if(pb.isCollection(s)&&!s.flow&&s.items.length>0){let o=s.items[0];pb.isPair(o)&&(o=o.key);let a=o.commentBefore;o.commentBefore=a?"".concat(n,"\n").concat(a):n}else{let o=s.commentBefore;s.commentBefore=o?"".concat(n,"\n").concat(o):n}}r?(Array.prototype.push.apply(t.errors,this.errors),Array.prototype.push.apply(t.warnings,this.warnings)):(t.errors=this.errors,t.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:mb(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(t,r=!1,n=-1){for(let i of t)yield*this.next(i);yield*this.end(r,n)}*next(t){switch(S2.env.LOG_STREAM&&console.dir(t,{depth:null}),t.type){case"directive":this.directives.add(t.source,(r,n,i)=>{let s=rs(t);s[0]+=r,this.onError(s,"BAD_DIRECTIVE",n,i)}),this.prelude.push(t.source),this.atDirectives=!0;break;case"document":{let r=T2.composeDoc(this.options,this.directives,t,this.onError);this.atDirectives&&!r.directives.docStart&&this.onError(t,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(r,!1),this.doc&&(yield this.doc),this.doc=r,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(t.source);break;case"error":{let r=t.source?"".concat(t.message,": ").concat(JSON.stringify(t.source)):t.message,n=new ts.YAMLParseError(rs(t),"UNEXPECTED_TOKEN",r);this.atDirectives||!this.doc?this.errors.push(n):this.doc.errors.push(n);break}case"doc-end":{if(!this.doc){let n="Unexpected doc-end without preceding document";this.errors.push(new ts.YAMLParseError(rs(t),"UNEXPECTED_TOKEN",n));break}this.doc.directives.docEnd=!0;let r=N2.resolveEnd(t.end,t.offset+t.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),r.comment){let n=this.doc.comment;this.doc.comment=n?"".concat(n,"\n").concat(r.comment):r.comment}this.doc.range[2]=r.offset;break}default:this.errors.push(new ts.YAMLParseError(rs(t),"UNEXPECTED_TOKEN","Unsupported token ".concat(t.type)))}}*end(t=!1,r=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(t){let n=Object.assign({_directives:this.directives},this.options),i=new C2.Document(void 0,n);this.atDirectives&&this.onError(r,"MISSING_CHAR","Missing directives-end indicator line"),i.range=[0,r,r],this.decorate(i,!1),yield i}}};gb.Composer=sd});var wb=y(Ba=>{"use strict";var O2=ed(),I2=rd(),P2=Zi(),yb=Ui();function D2(e,t=!0,r){if(e){let n=(i,s,o)=>{let a=typeof i=="number"?i:Array.isArray(i)?i[0]:i.offset;if(r)r(a,s,o);else throw new P2.YAMLParseError([a,a+1],s,o)};switch(e.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return I2.resolveFlowScalar(e,t,n);case"block-scalar":return O2.resolveBlockScalar({options:{strict:t}},e,n)}}return null}function q2(e,t){let{implicitKey:r=!1,indent:n,inFlow:i=!1,offset:s=-1,type:o="PLAIN"}=t,a=yb.stringifyString({type:o,value:e},{implicitKey:r,indent:n>0?" ".repeat(n):"",inFlow:i,options:{blockQuote:!0,lineWidth:-1}}),l=t.end??[{type:"newline",offset:-1,indent:n,source:"\n"}];switch(a[0]){case"|":case">":{let c=a.indexOf("\n"),f=a.substring(0,c),u=a.substring(c+1)+"\n",d=[{type:"block-scalar-header",offset:s,indent:n,source:f}];return Ab(d,l)||d.push({type:"newline",offset:-1,indent:n,source:"\n"}),{type:"block-scalar",offset:s,indent:n,props:d,source:u}}case'"':return{type:"double-quoted-scalar",offset:s,indent:n,source:a,end:l};case"'":return{type:"single-quoted-scalar",offset:s,indent:n,source:a,end:l};default:return{type:"scalar",offset:s,indent:n,source:a,end:l}}}function L2(e,t,r={}){let{afterKey:n=!1,implicitKey:i=!1,inFlow:s=!1,type:o}=r,a="indent"in e?e.indent:null;if(n&&typeof a=="number"&&(a+=2),!o)switch(e.type){case"single-quoted-scalar":o="QUOTE_SINGLE";break;case"double-quoted-scalar":o="QUOTE_DOUBLE";break;case"block-scalar":{let c=e.props[0];if(c.type!=="block-scalar-header")throw new Error("Invalid block scalar header");o=c.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:o="PLAIN"}let l=yb.stringifyString({type:o,value:t},{implicitKey:i||a===null,indent:a!==null&&a>0?" ".repeat(a):"",inFlow:s,options:{blockQuote:!0,lineWidth:-1}});switch(l[0]){case"|":case">":x2(e,l);break;case'"':ad(e,l,"double-quoted-scalar");break;case"'":ad(e,l,"single-quoted-scalar");break;default:ad(e,l,"scalar")}}function x2(e,t){let r=t.indexOf("\n"),n=t.substring(0,r),i=t.substring(r+1)+"\n";if(e.type==="block-scalar"){let s=e.props[0];if(s.type!=="block-scalar-header")throw new Error("Invalid block scalar header");s.source=n,e.source=i}else{let{offset:s}=e,o="indent"in e?e.indent:-1,a=[{type:"block-scalar-header",offset:s,indent:o,source:n}];Ab(a,"end"in e?e.end:void 0)||a.push({type:"newline",offset:-1,indent:o,source:"\n"});for(let l of Object.keys(e))l!=="type"&&l!=="offset"&&delete e[l];Object.assign(e,{type:"block-scalar",indent:o,props:a,source:i})}}function Ab(e,t){if(t)for(let r of t)switch(r.type){case"space":case"comment":e.push(r);break;case"newline":return e.push(r),!0}return!1}function ad(e,t,r){switch(e.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":e.type=r,e.source=t;break;case"block-scalar":{let n=e.props.slice(1),i=t.length;e.props[0].type==="block-scalar-header"&&(i-=e.props[0].source.length);for(let s of n)s.offset+=i;delete e.props,Object.assign(e,{type:r,source:t,end:n});break}case"block-map":case"block-seq":{let i={type:"newline",offset:e.offset+t.length,indent:e.indent,source:"\n"};delete e.items,Object.assign(e,{type:r,source:t,end:[i]});break}default:{let n="indent"in e?e.indent:-1,i="end"in e&&Array.isArray(e.end)?e.end.filter(s=>s.type==="space"||s.type==="comment"||s.type==="newline"):[];for(let s of Object.keys(e))s!=="type"&&s!=="offset"&&delete e[s];Object.assign(e,{type:r,indent:n,source:t,end:i})}}}Ba.createScalarToken=q2;Ba.resolveAsScalar=D2;Ba.setScalarValue=L2});var vb=y(Eb=>{"use strict";var R2=e=>"type"in e?Ha(e):ja(e);function Ha(e){switch(e.type){case"block-scalar":{let t="";for(let r of e.props)t+=Ha(r);return t+e.source}case"block-map":case"block-seq":{let t="";for(let r of e.items)t+=ja(r);return t}case"flow-collection":{let t=e.start.source;for(let r of e.items)t+=ja(r);for(let r of e.end)t+=r.source;return t}case"document":{let t=ja(e);if(e.end)for(let r of e.end)t+=r.source;return t}default:{let t=e.source;if("end"in e&&e.end)for(let r of e.end)t+=r.source;return t}}}function ja({start:e,key:t,sep:r,value:n}){let i="";for(let s of e)i+=s.source;if(t&&(i+=Ha(t)),r)for(let s of r)i+=s.source;return n&&(i+=Ha(n)),i}Eb.stringify=R2});var Cb=y(_b=>{"use strict";var ld=Symbol("break visit"),k2=Symbol("skip children"),bb=Symbol("remove item");function Ir(e,t){"type"in e&&e.type==="document"&&(e={start:e.start,value:e.value}),Sb(Object.freeze([]),e,t)}Ir.BREAK=ld;Ir.SKIP=k2;Ir.REMOVE=bb;Ir.itemAtPath=(e,t)=>{let r=e;for(let[n,i]of t){let s=r?.[n];if(s&&"items"in s)r=s.items[i];else return}return r};Ir.parentCollection=(e,t)=>{let r=Ir.itemAtPath(e,t.slice(0,-1)),n=t[t.length-1][0],i=r?.[n];if(i&&"items"in i)return i;throw new Error("Parent collection not found")};function Sb(e,t,r){let n=r(t,e);if(typeof n=="symbol")return n;for(let i of["key","value"]){let s=t[i];if(s&&"items"in s){for(let o=0;o<s.items.length;++o){let a=Sb(Object.freeze(e.concat([[i,o]])),s.items[o],r);if(typeof a=="number")o=a-1;else{if(a===ld)return ld;a===bb&&(s.items.splice(o,1),o-=1)}}typeof n=="function"&&i==="key"&&(n=n(t,e))}}return typeof n=="function"?n(t,e):n}_b.visit=Ir});var Va=y(He=>{"use strict";var cd=wb(),F2=vb(),U2=Cb(),ud="\uFEFF",fd="",dd="",hd="",M2=e=>!!e&&"items"in e,$2=e=>!!e&&(e.type==="scalar"||e.type==="single-quoted-scalar"||e.type==="double-quoted-scalar"||e.type==="block-scalar");function B2(e){switch(e){case ud:return"<BOM>";case fd:return"<DOC>";case dd:return"<FLOW_END>";case hd:return"<SCALAR>";default:return JSON.stringify(e)}}function j2(e){switch(e){case ud:return"byte-order-mark";case fd:return"doc-mode";case dd:return"flow-error-end";case hd:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case"\n":case"\r\n":return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(e[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}He.createScalarToken=cd.createScalarToken;He.resolveAsScalar=cd.resolveAsScalar;He.setScalarValue=cd.setScalarValue;He.stringify=F2.stringify;He.visit=U2.visit;He.BOM=ud;He.DOCUMENT=fd;He.FLOW_END=dd;He.SCALAR=hd;He.isCollection=M2;He.isScalar=$2;He.prettyToken=B2;He.tokenType=j2});var gd=y(Nb=>{"use strict";var ns=Va();function it(e){switch(e){case void 0:case" ":case"\n":case"\r":case"	":return!0;default:return!1}}var Tb=new Set("0123456789ABCDEFabcdef"),H2=new Set("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()"),Ga=new Set(",[]{}"),V2=new Set(" ,[]{}\n\r	"),pd=e=>!e||V2.has(e),md=class{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(t,r=!1){if(t){if(typeof t!="string")throw TypeError("source is not a string");this.buffer=this.buffer?this.buffer+t:t,this.lineEndPos=null}this.atEnd=!r;let n=this.next??"stream";for(;n&&(r||this.hasChars(1));)n=yield*this.parseNext(n)}atLineEnd(){let t=this.pos,r=this.buffer[t];for(;r===" "||r==="	";)r=this.buffer[++t];return!r||r==="#"||r==="\n"?!0:r==="\r"?this.buffer[t+1]==="\n":!1}charAt(t){return this.buffer[this.pos+t]}continueScalar(t){let r=this.buffer[t];if(this.indentNext>0){let n=0;for(;r===" ";)r=this.buffer[++n+t];if(r==="\r"){let i=this.buffer[n+t+1];if(i==="\n"||!i&&!this.atEnd)return t+n+1}return r==="\n"||n>=this.indentNext||!r&&!this.atEnd?t+n:-1}if(r==="-"||r==="."){let n=this.buffer.substr(t,3);if((n==="---"||n==="...")&&it(this.buffer[t+3]))return-1}return t}getLine(){let t=this.lineEndPos;return(typeof t!="number"||t!==-1&&t<this.pos)&&(t=this.buffer.indexOf("\n",this.pos),this.lineEndPos=t),t===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[t-1]==="\r"&&(t-=1),this.buffer.substring(this.pos,t))}hasChars(t){return this.pos+t<=this.buffer.length}setNext(t){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=t,null}peek(t){return this.buffer.substr(this.pos,t)}*parseNext(t){switch(t){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let t=this.getLine();if(t===null)return this.setNext("stream");if(t[0]===ns.BOM&&(yield*this.pushCount(1),t=t.substring(1)),t[0]==="%"){let r=t.length,n=t.indexOf("#");for(;n!==-1;){let s=t[n-1];if(s===" "||s==="	"){r=n-1;break}else n=t.indexOf("#",n+1)}for(;;){let s=t[r-1];if(s===" "||s==="	")r-=1;else break}let i=(yield*this.pushCount(r))+(yield*this.pushSpaces(!0));return yield*this.pushCount(t.length-i),this.pushNewline(),"stream"}if(this.atLineEnd()){let r=yield*this.pushSpaces(!0);return yield*this.pushCount(t.length-r),yield*this.pushNewline(),"stream"}return yield ns.DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){let t=this.charAt(0);if(!t&&!this.atEnd)return this.setNext("line-start");if(t==="-"||t==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");let r=this.peek(3);if((r==="---"||r==="...")&&it(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,r==="---"?"doc":"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!it(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){let[t,r]=this.peek(2);if(!r&&!this.atEnd)return this.setNext("block-start");if((t==="-"||t==="?"||t===":")&&it(r)){let n=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=n,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);let t=this.getLine();if(t===null)return this.setNext("doc");let r=yield*this.pushIndicators();switch(t[r]){case"#":yield*this.pushCount(t.length-r);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(pd),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return r+=yield*this.parseBlockScalarHeader(),r+=yield*this.pushSpaces(!0),yield*this.pushCount(t.length-r),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let t,r,n=-1;do t=yield*this.pushNewline(),t>0?(r=yield*this.pushSpaces(!1),this.indentValue=n=r):r=0,r+=yield*this.pushSpaces(!0);while(t+r>0);let i=this.getLine();if(i===null)return this.setNext("flow");if((n!==-1&&n<this.indentNext&&i[0]!=="#"||n===0&&(i.startsWith("---")||i.startsWith("..."))&&it(i[3]))&&!(n===this.indentNext-1&&this.flowLevel===1&&(i[0]==="]"||i[0]==="}")))return this.flowLevel=0,yield ns.FLOW_END,yield*this.parseLineStart();let s=0;for(;i[s]===",";)s+=yield*this.pushCount(1),s+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(s+=yield*this.pushIndicators(),i[s]){case void 0:return"flow";case"#":return yield*this.pushCount(i.length-s),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(pd),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{let o=this.charAt(1);if(this.flowKey||it(o)||o===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){let t=this.charAt(0),r=this.buffer.indexOf(t,this.pos+1);if(t==="'")for(;r!==-1&&this.buffer[r+1]==="'";)r=this.buffer.indexOf("'",r+2);else for(;r!==-1;){let s=0;for(;this.buffer[r-1-s]==="\\";)s+=1;if(s%2===0)break;r=this.buffer.indexOf('"',r+1)}let n=this.buffer.substring(0,r),i=n.indexOf("\n",this.pos);if(i!==-1){for(;i!==-1;){let s=this.continueScalar(i+1);if(s===-1)break;i=n.indexOf("\n",s)}i!==-1&&(r=i-(n[i-1]==="\r"?2:1))}if(r===-1){if(!this.atEnd)return this.setNext("quoted-scalar");r=this.buffer.length}return yield*this.pushToIndex(r+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let t=this.pos;for(;;){let r=this.buffer[++t];if(r==="+")this.blockScalarKeep=!0;else if(r>"0"&&r<="9")this.blockScalarIndent=Number(r)-1;else if(r!=="-")break}return yield*this.pushUntil(r=>it(r)||r==="#")}*parseBlockScalar(){let t=this.pos-1,r=0,n;e:for(let s=this.pos;n=this.buffer[s];++s)switch(n){case" ":r+=1;break;case"\n":t=s,r=0;break;case"\r":{let o=this.buffer[s+1];if(!o&&!this.atEnd)return this.setNext("block-scalar");if(o==="\n")break}default:break e}if(!n&&!this.atEnd)return this.setNext("block-scalar");if(r>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=r:this.indentNext=this.blockScalarIndent+(this.indentNext===0?1:this.indentNext);do{let s=this.continueScalar(t+1);if(s===-1)break;t=this.buffer.indexOf("\n",s)}while(t!==-1);if(t===-1){if(!this.atEnd)return this.setNext("block-scalar");t=this.buffer.length}}let i=t+1;for(n=this.buffer[i];n===" ";)n=this.buffer[++i];if(n==="	"){for(;n==="	"||n===" "||n==="\r"||n==="\n";)n=this.buffer[++i];t=i-1}else if(!this.blockScalarKeep)do{let s=t-1,o=this.buffer[s];o==="\r"&&(o=this.buffer[--s]);let a=s;for(;o===" ";)o=this.buffer[--s];if(o==="\n"&&s>=this.pos&&s+1+r>a)t=s;else break}while(!0);return yield ns.SCALAR,yield*this.pushToIndex(t+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){let t=this.flowLevel>0,r=this.pos-1,n=this.pos-1,i;for(;i=this.buffer[++n];)if(i===":"){let s=this.buffer[n+1];if(it(s)||t&&Ga.has(s))break;r=n}else if(it(i)){let s=this.buffer[n+1];if(i==="\r"&&(s==="\n"?(n+=1,i="\n",s=this.buffer[n+1]):r=n),s==="#"||t&&Ga.has(s))break;if(i==="\n"){let o=this.continueScalar(n+1);if(o===-1)break;n=Math.max(n,o-2)}}else{if(t&&Ga.has(i))break;r=n}return!i&&!this.atEnd?this.setNext("plain-scalar"):(yield ns.SCALAR,yield*this.pushToIndex(r+1,!0),t?"flow":"doc")}*pushCount(t){return t>0?(yield this.buffer.substr(this.pos,t),this.pos+=t,t):0}*pushToIndex(t,r){let n=this.buffer.slice(this.pos,t);return n?(yield n,this.pos+=n.length,n.length):(r&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(pd))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{let t=this.flowLevel>0,r=this.charAt(1);if(it(r)||t&&Ga.has(r))return t?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let t=this.pos+2,r=this.buffer[t];for(;!it(r)&&r!==">";)r=this.buffer[++t];return yield*this.pushToIndex(r===">"?t+1:t,!1)}else{let t=this.pos+1,r=this.buffer[t];for(;r;)if(H2.has(r))r=this.buffer[++t];else if(r==="%"&&Tb.has(this.buffer[t+1])&&Tb.has(this.buffer[t+2]))r=this.buffer[t+=3];else break;return yield*this.pushToIndex(t,!1)}}*pushNewline(){let t=this.buffer[this.pos];return t==="\n"?yield*this.pushCount(1):t==="\r"&&this.charAt(1)==="\n"?yield*this.pushCount(2):0}*pushSpaces(t){let r=this.pos-1,n;do n=this.buffer[++r];while(n===" "||t&&n==="	");let i=r-this.pos;return i>0&&(yield this.buffer.substr(this.pos,i),this.pos=r),i}*pushUntil(t){let r=this.pos,n=this.buffer[r];for(;!t(n);)n=this.buffer[++r];return yield*this.pushToIndex(r,!1)}};Nb.Lexer=md});var Ad=y(Ob=>{"use strict";var yd=class{constructor(){this.lineStarts=[],this.addNewLine=t=>this.lineStarts.push(t),this.linePos=t=>{let r=0,n=this.lineStarts.length;for(;r<n;){let s=r+n>>1;this.lineStarts[s]<t?r=s+1:n=s}if(this.lineStarts[r]===t)return{line:r+1,col:1};if(r===0)return{line:0,col:t};let i=this.lineStarts[r-1];return{line:r,col:t-i+1}}}};Ob.LineCounter=yd});var Ed=y(Lb=>{"use strict";var G2=require("process"),Ib=Va(),W2=gd();function zt(e,t){for(let r=0;r<e.length;++r)if(e[r].type===t)return!0;return!1}function Pb(e){for(let t=0;t<e.length;++t)switch(e[t].type){case"space":case"comment":case"newline":break;default:return t}return-1}function qb(e){switch(e?.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function Wa(e){switch(e.type){case"document":return e.start;case"block-map":{let t=e.items[e.items.length-1];return t.sep??t.start}case"block-seq":return e.items[e.items.length-1].start;default:return[]}}function Nn(e){if(e.length===0)return[];let t=e.length;e:for(;--t>=0;)switch(e[t].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;e[++t]?.type==="space";);return e.splice(t,e.length)}function Db(e){if(e.start.type==="flow-seq-start")for(let t of e.items)t.sep&&!t.value&&!zt(t.start,"explicit-key-ind")&&!zt(t.sep,"map-value-ind")&&(t.key&&(t.value=t.key),delete t.key,qb(t.value)?t.value.end?Array.prototype.push.apply(t.value.end,t.sep):t.value.end=t.sep:Array.prototype.push.apply(t.start,t.sep),delete t.sep)}var wd=class{constructor(t){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new W2.Lexer,this.onNewLine=t}*parse(t,r=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(let n of this.lexer.lex(t,r))yield*this.next(n);r||(yield*this.end())}*next(t){if(this.source=t,G2.env.LOG_TOKENS&&console.log("|",Ib.prettyToken(t)),this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=t.length;return}let r=Ib.tokenType(t);if(r)if(r==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=r,yield*this.step(),r){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+t.length);break;case"space":this.atNewLine&&t[0]===" "&&(this.indent+=t.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=t.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=t.length}else{let n="Not a YAML token: ".concat(t);yield*this.pop({type:"error",offset:this.offset,message:n,source:t}),this.offset+=t.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){let t=this.peek(1);if(this.type==="doc-end"&&(!t||t.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!t)return yield*this.stream();switch(t.type){case"document":return yield*this.document(t);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(t);case"block-scalar":return yield*this.blockScalar(t);case"block-map":return yield*this.blockMap(t);case"block-seq":return yield*this.blockSequence(t);case"flow-collection":return yield*this.flowCollection(t);case"doc-end":return yield*this.documentEnd(t)}yield*this.pop()}peek(t){return this.stack[this.stack.length-t]}*pop(t){let r=t??this.stack.pop();if(!r)yield{type:"error",offset:this.offset,source:"",message:"Tried to pop an empty stack"};else if(this.stack.length===0)yield r;else{let n=this.peek(1);switch(r.type==="block-scalar"?r.indent="indent"in n?n.indent:0:r.type==="flow-collection"&&n.type==="document"&&(r.indent=0),r.type==="flow-collection"&&Db(r),n.type){case"document":n.value=r;break;case"block-scalar":n.props.push(r);break;case"block-map":{let i=n.items[n.items.length-1];if(i.value){n.items.push({start:[],key:r,sep:[]}),this.onKeyLine=!0;return}else if(i.sep)i.value=r;else{Object.assign(i,{key:r,sep:[]}),this.onKeyLine=!i.explicitKey;return}break}case"block-seq":{let i=n.items[n.items.length-1];i.value?n.items.push({start:[],value:r}):i.value=r;break}case"flow-collection":{let i=n.items[n.items.length-1];!i||i.value?n.items.push({start:[],key:r,sep:[]}):i.sep?i.value=r:Object.assign(i,{key:r,sep:[]});return}default:yield*this.pop(),yield*this.pop(r)}if((n.type==="document"||n.type==="block-map"||n.type==="block-seq")&&(r.type==="block-map"||r.type==="block-seq")){let i=r.items[r.items.length-1];i&&!i.sep&&!i.value&&i.start.length>0&&Pb(i.start)===-1&&(r.indent===0||i.start.every(s=>s.type!=="comment"||s.indent<r.indent))&&(n.type==="document"?n.end=i.start:n.items.push({start:i.start}),r.items.splice(-1,1))}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{let t={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&t.start.push(this.sourceToken),this.stack.push(t);return}}yield{type:"error",offset:this.offset,message:"Unexpected ".concat(this.type," token in YAML stream"),source:this.source}}*document(t){if(t.value)return yield*this.lineEnd(t);switch(this.type){case"doc-start":{Pb(t.start)!==-1?(yield*this.pop(),yield*this.step()):t.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":t.start.push(this.sourceToken);return}let r=this.startBlockValue(t);r?this.stack.push(r):yield{type:"error",offset:this.offset,message:"Unexpected ".concat(this.type," token in YAML document"),source:this.source}}*scalar(t){if(this.type==="map-value-ind"){let r=Wa(this.peek(2)),n=Nn(r),i;t.end?(i=t.end,i.push(this.sourceToken),delete t.end):i=[this.sourceToken];let s={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:n,key:t,sep:i}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=s}else yield*this.lineEnd(t)}*blockScalar(t){switch(this.type){case"space":case"comment":case"newline":t.props.push(this.sourceToken);return;case"scalar":if(t.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let r=this.source.indexOf("\n")+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf("\n",r)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(t){let r=t.items[t.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,r.value){let n="end"in r.value?r.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else if(r.sep)r.sep.push(this.sourceToken);else{if(this.atIndentedComment(r.start,t.indent)){let i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,r.start),i.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return}if(this.indent>=t.indent){let n=!this.onKeyLine&&this.indent===t.indent,i=n&&(r.sep||r.explicitKey)&&this.type!=="seq-item-ind",s=[];if(i&&r.sep&&!r.value){let o=[];for(let a=0;a<r.sep.length;++a){let l=r.sep[a];switch(l.type){case"newline":o.push(a);break;case"space":break;case"comment":l.indent>t.indent&&(o.length=0);break;default:o.length=0}}o.length>=2&&(s=r.sep.splice(o[1]))}switch(this.type){case"anchor":case"tag":i||r.value?(s.push(this.sourceToken),t.items.push({start:s}),this.onKeyLine=!0):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"explicit-key-ind":!r.sep&&!r.explicitKey?(r.start.push(this.sourceToken),r.explicitKey=!0):i||r.value?(s.push(this.sourceToken),t.items.push({start:s,explicitKey:!0})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken],explicitKey:!0}]}),this.onKeyLine=!0;return;case"map-value-ind":if(r.explicitKey)if(r.sep)if(r.value)t.items.push({start:[],key:null,sep:[this.sourceToken]});else if(zt(r.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:s,key:null,sep:[this.sourceToken]}]});else if(qb(r.key)&&!zt(r.sep,"newline")){let o=Nn(r.start),a=r.key,l=r.sep;l.push(this.sourceToken),delete r.key,delete r.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:a,sep:l}]})}else s.length>0?r.sep=r.sep.concat(s,this.sourceToken):r.sep.push(this.sourceToken);else if(zt(r.start,"newline"))Object.assign(r,{key:null,sep:[this.sourceToken]});else{let o=Nn(r.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:o,key:null,sep:[this.sourceToken]}]})}else r.sep?r.value||i?t.items.push({start:s,key:null,sep:[this.sourceToken]}):zt(r.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let o=this.flowScalar(this.type);i||r.value?(t.items.push({start:s,key:o,sep:[]}),this.onKeyLine=!0):r.sep?this.stack.push(o):(Object.assign(r,{key:o,sep:[]}),this.onKeyLine=!0);return}default:{let o=this.startBlockValue(t);if(o){if(o.type==="block-seq"){if(!r.explicitKey&&r.sep&&!zt(r.sep,"newline")){yield*this.pop({type:"error",offset:this.offset,message:"Unexpected block-seq-ind on same line with key",source:this.source});return}}else n&&t.items.push({start:s});this.stack.push(o);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(t){let r=t.items[t.items.length-1];switch(this.type){case"newline":if(r.value){let n="end"in r.value?r.value.end:void 0;(Array.isArray(n)?n[n.length-1]:void 0)?.type==="comment"?n?.push(this.sourceToken):t.items.push({start:[this.sourceToken]})}else r.start.push(this.sourceToken);return;case"space":case"comment":if(r.value)t.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(r.start,t.indent)){let i=t.items[t.items.length-2]?.value?.end;if(Array.isArray(i)){Array.prototype.push.apply(i,r.start),i.push(this.sourceToken),t.items.pop();return}}r.start.push(this.sourceToken)}return;case"anchor":case"tag":if(r.value||this.indent<=t.indent)break;r.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==t.indent)break;r.value||zt(r.start,"seq-item-ind")?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return}if(this.indent>t.indent){let n=this.startBlockValue(t);if(n){this.stack.push(n);return}}yield*this.pop(),yield*this.step()}*flowCollection(t){let r=t.items[t.items.length-1];if(this.type==="flow-error-end"){let n;do yield*this.pop(),n=this.peek(1);while(n&&n.type==="flow-collection")}else if(t.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!r||r.sep?t.items.push({start:[this.sourceToken]}):r.start.push(this.sourceToken);return;case"map-value-ind":!r||r.value?t.items.push({start:[],key:null,sep:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):Object.assign(r,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!r||r.value?t.items.push({start:[this.sourceToken]}):r.sep?r.sep.push(this.sourceToken):r.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{let i=this.flowScalar(this.type);!r||r.value?t.items.push({start:[],key:i,sep:[]}):r.sep?this.stack.push(i):Object.assign(r,{key:i,sep:[]});return}case"flow-map-end":case"flow-seq-end":t.end.push(this.sourceToken);return}let n=this.startBlockValue(t);n?this.stack.push(n):(yield*this.pop(),yield*this.step())}else{let n=this.peek(2);if(n.type==="block-map"&&(this.type==="map-value-ind"&&n.indent===t.indent||this.type==="newline"&&!n.items[n.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&n.type!=="flow-collection"){let i=Wa(n),s=Nn(i);Db(t);let o=t.end.splice(1,t.end.length);o.push(this.sourceToken);let a={type:"block-map",offset:t.offset,indent:t.indent,items:[{start:s,key:t,sep:o}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=a}else yield*this.lineEnd(t)}}flowScalar(t){if(this.onNewLine){let r=this.source.indexOf("\n")+1;for(;r!==0;)this.onNewLine(this.offset+r),r=this.source.indexOf("\n",r)+1}return{type:t,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(t){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;let r=Wa(t),n=Nn(r);return n.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,explicitKey:!0}]}}case"map-value-ind":{this.onKeyLine=!0;let r=Wa(t),n=Nn(r);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:n,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(t,r){return this.type!=="comment"||this.indent<=r?!1:t.every(n=>n.type==="newline"||n.type==="space")}*documentEnd(t){this.type!=="doc-mode"&&(t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(t){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:t.end?t.end.push(this.sourceToken):t.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}};Lb.Parser=wd});var Ub=y(ss=>{"use strict";var xb=od(),Y2=zi(),is=Zi(),K2=nf(),Q2=G(),z2=Ad(),Rb=Ed();function kb(e){let t=e.prettyErrors!==!1;return{lineCounter:e.lineCounter||t&&new z2.LineCounter||null,prettyErrors:t}}function X2(e,t={}){let{lineCounter:r,prettyErrors:n}=kb(t),i=new Rb.Parser(r?.addNewLine),s=new xb.Composer(t),o=Array.from(s.compose(i.parse(e)));if(n&&r)for(let a of o)a.errors.forEach(is.prettifyError(e,r)),a.warnings.forEach(is.prettifyError(e,r));return o.length>0?o:Object.assign([],{empty:!0},s.streamInfo())}function Fb(e,t={}){let{lineCounter:r,prettyErrors:n}=kb(t),i=new Rb.Parser(r?.addNewLine),s=new xb.Composer(t),o=null;for(let a of s.compose(i.parse(e),!0,e.length))if(!o)o=a;else if(o.options.logLevel!=="silent"){o.errors.push(new is.YAMLParseError(a.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return n&&r&&(o.errors.forEach(is.prettifyError(e,r)),o.warnings.forEach(is.prettifyError(e,r))),o}function J2(e,t,r){let n;typeof t=="function"?n=t:r===void 0&&t&&typeof t=="object"&&(r=t);let i=Fb(e,r);if(!i)return null;if(i.warnings.forEach(s=>K2.warn(i.options.logLevel,s)),i.errors.length>0){if(i.options.logLevel!=="silent")throw i.errors[0];i.errors=[]}return i.toJS(Object.assign({reviver:n},r))}function Z2(e,t,r){let n=null;if(typeof t=="function"||Array.isArray(t)?n=t:r===void 0&&t&&(r=t),typeof r=="string"&&(r=r.length),typeof r=="number"){let i=Math.round(r);r=i<1?void 0:i>8?{indent:8}:{indent:i}}if(e===void 0){let{keepUndefined:i}=r??t??{};if(!i)return}return Q2.isDocument(e)&&!n?e.toString(r):new Y2.Document(e,n,r).toString(r)}ss.parse=J2;ss.parseAllDocuments=X2;ss.parseDocument=Fb;ss.stringify=Z2});var $b=y(Y=>{"use strict";var eU=od(),tU=zi(),rU=$f(),vd=Zi(),nU=Li(),Xt=G(),iU=Wt(),sU=ce(),oU=Kt(),aU=Qt(),lU=Va(),cU=gd(),uU=Ad(),fU=Ed(),Ya=Ub(),Mb=Ii();Y.Composer=eU.Composer;Y.Document=tU.Document;Y.Schema=rU.Schema;Y.YAMLError=vd.YAMLError;Y.YAMLParseError=vd.YAMLParseError;Y.YAMLWarning=vd.YAMLWarning;Y.Alias=nU.Alias;Y.isAlias=Xt.isAlias;Y.isCollection=Xt.isCollection;Y.isDocument=Xt.isDocument;Y.isMap=Xt.isMap;Y.isNode=Xt.isNode;Y.isPair=Xt.isPair;Y.isScalar=Xt.isScalar;Y.isSeq=Xt.isSeq;Y.Pair=iU.Pair;Y.Scalar=sU.Scalar;Y.YAMLMap=oU.YAMLMap;Y.YAMLSeq=aU.YAMLSeq;Y.CST=lU;Y.Lexer=cU.Lexer;Y.LineCounter=uU.LineCounter;Y.Parser=fU.Parser;Y.parse=Ya.parse;Y.parseAllDocuments=Ya.parseAllDocuments;Y.parseDocument=Ya.parseDocument;Y.stringify=Ya.stringify;Y.visit=Mb.visit;Y.visitAsync=Mb.visitAsync});var Wb=y((vH,Gb)=>{var{shell:Bb,dialog:dU}=require("electron"),{execSync:bd,spawn:hU}=require("child_process"),{stringify:pU}=$b(),jb=require("crypto"),Hb=require("path"),Sd=require("os"),Jt=require("fs"),mU=Ci(),Te=kr(),gU=Mu(),On,In,Pn,Zt,Pr,os,Vb;Gb.exports=(Vb=class extends mU{constructor(r){super(r);V(this,Pr);V(this,On,null);V(this,In,null);V(this,Pn,null);V(this,Zt,null);q(this,"getOS",()=>{if(typeof T(this,Zt)!="string")switch(process.platform){case Te.MACOS:H(this,Zt,"macos");break;case Te.WINDOWS:H(this,Zt,"windows");break;case Te.LINUX:H(this,Zt,"linux");break}return T(this,Zt)});q(this,"getName",()=>{if(typeof T(this,In)!="string"){let r=null;switch(process.platform){case Te.MACOS:r="echo $(scutil --get LocalHostName).local";break;case Te.WINDOWS:case Te.LINUX:r="hostname";break}if(r!==null)try{let n=bd(r).toString();H(this,In,n.replace(/[\r\n\s]+/g,"").toLowerCase())}catch{}}return T(this,In)});q(this,"getUUID",()=>{if(typeof T(this,On)!="string"){let r=null,n=process.arch==="ia32"&&process.env.hasOwnProperty("PROCESSOR_ARCHITEW6432")?"%windir%\\sysnative\\cmd.exe /c %windir%\\System32":"%windir%\\System32";switch(process.platform){case Te.MACOS:r="ioreg -rd1 -c IOPlatformExpertDevice";break;case Te.WINDOWS:r="".concat(n,"\\REG.exe")+" QUERY HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography /v MachineGuid";break;case Te.LINUX:r="( cat /var/lib/dbus/machine-id /etc/machine-id 2> /dev/null || hostname ) | head -n 1 || :";break}if(r!==null)try{let i=bd(r).toString();switch(process.platform){case Te.MACOS:i=i.replace(/^.*?\bIOPlatformUUID"\s*=\s*"(.*?)".*$/gs,"$1");break;case Te.WINDOWS:i=i.split("REG_SZ")[1];break}i=i.replace(/[\r\n\s]+/g,"");let s=jb.createHash("md5").update([i,i,i].join("::")).digest("hex");H(this,On,[s.slice(0,8),s.slice(8,12),s.slice(12,16),s.slice(16,20),s.slice(20)].join("-"))}catch{}}return T(this,On)});q(this,"getSerialNumber",()=>{if(typeof T(this,Pn)!="string"){let r=null;switch(process.platform){case Te.MACOS:r="ioreg -l | grep IOPlatformSerialNumber";break;case Te.WINDOWS:r='powershell -Command "(Get-CimInstance -ClassName Win32_BIOS).SerialNumber"';break;case Te.LINUX:r='lsblk -o UUID -n /dev/sda* | grep -v "^$" | grep -vE "^.{,20}$" | sed -n 1p';break}if(r!==null)try{let n=bd(r).toString();switch(process.platform){case Te.MACOS:n=n.replace(/^.*?\bIOPlatformSerialNumber"\s*=\s*"(.*?)".*$/gs,"$1");break}n=n.replace(/[\r\n\s]+/g,"");let i=jb.createHash("md5").update([n,n,n].join("::")).digest("hex");H(this,Pn,[i.slice(0,8),i.slice(8,12),i.slice(12,16),i.slice(16,20),i.slice(20)].join("-"))}catch{}}return T(this,Pn)});q(this,"getRam",()=>Math.ceil(Sd.totalmem()/1024**3));q(this,"getCpuArch",()=>Sd.arch());q(this,"getCpuName",()=>{let r="",n=Sd.cpus();return Array.isArray(n)&&n.length&&(r=n[0].model),r});q(this,"getFileSize",r=>{if(typeof r!="string"||!Jt.existsSync(r))return null;let n=Jt.statSync(r);if(!n.isFile())return null;let i=s=>{if(!Number.isInteger(s)||s<=0)return"0B";let o=Math.floor(Math.log(s)/Math.log(1024)),a=s/Math.pow(1024,o);return"".concat(a.toFixed(s<1024?0:1)," ").concat(["B","KiB","MiB","GiB","TiB"][o])};return{int:n.size,string:i(n.size)}});q(this,"setPostAuth",r=>this._dos.setPostAuth(!!r));q(this,"getPostAuth",()=>this._dos.getPostAuth());q(this,"showFileInFolder",r=>{let n=!1;do{if(typeof r!="string"||!r.length)break;r=decodeURIComponent(r),Te.WINDOWS===process.platform&&(r=r.replace(/^[\/\\]+/,""));try{if(!Jt.existsSync(r))break;Bb.showItemInFolder(r),n=!0}catch{}}while(!1);return n});q(this,"showFileSelector",async(r,n=[],i=!1)=>{let s=[];n=(Array.isArray(n)?n:[]).map(a=>"".concat(a).replace(/^\.+/g,"").trim()).filter(Boolean);let o=await dU.showOpenDialog({properties:["openFile",...i?["multiSelections"]:[]],filters:[{name:typeof r=="string"&&r.length?r:i?"Select files":"Select file",extensions:n}]});return o.canceled||(s=(Array.isArray(o.filePaths)?o.filePaths:[]).map(a=>{if(Jt.existsSync(a))try{return{path:a,name:Hb.basename(a),size:Jt.statSync(a).size}}catch{}return null}).filter(a=>a!==null)),s});q(this,"sendRequest",async(r,n="GET",i={},s={},o=!0,a=60,l=!0)=>{n=typeof n=="string"?n.replace(/[^a-z]+/i,"").toUpperCase():"",["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","TRACE","PATCH"].includes(n)||(n="GET"),(typeof i!="object"||i===null)&&(i={}),(typeof s!="object"||s===null)&&(s={});let c=new AbortController,f=setTimeout(()=>c.abort("Request timed out after ".concat(a,"s")),a*1e3);try{let u={method:n,headers:{...o?{"content-type":"application/json"}:{},...s},signal:c.signal,priority:"high",redirect:"follow"};Object.keys(i).length&&(u.body=JSON.stringify(i));let d=await fetch(r,u);return!l&&d.body?.cancel?.(),{ok:d.ok,status:d.status,headers:Object.fromEntries(d.headers.entries()),data:l?o?await d.json():await d.text():null}}catch(u){throw new Error("".concat(u.message??u))}finally{clearTimeout(f)}});q(this,"openURL",r=>{let n=!1;if(this._dos.main.getPassThru()||this._dos.main.setPassThru(!0),typeof r=="string"&&r.length)try{r=new URL(r).href,Bb.openExternal(r),n=!0}catch{}return n});q(this,"logError",(r,n="")=>{let i=!1,s=gU.getPathConfig();Jt.existsSync(s)||Jt.mkdirSync(s,{recursive:!0});let o=Hb.join(s,"errors.yaml");try{let a={[new Date]:"".concat(r?.stack??r).concat(n?"\n".concat(n):"").trim()};Jt.writeFileSync(o,pU(a)+"\n",{flag:"a",encoding:"utf8"}),i=!0}catch{}return i});this._register("device")}async killPort(r,n="tcp"){return r=parseInt(r,10),!Number.isInteger(r)||r<0||r>65535?!1:(["tcp","udp"].includes(n)||(n="tcp"),process.platform==="win32"?oe(this,Pr,os).call(this,"netstat -nao").then(i=>{if(!i?.stdout)return!1;let s=new RegExp("^ *".concat(n.toUpperCase()," *[^ ]*:").concat(r,"[^d]"),"gm"),o=i.stdout.split("\n").filter(a=>a.match(s)).reduce((a,l)=>{let c=l.match(/(\d*)\w*(\n|$)/gm);return c&&c[0]&&!a.includes(c[0])?a.concat(c[0]):a},[]);return o.length?oe(this,Pr,os).call(this,"TaskKill /F /PID ".concat(o.join(" /PID "))):!1}):oe(this,Pr,os).call(this,"lsof -i -P").then(i=>{if(!i?.stdout)return!1;let s=new RegExp(":".concat(r,"[^d]"),"g");return i.stdout.split("\n").filter(o=>o.match(s)).length===0?!1:oe(this,Pr,os).call(this,"lsof -i ".concat(n==="udp"?"udp":"tcp",":").concat(r," | grep ").concat(n==="udp"?"UDP":"LISTEN"," | awk '{print $2}' | xargs kill -9"))}))}},On=new WeakMap,In=new WeakMap,Pn=new WeakMap,Zt=new WeakMap,Pr=new WeakSet,os=async function(r,n={}){let i=Array.isArray(r)?r.join(";"):r;(typeof n!="object"||n===null)&&(n={});let s={...n,stdio:"pipe",cwd:process.cwd()},{platform:o}=process;try{let c=hU(o==="win32"?"cmd":"sh",[o==="win32"?"/C":"-c",i],s);return new Promise(f=>{let u=[],d=[];c.stdout&&c.stdout.on("data",w=>{if(Buffer.isBuffer(w))return u.push(w.toString());u.push(w)}),c.stderr&&c.stderr.on("data",w=>{if(Buffer.isBuffer(w))return d.push(w.toString());d.push(JSON.stringify(w))});let p=()=>{let w=d.join("\n");return{stdout:u.join("\n"),stderr:w,cmd:i}};c.on("error",w=>f({...p(),error:w})),c.on("close",w=>f({...p(),code:w}))})}catch(a){return Promise.reject(a)}},Vb)});var zb=y((_H,Qb)=>{var{session:yU,ipcMain:AU,WebContentsView:_d}=require("electron"),wU=require("path"),Yb=Ln(),EU=Ci(),Ka,Kb;Qb.exports=(Kb=class extends EU{constructor(r){super(r);q(this,"windowWidth");q(this,"windowHeight");q(this,"view",null);q(this,"darkMode",!0);V(this,Ka,()=>this.view instanceof _d?(this.view.setBounds({x:0,y:0,width:this.windowWidth,height:this.windowHeight}),!0):!1);q(this,"init",()=>this.view instanceof _d?!1:(this.windowWidth=this._dos.config.getMainLoginWidth(),this.windowHeight=this._dos.config.getMainLoginHeight(),this.view=new _d({width:this.windowWidth,height:this.windowHeight,backgroundColor:"#00000000",resizable:!1,webPreferences:{transparent:!0,backgroundThrottling:!1,imageAnimationPolicy:"noAnimation",spellcheck:!1,preload:wU.join(this._dos.rootPath,"lib/preloader/entry/main.js"),nodeIntegration:!0,devTools:!1,session:yU.defaultSession,cache:!1,webSecurity:!1,allowRunningInsecureContent:!0,additionalArguments:["--win-type=main/login"]}}),this.view.webContents.setBackgroundThrottling(!1),this.view.webContents.on("ready-to-show",()=>this.view.webContents.setZoomFactor(1)),this.view.webContents.setZoomLevel(0),this.view.webContents.setAudioMuted(!1),this.view.webContents.loadURL("http://localhost:".concat(this._dos.config.getSsgPort(),"/login/")),this.view.webContents.on("dom-ready",()=>this.view.webContents.focus()),AU.on(Yb.WINDOW_MAIN_LOGIN,(r,...n)=>{n.length>=3&&this.view.webContents?.send(Yb.WINDOW_MAIN_LOGIN,n)}),this._dos.mainLoginWindow().contentView.addChildView(this.view),T(this,Ka).call(this),!0));q(this,"focus",()=>{let r=typeof this.view?.webContents?.focus=="function";return r&&!this.view?.webContents?.isFocused()&&this.view?.webContents?.focus(),r});this._register("main/login")}},Ka=new WeakMap,Kb)});var eS=y((NH,Zb)=>{var{app:Cd,screen:Td,session:vU,ipcMain:bU,WebContentsView:Xb,nativeTheme:SU}=require("electron"),_U=require("path"),Nd=Ln(),CU=zb(),TU=Ci(),as,er,Dr,qr,tr,Dn,ls,Jb;Zb.exports=(Jb=class extends TU{constructor(r){super(r);V(this,as,null);V(this,er,!1);V(this,Dr,!0);V(this,qr,null);V(this,tr,{x:0,y:0,width:1,height:1});q(this,"view",null);q(this,"login",null);V(this,Dn,(r,n)=>{this._dos.main?.view.webContents?.send(Nd.WINDOW_MAIN,[r,n,{type:"req"}])});V(this,ls,(r,n=!1)=>{let i=!1;do{if(!Number.isInteger(r?.id)||!Number.isInteger(r?.workArea.x)||!Number.isInteger(r?.workArea.y))break;let s=Td.getAllDisplays()||[];s.sort((a,l)=>a.workArea.x-l.workArea.x);let o=s.findIndex(a=>a.id===r.id);if(setTimeout(()=>{T(this,Dn).call(this,"ipc:main:active-display",[{id:r.id,workArea:r.workArea,index:o,total:s.length,onPassThru:n,passThru:T(this,er)}])},50),T(this,qr)===r.id&&T(this,tr).x===r.workArea.x&&T(this,tr).y===r.workArea.y&&T(this,tr).width===r.workArea.width&&T(this,tr).height===r.workArea.height)break;H(this,qr,r.id),H(this,tr,r.workArea),this._dos.mainWindow().setBounds({x:r.workArea.x+1,y:r.workArea.y+1,width:r.workArea.width-2,height:r.workArea.height-2}),this._dos.main.view.setBounds(this._dos.mainWindow().contentView.getBounds()),i=!0}while(!1);return i});q(this,"refreshDisplay",(r=!1)=>{this._dos.activity.refreshTray();let n=this._dos.mainWindow()?.getBounds()??{x:1,y:1,width:1,height:1};return T(this,ls).call(this,Td.getDisplayMatching(n),r)});q(this,"switchDisplay",(r=!0)=>{let n=Td.getAllDisplays();if(!Array.isArray(n)||n.length<1||!Number.isInteger(n[0]?.workArea.x))return!1;n.sort((o,a)=>o.workArea.x-a.workArea.x);let s=(Number.isInteger(T(this,qr))?n.findIndex(o=>o.id===T(this,qr)):-1)+(r?1:-1);return s<0&&(s=n.length-1),s>=n.length&&(s=0),T(this,ls).call(this,n[s])});q(this,"init",()=>this.view instanceof Xb?!1:(this.view=new Xb({resizable:!1,backgroundColor:"#00000000",webPreferences:{transparent:!0,preload:_U.join(this._dos.rootPath,"lib/preloader/entry/main.js"),imageAnimationPolicy:"noAnimation",allowRunningInsecureContent:!0,session:vU.defaultSession,devTools:!1,backgroundThrottling:!1,nodeIntegration:!0,webSecurity:!1,spellcheck:!1,cache:!1}}),this.view.webContents.setBackgroundThrottling(!1),this.view.webContents.on("ready-to-show",()=>{this.view.webContents.setZoomFactor(1),this.view.webContents.setVisualZoomLevelLimits(1,1)}),this.view.webContents.setZoomLevel(0),this.view.webContents.setAudioMuted(!1),this.view.webContents.loadURL("http://localhost:".concat(this._dos.config.getSsgPort(),"/")),this.view.webContents.on("dom-ready",()=>{setTimeout(()=>Cd.focus({steal:!0}),100),setTimeout(()=>this._dos.mainWindow().focus(),150),setTimeout(()=>this.focus(),200)}),this.view.webContents.on("page-title-updated",(r,n)=>{this._dos.mainWindow().setTitle(n)}),bU.on(Nd.WINDOW_MAIN,(r,...n)=>{n.length>=3&&this.view.webContents?.send(Nd.WINDOW_MAIN,n)}),this._dos.mainWindow().contentView.addChildView(this.view),!0));q(this,"focus",()=>{let r=typeof this.view?.webContents?.focus=="function";return r&&this.view?.webContents?.focus(),r});q(this,"quit",()=>Cd.quit());q(this,"getProcessVersions",()=>process.versions);q(this,"getDarkMode",()=>T(this,as));q(this,"setDarkMode",r=>{let n=!1;return r=!!r,this.getDarkMode()!==r&&(H(this,as,r),SU.themeSource=r?"dark":"light",n=!0),n});q(this,"getPassThru",()=>T(this,er));q(this,"setPassThru",(r=!0)=>{r=!!r;let n=T(this,er)!==r;return H(this,er,r),T(this,er)?(this._dos.mainWindow().setIgnoreMouseEvents(!0,{forward:!0}),setTimeout(()=>this._dos.mainWindow().blur(),50)):(Cd.focus({steal:!0}),this._dos.mainWindow().setIgnoreMouseEvents(!1),setTimeout(()=>this._dos.mainWindow().focus(),100),setTimeout(()=>this.focus(),200)),this.refreshDisplay(!0),n});q(this,"getToolbar",()=>T(this,Dr));q(this,"setToolbar",r=>{r=!!r;let n=T(this,Dr)!==r;return H(this,Dr,r),T(this,Dn).call(this,"ipc:main:toolbar",[T(this,Dr)]),this._dos.activity.refreshTray(),n});q(this,"showDialog",r=>typeof r!="string"||!r.length?!1:(this.setPassThru(!1),T(this,Dn).call(this,"ipc:main:dialog",[r]),!0));this._register("main"),this.login=new CU(r)}},as=new WeakMap,er=new WeakMap,Dr=new WeakMap,qr=new WeakMap,tr=new WeakMap,Dn=new WeakMap,ls=new WeakMap,Jb)});var aS=y((PH,oS)=>{var{app:Od,session:Qa,BrowserWindow:tS,powerSaveBlocker:rS}=require("electron"),nS=require("path"),iS=Ln(),NU=Ud(),OU=Vd(),IU=Wd(),PU=Kd(),DU=Jw(),qU=Wb(),LU=eS(),Id=kr(),ue,qn,cs,et,sS;oS.exports=(sS=class{constructor(){V(this,ue,null);V(this,qn,null);V(this,cs,!1);V(this,et,null);q(this,"rootPath",Od.getAppPath());q(this,"devMode",!1);q(this,"log",new IU(this));q(this,"webserver",new NU(this));q(this,"activity",new OU(this));q(this,"updater",new DU(this));q(this,"device",new qU(this));q(this,"main",new LU(this));q(this,"config",new PU(this))}mainWindow(){let t=this;if(Qa.defaultSession.setPermissionCheckHandler((r,n,i,s)=>!0),Qa.defaultSession.setPermissionRequestHandler((r,n,i,s)=>{i(!0)}),T(t,ue)===null){H(t,ue,new tS({icon:nS.join(t.rootPath,"res/icons/icon.png"),width:512,height:512,minWidth:512,minHeight:512,show:!1,frame:!1,resizable:!1,hasShadow:!1,alwaysOnTop:!0,transparent:!0,skipTaskbar:!0,type:Id.WINDOWS===process.platform?"toolbar":Id.MACOS===process.platform?"panel":"splash",backgroundColor:"#00000000",webPreferences:{backgroundThrottling:!1,spellcheck:!1,nodeIntegration:!0,session:Qa.defaultSession}})),T(t,ue).webContents.setBackgroundThrottling(!1),T(t,ue).setAlwaysOnTop(!0,Id.WINDOWS===process.platform?"screen-saver":"status"),T(t,ue).setMaxListeners(0),T(t,ue).on("closed",()=>{H(t,ue,null),T(t,qn)!==null&&rS.stop(T(t,qn)),Od.quit()});let r=()=>{t.main.view.setBounds(T(t,ue).contentView.getBounds())};T(t,ue).on("resize",()=>r()),T(t,ue).once("ready-to-show",()=>r()),T(t,ue).setMovable(!1),T(t,ue).setResizable(!1),T(t,ue).setMaximizable(!1),T(t,ue).setMinimizable(!1),t.main.init(),t.main.view.webContents.on("did-finish-load",()=>{t.getPostAuth()&&T(t,ue).show(),r()}),T(t,ue).setMenu(null),H(t,qn,rS.start("prevent-app-suspension"))}return T(t,ue)}mainLoginWindow(){let t=this;return T(t,et)===null&&(H(t,et,new tS({width:t.config.getMainLoginWidth(),height:t.config.getMainLoginHeight(),icon:nS.join(t.rootPath,"res/icons/icon.png"),resizable:!1,fullscreenable:!1,transparent:!0,titleBarStyle:"hidden",title:"Draw on Screen",backgroundColor:"#00000000",webPreferences:{backgroundThrottling:!1,spellcheck:!1,nodeIntegration:!0,session:Qa.defaultSession}})),T(t,et).webContents.setBackgroundThrottling(!1),T(t,et).setMaxListeners(0),T(t,et).on("closed",()=>{H(t,et,null),Od.quit()}),t.main?.login?.init(),t.main?.login?.view.webContents.on("did-finish-load",()=>{t.getPostAuth()||T(t,et).show()}),T(t,et).setMenu(null)),T(t,et)}getPostAuth(){return T(this,cs)}setPostAuth(t){let r=!1;if(t=!!t,t!==this.getPostAuth()){H(this,cs,t);let n=["ipc:dos:auth",[t],{type:"req",fromWin:iS.WINDOW_MAIN_LOGIN}];this.main?.login?.view.webContents?.send(iS.WINDOW_MAIN_LOGIN,n),t?(this.mainWindow().show(),this.main.view.webContents.reload(),this.mainLoginWindow().hide()):(this.mainWindow().hide(),this.mainLoginWindow().show()),r=!0}return r}},ue=new WeakMap,qn=new WeakMap,cs=new WeakMap,et=new WeakMap,sS)});var{app:Ve,BrowserWindow:xU,globalShortcut:RU}=require("electron"),kU=aS();Ve.commandLine.appendSwitch("disable-backgrounding-occluded-windows");Ve.commandLine.appendSwitch("disable-background-timer-throttling");Ve.commandLine.appendSwitch("disable-renderer-backgrounding");Ve.commandLine.appendSwitch("allow-insecure-localhost");Ve.commandLine.appendSwitch("disable-raf-throttling");process.env.ELECTRON_DISABLE_SECURITY_WARNINGS="true";var Ke=null;do{if(!Ve.requestSingleInstanceLock()){Ve.quit();break}Ve.setName("Draw on Screen"),Ve.on("second-instance",()=>{if(Ke!==null){let e=Ke.getPostAuth()?Ke.mainWindow():Ke.mainLoginWindow();e.isMinimized()&&(e.restore(),e.webContents?.invalidate()),e.show()}}),Ve.on("ready",async()=>{Ke=new kU,process.on("uncaughtException",e=>{Ke.devMode&&console.error(e),Ke.device.logError(e)}),process.on("unhandledRejection",e=>{Ke.devMode&&console.error(e),Ke.device.logError(e)}),Ve.on("activate",()=>{xU.getAllWindows().length===0&&Ke.activity.start()}),await Ke.webserver.start(),await Ke.activity.start(),await Ke.updater.start()}),Ve.on("window-all-closed",()=>{process.platform!=="darwin"&&Ve.quit()}),Ve.on("will-quit",()=>{RU.unregisterAll()})}while(!1);
